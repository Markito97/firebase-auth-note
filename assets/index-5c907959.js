function IP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function kP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var IS={exports:{}},Th={},kS={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),xP=Symbol.for("react.portal"),AP=Symbol.for("react.fragment"),PP=Symbol.for("react.strict_mode"),RP=Symbol.for("react.profiler"),DP=Symbol.for("react.provider"),bP=Symbol.for("react.context"),NP=Symbol.for("react.forward_ref"),OP=Symbol.for("react.suspense"),LP=Symbol.for("react.memo"),MP=Symbol.for("react.lazy"),n0=Symbol.iterator;function $P(t){return t===null||typeof t!="object"?null:(t=n0&&t[n0]||t["@@iterator"],typeof t=="function"?t:null)}var xS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AS=Object.assign,PS={};function No(t,e,n){this.props=t,this.context=e,this.refs=PS,this.updater=n||xS}No.prototype.isReactComponent={};No.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};No.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RS(){}RS.prototype=No.prototype;function fg(t,e,n){this.props=t,this.context=e,this.refs=PS,this.updater=n||xS}var dg=fg.prototype=new RS;dg.constructor=fg;AS(dg,No.prototype);dg.isPureReactComponent=!0;var r0=Array.isArray,DS=Object.prototype.hasOwnProperty,pg={current:null},bS={key:!0,ref:!0,__self:!0,__source:!0};function NS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)DS.call(e,r)&&!bS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:kl,type:t,key:s,ref:o,props:i,_owner:pg.current}}function VP(t,e){return{$$typeof:kl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mg(t){return typeof t=="object"&&t!==null&&t.$$typeof===kl}function FP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var i0=/\/+/g;function Jf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FP(""+t.key):e.toString(36)}function Uu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kl:case xP:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Jf(o,0):r,r0(i)?(n="",t!=null&&(n=t.replace(i0,"$&/")+"/"),Uu(i,e,n,"",function(u){return u})):i!=null&&(mg(i)&&(i=VP(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(i0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",r0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Jf(s,a);o+=Uu(s,e,n,l,i)}else if(l=$P(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Jf(s,a++),o+=Uu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cu(t,e,n){if(t==null)return t;var r=[],i=0;return Uu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qt={current:null},ju={transition:null},jP={ReactCurrentDispatcher:Qt,ReactCurrentBatchConfig:ju,ReactCurrentOwner:pg};ye.Children={map:cu,forEach:function(t,e,n){cu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cu(t,function(){e++}),e},toArray:function(t){return cu(t,function(e){return e})||[]},only:function(t){if(!mg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=No;ye.Fragment=AP;ye.Profiler=RP;ye.PureComponent=fg;ye.StrictMode=PP;ye.Suspense=OP;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jP;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=AS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=pg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)DS.call(e,l)&&!bS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:kl,type:t.type,key:i,ref:s,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:bP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DP,_context:t},t.Consumer=t};ye.createElement=NS;ye.createFactory=function(t){var e=NS.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:NP,render:t}};ye.isValidElement=mg;ye.lazy=function(t){return{$$typeof:MP,_payload:{_status:-1,_result:t},_init:UP}};ye.memo=function(t,e){return{$$typeof:LP,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=ju.transition;ju.transition={};try{t()}finally{ju.transition=e}};ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ye.useCallback=function(t,e){return Qt.current.useCallback(t,e)};ye.useContext=function(t){return Qt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Qt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Qt.current.useEffect(t,e)};ye.useId=function(){return Qt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Qt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Qt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Qt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Qt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Qt.current.useReducer(t,e,n)};ye.useRef=function(t){return Qt.current.useRef(t)};ye.useState=function(t){return Qt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Qt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Qt.current.useTransition()};ye.version="18.2.0";kS.exports=ye;var x=kS.exports;const je=kP(x),gp=IP({__proto__:null,default:je},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=x,zP=Symbol.for("react.element"),HP=Symbol.for("react.fragment"),WP=Object.prototype.hasOwnProperty,KP=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qP={key:!0,ref:!0,__self:!0,__source:!0};function OS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WP.call(e,r)&&!qP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zP,type:t,key:s,ref:o,props:i,_owner:KP.current}}Th.Fragment=HP;Th.jsx=OS;Th.jsxs=OS;IS.exports=Th;var j=IS.exports,yp={},LS={exports:{}},dn={},MS={exports:{}},$S={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,ee){var z=M.length;M.push(ee);e:for(;0<z;){var Z=z-1>>>1,Ie=M[Z];if(0<i(Ie,ee))M[Z]=ee,M[z]=Ie,z=Z;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var ee=M[0],z=M.pop();if(z!==ee){M[0]=z;e:for(var Z=0,Ie=M.length,xn=Ie>>>1;Z<xn;){var Ye=2*(Z+1)-1,Bn=M[Ye],st=Ye+1,Xt=M[st];if(0>i(Bn,z))st<Ie&&0>i(Xt,Bn)?(M[Z]=Xt,M[st]=z,Z=st):(M[Z]=Bn,M[Ye]=z,Z=Ye);else if(st<Ie&&0>i(Xt,z))M[Z]=Xt,M[st]=z,Z=st;else break e}}return ee}function i(M,ee){var z=M.sortIndex-ee.sortIndex;return z!==0?z:M.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,d=!1,m=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(M){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=M)r(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(u)}}function E(M){if(w=!1,g(M),!m)if(n(l)!==null)m=!0,Ce(T);else{var ee=n(u);ee!==null&&Be(E,ee.startTime-M)}}function T(M,ee){m=!1,w&&(w=!1,y(C),C=-1),d=!0;var z=f;try{for(g(ee),h=n(l);h!==null&&(!(h.expirationTime>ee)||M&&!he());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var Ie=Z(h.expirationTime<=ee);ee=t.unstable_now(),typeof Ie=="function"?h.callback=Ie:h===n(l)&&r(l),g(ee)}else r(l);h=n(l)}if(h!==null)var xn=!0;else{var Ye=n(u);Ye!==null&&Be(E,Ye.startTime-ee),xn=!1}return xn}finally{h=null,f=z,d=!1}}var P=!1,A=null,C=-1,V=5,$=-1;function he(){return!(t.unstable_now()-$<V)}function ne(){if(A!==null){var M=t.unstable_now();$=M;var ee=!0;try{ee=A(!0,M)}finally{ee?X():(P=!1,A=null)}}else P=!1}var X;if(typeof p=="function")X=function(){p(ne)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,le=te.port2;te.port1.onmessage=ne,X=function(){le.postMessage(null)}}else X=function(){v(ne,0)};function Ce(M){A=M,P||(P=!0,X())}function Be(M,ee){C=v(function(){M(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,Ce(T))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var ee=3;break;default:ee=f}var z=f;f=ee;try{return M()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,ee){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=f;f=M;try{return ee()}finally{f=z}},t.unstable_scheduleCallback=function(M,ee,z){var Z=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Z+z:Z):z=Z,M){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=z+Ie,M={id:c++,callback:ee,priorityLevel:M,startTime:z,expirationTime:Ie,sortIndex:-1},z>Z?(M.sortIndex=z,e(u,M),n(l)===null&&M===n(u)&&(w?(y(C),C=-1):w=!0,Be(E,z-Z))):(M.sortIndex=Ie,e(l,M),m||d||(m=!0,Ce(T))),M},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(M){var ee=f;return function(){var z=f;f=ee;try{return M.apply(this,arguments)}finally{f=z}}}})($S);MS.exports=$S;var GP=MS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VS=x,ln=GP;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var FS=new Set,Ua={};function vs(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(Ua[t]=e,t=0;t<e.length;t++)FS.add(e[t])}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vp=Object.prototype.hasOwnProperty,QP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s0={},o0={};function YP(t){return vp.call(o0,t)?!0:vp.call(s0,t)?!1:QP.test(t)?o0[t]=!0:(s0[t]=!0,!1)}function XP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JP(t,e,n,r){if(e===null||typeof e>"u"||XP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gg=/[\-:]([a-z])/g;function yg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gg,yg);xt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gg,yg);xt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gg,yg);xt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vg(t,e,n,r){var i=xt.hasOwnProperty(e)?xt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JP(e,n,i,r)&&(n=null),r||i===null?YP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Or=VS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),bs=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),wp=Symbol.for("react.profiler"),US=Symbol.for("react.provider"),jS=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Sp=Symbol.for("react.suspense_list"),Sg=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),BS=Symbol.for("react.offscreen"),a0=Symbol.iterator;function Qo(t){return t===null||typeof t!="object"?null:(t=a0&&t[a0]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Zf;function ua(t){if(Zf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zf=e&&e[1]||""}return`
`+Zf+t}var ed=!1;function td(t,e){if(!t||ed)return"";ed=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ed=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ua(t):""}function ZP(t){switch(t.tag){case 5:return ua(t.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 2:case 15:return t=td(t.type,!1),t;case 11:return t=td(t.type.render,!1),t;case 1:return t=td(t.type,!0),t;default:return""}}function Tp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ns:return"Fragment";case bs:return"Portal";case wp:return"Profiler";case wg:return"StrictMode";case Ep:return"Suspense";case Sp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jS:return(t.displayName||"Context")+".Consumer";case US:return(t._context.displayName||"Context")+".Provider";case Eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sg:return e=t.displayName||null,e!==null?e:Tp(t.type)||"Memo";case Br:e=t._payload,t=t._init;try{return Tp(t(e))}catch{}}return null}function eR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tp(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tR(t){var e=zS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fu(t){t._valueTracker||(t._valueTracker=tR(t))}function HS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function uc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _p(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function l0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WS(t,e){e=e.checked,e!=null&&vg(t,"checked",e,!1)}function Cp(t,e){WS(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ip(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ip(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function u0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ip(t,e,n){(e!=="number"||uc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ca=Array.isArray;function Xs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function c0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(ca(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function KS(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function h0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var du,GS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(du=du||document.createElement("div"),du.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=du.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ja(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nR=["Webkit","ms","Moz","O"];Object.keys(va).forEach(function(t){nR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),va[e]=va[t]})});function QS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||va.hasOwnProperty(t)&&va[t]?(""+e).trim():e+"px"}function YS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=QS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rR=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ap(t,e){if(e){if(rR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Pp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=null;function Tg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Dp=null,Js=null,Zs=null;function f0(t){if(t=Pl(t)){if(typeof Dp!="function")throw Error(N(280));var e=t.stateNode;e&&(e=xh(e),Dp(t.stateNode,t.type,e))}}function XS(t){Js?Zs?Zs.push(t):Zs=[t]:Js=t}function JS(){if(Js){var t=Js,e=Zs;if(Zs=Js=null,f0(t),e)for(t=0;t<e.length;t++)f0(e[t])}}function ZS(t,e){return t(e)}function eT(){}var nd=!1;function tT(t,e,n){if(nd)return t(e,n);nd=!0;try{return ZS(t,e,n)}finally{nd=!1,(Js!==null||Zs!==null)&&(eT(),JS())}}function Ba(t,e){var n=t.stateNode;if(n===null)return null;var r=xh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var bp=!1;if(_r)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){bp=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{bp=!1}function iR(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wa=!1,cc=null,hc=!1,Np=null,sR={onError:function(t){wa=!0,cc=t}};function oR(t,e,n,r,i,s,o,a,l){wa=!1,cc=null,iR.apply(sR,arguments)}function aR(t,e,n,r,i,s,o,a,l){if(oR.apply(this,arguments),wa){if(wa){var u=cc;wa=!1,cc=null}else throw Error(N(198));hc||(hc=!0,Np=u)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function d0(t){if(ws(t)!==t)throw Error(N(188))}function lR(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return d0(i),t;if(s===r)return d0(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function rT(t){return t=lR(t),t!==null?iT(t):null}function iT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=iT(t);if(e!==null)return e;t=t.sibling}return null}var sT=ln.unstable_scheduleCallback,p0=ln.unstable_cancelCallback,uR=ln.unstable_shouldYield,cR=ln.unstable_requestPaint,Je=ln.unstable_now,hR=ln.unstable_getCurrentPriorityLevel,_g=ln.unstable_ImmediatePriority,oT=ln.unstable_UserBlockingPriority,fc=ln.unstable_NormalPriority,fR=ln.unstable_LowPriority,aT=ln.unstable_IdlePriority,_h=null,Yn=null;function dR(t){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(_h,t,void 0,(t.current.flags&128)===128)}catch{}}var Vn=Math.clz32?Math.clz32:gR,pR=Math.log,mR=Math.LN2;function gR(t){return t>>>=0,t===0?32:31-(pR(t)/mR|0)|0}var pu=64,mu=4194304;function ha(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ha(a):(s&=o,s!==0&&(r=ha(s)))}else o=n&~i,o!==0?r=ha(o):s!==0&&(r=ha(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vn(e),i=1<<n,r|=t[n],e&=~i;return r}function yR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Vn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Op(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lT(){var t=pu;return pu<<=1,!(pu&4194240)&&(pu=64),t}function rd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vn(e),t[e]=n}function wR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ke=0;function uT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cT,Ig,hT,fT,dT,Lp=!1,gu=[],ei=null,ti=null,ni=null,za=new Map,Ha=new Map,Wr=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function m0(t,e){switch(t){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":za.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ha.delete(e.pointerId)}}function Xo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Pl(e),e!==null&&Ig(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SR(t,e,n,r,i){switch(e){case"focusin":return ei=Xo(ei,t,e,n,r,i),!0;case"dragenter":return ti=Xo(ti,t,e,n,r,i),!0;case"mouseover":return ni=Xo(ni,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return za.set(s,Xo(za.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ha.set(s,Xo(Ha.get(s)||null,t,e,n,r,i)),!0}return!1}function pT(t){var e=ji(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=nT(n),e!==null){t.blockedOn=e,dT(t.priority,function(){hT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rp=r,n.target.dispatchEvent(r),Rp=null}else return e=Pl(n),e!==null&&Ig(e),t.blockedOn=n,!1;e.shift()}return!0}function g0(t,e,n){Bu(t)&&n.delete(e)}function TR(){Lp=!1,ei!==null&&Bu(ei)&&(ei=null),ti!==null&&Bu(ti)&&(ti=null),ni!==null&&Bu(ni)&&(ni=null),za.forEach(g0),Ha.forEach(g0)}function Jo(t,e){t.blockedOn===e&&(t.blockedOn=null,Lp||(Lp=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,TR)))}function Wa(t){function e(i){return Jo(i,t)}if(0<gu.length){Jo(gu[0],t);for(var n=1;n<gu.length;n++){var r=gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ei!==null&&Jo(ei,t),ti!==null&&Jo(ti,t),ni!==null&&Jo(ni,t),za.forEach(e),Ha.forEach(e),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)pT(n),n.blockedOn===null&&Wr.shift()}var eo=Or.ReactCurrentBatchConfig,pc=!0;function _R(t,e,n,r){var i=ke,s=eo.transition;eo.transition=null;try{ke=1,kg(t,e,n,r)}finally{ke=i,eo.transition=s}}function CR(t,e,n,r){var i=ke,s=eo.transition;eo.transition=null;try{ke=4,kg(t,e,n,r)}finally{ke=i,eo.transition=s}}function kg(t,e,n,r){if(pc){var i=Mp(t,e,n,r);if(i===null)dd(t,e,r,mc,n),m0(t,r);else if(SR(i,t,e,n,r))r.stopPropagation();else if(m0(t,r),e&4&&-1<ER.indexOf(t)){for(;i!==null;){var s=Pl(i);if(s!==null&&cT(s),s=Mp(t,e,n,r),s===null&&dd(t,e,r,mc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else dd(t,e,r,null,n)}}var mc=null;function Mp(t,e,n,r){if(mc=null,t=Tg(r),t=ji(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mc=t,null}function mT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hR()){case _g:return 1;case oT:return 4;case fc:case fR:return 16;case aT:return 536870912;default:return 16}default:return 16}}var Xr=null,xg=null,zu=null;function gT(){if(zu)return zu;var t,e=xg,n=e.length,r,i="value"in Xr?Xr.value:Xr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zu=i.slice(t,1<r?1-r:void 0)}function Hu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yu(){return!0}function y0(){return!1}function pn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yu:y0,this.isPropagationStopped=y0,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),e}var Oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ag=pn(Oo),Al=qe({},Oo,{view:0,detail:0}),IR=pn(Al),id,sd,Zo,Ch=qe({},Al,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zo&&(Zo&&t.type==="mousemove"?(id=t.screenX-Zo.screenX,sd=t.screenY-Zo.screenY):sd=id=0,Zo=t),id)},movementY:function(t){return"movementY"in t?t.movementY:sd}}),v0=pn(Ch),kR=qe({},Ch,{dataTransfer:0}),xR=pn(kR),AR=qe({},Al,{relatedTarget:0}),od=pn(AR),PR=qe({},Oo,{animationName:0,elapsedTime:0,pseudoElement:0}),RR=pn(PR),DR=qe({},Oo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bR=pn(DR),NR=qe({},Oo,{data:0}),w0=pn(NR),OR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $R(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MR[t])?!!e[t]:!1}function Pg(){return $R}var VR=qe({},Al,{key:function(t){if(t.key){var e=OR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(t){return t.type==="keypress"?Hu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FR=pn(VR),UR=qe({},Ch,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E0=pn(UR),jR=qe({},Al,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),BR=pn(jR),zR=qe({},Oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HR=pn(zR),WR=qe({},Ch,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),KR=pn(WR),qR=[9,13,27,32],Rg=_r&&"CompositionEvent"in window,Ea=null;_r&&"documentMode"in document&&(Ea=document.documentMode);var GR=_r&&"TextEvent"in window&&!Ea,yT=_r&&(!Rg||Ea&&8<Ea&&11>=Ea),S0=String.fromCharCode(32),T0=!1;function vT(t,e){switch(t){case"keyup":return qR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Os=!1;function QR(t,e){switch(t){case"compositionend":return wT(e);case"keypress":return e.which!==32?null:(T0=!0,S0);case"textInput":return t=e.data,t===S0&&T0?null:t;default:return null}}function YR(t,e){if(Os)return t==="compositionend"||!Rg&&vT(t,e)?(t=gT(),zu=xg=Xr=null,Os=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yT&&e.locale!=="ko"?null:e.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XR[t.type]:e==="textarea"}function ET(t,e,n,r){XS(r),e=gc(e,"onChange"),0<e.length&&(n=new Ag("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sa=null,Ka=null;function JR(t){DT(t,0)}function Ih(t){var e=$s(t);if(HS(e))return t}function ZR(t,e){if(t==="change")return e}var ST=!1;if(_r){var ad;if(_r){var ld="oninput"in document;if(!ld){var C0=document.createElement("div");C0.setAttribute("oninput","return;"),ld=typeof C0.oninput=="function"}ad=ld}else ad=!1;ST=ad&&(!document.documentMode||9<document.documentMode)}function I0(){Sa&&(Sa.detachEvent("onpropertychange",TT),Ka=Sa=null)}function TT(t){if(t.propertyName==="value"&&Ih(Ka)){var e=[];ET(e,Ka,t,Tg(t)),tT(JR,e)}}function eD(t,e,n){t==="focusin"?(I0(),Sa=e,Ka=n,Sa.attachEvent("onpropertychange",TT)):t==="focusout"&&I0()}function tD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ih(Ka)}function nD(t,e){if(t==="click")return Ih(e)}function rD(t,e){if(t==="input"||t==="change")return Ih(e)}function iD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:iD;function qa(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vp.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function k0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var n=k0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k0(n)}}function _T(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_T(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CT(){for(var t=window,e=uc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=uc(t.document)}return e}function Dg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sD(t){var e=CT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_T(n.ownerDocument.documentElement,n)){if(r!==null&&Dg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=x0(n,s);var o=x0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oD=_r&&"documentMode"in document&&11>=document.documentMode,Ls=null,$p=null,Ta=null,Vp=!1;function A0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vp||Ls==null||Ls!==uc(r)||(r=Ls,"selectionStart"in r&&Dg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ta&&qa(Ta,r)||(Ta=r,r=gc($p,"onSelect"),0<r.length&&(e=new Ag("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ls)))}function vu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ms={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionend:vu("Transition","TransitionEnd")},ud={},IT={};_r&&(IT=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function kh(t){if(ud[t])return ud[t];if(!Ms[t])return t;var e=Ms[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IT)return ud[t]=e[n];return t}var kT=kh("animationend"),xT=kh("animationiteration"),AT=kh("animationstart"),PT=kh("transitionend"),RT=new Map,P0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ii(t,e){RT.set(t,e),vs(e,[t])}for(var cd=0;cd<P0.length;cd++){var hd=P0[cd],aD=hd.toLowerCase(),lD=hd[0].toUpperCase()+hd.slice(1);Ii(aD,"on"+lD)}Ii(kT,"onAnimationEnd");Ii(xT,"onAnimationIteration");Ii(AT,"onAnimationStart");Ii("dblclick","onDoubleClick");Ii("focusin","onFocus");Ii("focusout","onBlur");Ii(PT,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uD=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function R0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aR(r,e,void 0,t),t.currentTarget=null}function DT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;R0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;R0(i,a,u),s=l}}}if(hc)throw t=Np,hc=!1,Np=null,t}function Oe(t,e){var n=e[zp];n===void 0&&(n=e[zp]=new Set);var r=t+"__bubble";n.has(r)||(bT(e,t,2,!1),n.add(r))}function fd(t,e,n){var r=0;e&&(r|=4),bT(n,t,r,e)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Ga(t){if(!t[wu]){t[wu]=!0,FS.forEach(function(n){n!=="selectionchange"&&(uD.has(n)||fd(n,!1,t),fd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wu]||(e[wu]=!0,fd("selectionchange",!1,e))}}function bT(t,e,n,r){switch(mT(e)){case 1:var i=_R;break;case 4:i=CR;break;default:i=kg}n=i.bind(null,e,n,t),i=void 0,!bp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function dd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tT(function(){var u=s,c=Tg(n),h=[];e:{var f=RT.get(t);if(f!==void 0){var d=Ag,m=t;switch(t){case"keypress":if(Hu(n)===0)break e;case"keydown":case"keyup":d=FR;break;case"focusin":m="focus",d=od;break;case"focusout":m="blur",d=od;break;case"beforeblur":case"afterblur":d=od;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=v0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=BR;break;case kT:case xT:case AT:d=RR;break;case PT:d=HR;break;case"scroll":d=IR;break;case"wheel":d=KR;break;case"copy":case"cut":case"paste":d=bR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=E0}var w=(e&4)!==0,v=!w&&t==="scroll",y=w?f!==null?f+"Capture":null:f;w=[];for(var p=u,g;p!==null;){g=p;var E=g.stateNode;if(g.tag===5&&E!==null&&(g=E,y!==null&&(E=Ba(p,y),E!=null&&w.push(Qa(p,E,g)))),v)break;p=p.return}0<w.length&&(f=new d(f,m,null,n,c),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==Rp&&(m=n.relatedTarget||n.fromElement)&&(ji(m)||m[Cr]))break e;if((d||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=u,m=m?ji(m):null,m!==null&&(v=ws(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(w=v0,E="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=E0,E="onPointerLeave",y="onPointerEnter",p="pointer"),v=d==null?f:$s(d),g=m==null?f:$s(m),f=new w(E,p+"leave",d,n,c),f.target=v,f.relatedTarget=g,E=null,ji(c)===u&&(w=new w(y,p+"enter",m,n,c),w.target=g,w.relatedTarget=v,E=w),v=E,d&&m)t:{for(w=d,y=m,p=0,g=w;g;g=As(g))p++;for(g=0,E=y;E;E=As(E))g++;for(;0<p-g;)w=As(w),p--;for(;0<g-p;)y=As(y),g--;for(;p--;){if(w===y||y!==null&&w===y.alternate)break t;w=As(w),y=As(y)}w=null}else w=null;d!==null&&D0(h,f,d,w,!1),m!==null&&v!==null&&D0(h,v,m,w,!0)}}e:{if(f=u?$s(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var T=ZR;else if(_0(f))if(ST)T=rD;else{T=tD;var P=eD}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=nD);if(T&&(T=T(t,u))){ET(h,T,n,c);break e}P&&P(t,f,u),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&Ip(f,"number",f.value)}switch(P=u?$s(u):window,t){case"focusin":(_0(P)||P.contentEditable==="true")&&(Ls=P,$p=u,Ta=null);break;case"focusout":Ta=$p=Ls=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,A0(h,n,c);break;case"selectionchange":if(oD)break;case"keydown":case"keyup":A0(h,n,c)}var A;if(Rg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Os?vT(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(yT&&n.locale!=="ko"&&(Os||C!=="onCompositionStart"?C==="onCompositionEnd"&&Os&&(A=gT()):(Xr=c,xg="value"in Xr?Xr.value:Xr.textContent,Os=!0)),P=gc(u,C),0<P.length&&(C=new w0(C,t,null,n,c),h.push({event:C,listeners:P}),A?C.data=A:(A=wT(n),A!==null&&(C.data=A)))),(A=GR?QR(t,n):YR(t,n))&&(u=gc(u,"onBeforeInput"),0<u.length&&(c=new w0("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}DT(h,e)})}function Qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ba(t,n),s!=null&&r.unshift(Qa(t,s,i)),s=Ba(t,e),s!=null&&r.push(Qa(t,s,i))),t=t.return}return r}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function D0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ba(n,s),l!=null&&o.unshift(Qa(n,l,a))):i||(l=Ba(n,s),l!=null&&o.push(Qa(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cD=/\r\n?/g,hD=/\u0000|\uFFFD/g;function b0(t){return(typeof t=="string"?t:""+t).replace(cD,`
`).replace(hD,"")}function Eu(t,e,n){if(e=b0(e),b0(t)!==e&&n)throw Error(N(425))}function yc(){}var Fp=null,Up=null;function jp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,fD=typeof clearTimeout=="function"?clearTimeout:void 0,N0=typeof Promise=="function"?Promise:void 0,dD=typeof queueMicrotask=="function"?queueMicrotask:typeof N0<"u"?function(t){return N0.resolve(null).then(t).catch(pD)}:Bp;function pD(t){setTimeout(function(){throw t})}function pd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wa(e)}function ri(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function O0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Lo,Ya="__reactProps$"+Lo,Cr="__reactContainer$"+Lo,zp="__reactEvents$"+Lo,mD="__reactListeners$"+Lo,gD="__reactHandles$"+Lo;function ji(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Cr]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=O0(t);t!==null;){if(n=t[qn])return n;t=O0(t)}return e}t=n,n=t.parentNode}return null}function Pl(t){return t=t[qn]||t[Cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function xh(t){return t[Ya]||null}var Hp=[],Vs=-1;function ki(t){return{current:t}}function Me(t){0>Vs||(t.current=Hp[Vs],Hp[Vs]=null,Vs--)}function De(t,e){Vs++,Hp[Vs]=t.current,t.current=e}var vi={},jt=ki(vi),en=ki(!1),rs=vi;function po(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function tn(t){return t=t.childContextTypes,t!=null}function vc(){Me(en),Me(jt)}function L0(t,e,n){if(jt.current!==vi)throw Error(N(168));De(jt,e),De(en,n)}function NT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,eR(t)||"Unknown",i));return qe({},n,r)}function wc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,rs=jt.current,De(jt,t),De(en,en.current),!0}function M0(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=NT(t,e,rs),r.__reactInternalMemoizedMergedChildContext=t,Me(en),Me(jt),De(jt,t)):Me(en),De(en,n)}var hr=null,Ah=!1,md=!1;function OT(t){hr===null?hr=[t]:hr.push(t)}function yD(t){Ah=!0,OT(t)}function xi(){if(!md&&hr!==null){md=!0;var t=0,e=ke;try{var n=hr;for(ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hr=null,Ah=!1}catch(i){throw hr!==null&&(hr=hr.slice(t+1)),sT(_g,xi),i}finally{ke=e,md=!1}}return null}var Fs=[],Us=0,Ec=null,Sc=0,vn=[],wn=0,is=null,pr=1,mr="";function Li(t,e){Fs[Us++]=Sc,Fs[Us++]=Ec,Ec=t,Sc=e}function LT(t,e,n){vn[wn++]=pr,vn[wn++]=mr,vn[wn++]=is,is=t;var r=pr;t=mr;var i=32-Vn(r)-1;r&=~(1<<i),n+=1;var s=32-Vn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pr=1<<32-Vn(e)+i|n<<i|r,mr=s+t}else pr=1<<s|n<<i|r,mr=t}function bg(t){t.return!==null&&(Li(t,1),LT(t,1,0))}function Ng(t){for(;t===Ec;)Ec=Fs[--Us],Fs[Us]=null,Sc=Fs[--Us],Fs[Us]=null;for(;t===is;)is=vn[--wn],vn[wn]=null,mr=vn[--wn],vn[wn]=null,pr=vn[--wn],vn[wn]=null}var an=null,on=null,Fe=!1,On=null;function MT(t,e){var n=Sn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,an=t,on=ri(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,an=t,on=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=is!==null?{id:pr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,an=t,on=null,!0):!1;default:return!1}}function Wp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kp(t){if(Fe){var e=on;if(e){var n=e;if(!$0(t,e)){if(Wp(t))throw Error(N(418));e=ri(n.nextSibling);var r=an;e&&$0(t,e)?MT(r,n):(t.flags=t.flags&-4097|2,Fe=!1,an=t)}}else{if(Wp(t))throw Error(N(418));t.flags=t.flags&-4097|2,Fe=!1,an=t}}}function V0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;an=t}function Su(t){if(t!==an)return!1;if(!Fe)return V0(t),Fe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!jp(t.type,t.memoizedProps)),e&&(e=on)){if(Wp(t))throw $T(),Error(N(418));for(;e;)MT(t,e),e=ri(e.nextSibling)}if(V0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){on=ri(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}on=null}}else on=an?ri(t.stateNode.nextSibling):null;return!0}function $T(){for(var t=on;t;)t=ri(t.nextSibling)}function mo(){on=an=null,Fe=!1}function Og(t){On===null?On=[t]:On.push(t)}var vD=Or.ReactCurrentBatchConfig;function bn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Tc=ki(null),_c=null,js=null,Lg=null;function Mg(){Lg=js=_c=null}function $g(t){var e=Tc.current;Me(Tc),t._currentValue=e}function qp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){_c=t,Lg=js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Zt=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(Lg!==t)if(t={context:t,memoizedValue:e,next:null},js===null){if(_c===null)throw Error(N(308));js=t,_c.dependencies={lanes:0,firstContext:t}}else js=js.next=t;return e}var Bi=null;function Vg(t){Bi===null?Bi=[t]:Bi.push(t)}function VT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vg(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function Fg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Er(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ee&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Vg(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function Wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}function F0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Cc(t,e,n,r){var i=t.updateQueue;zr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,d=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,w=a;switch(f=e,d=n,w.tag){case 1:if(m=w.payload,typeof m=="function"){h=m.call(d,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=w.payload,f=typeof m=="function"?m.call(d,h,f):m,f==null)break e;h=qe({},h,f);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=d,l=h):c=c.next=d,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);os|=o,t.lanes=o,t.memoizedState=h}}function U0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var UT=new VS.Component().refs;function Gp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ph={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=oi(t),s=Er(r,i);s.payload=e,n!=null&&(s.callback=n),e=ii(t,s,i),e!==null&&(Fn(e,t,i,r),Wu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gt(),i=oi(t),s=Er(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ii(t,s,i),e!==null&&(Fn(e,t,i,r),Wu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gt(),r=oi(t),i=Er(n,r);i.tag=2,e!=null&&(i.callback=e),e=ii(t,i,r),e!==null&&(Fn(e,t,r,n),Wu(e,t,r))}};function j0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qa(n,r)||!qa(i,s):!0}function jT(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=Cn(s):(i=tn(e)?rs:jt.current,r=e.contextTypes,s=(r=r!=null)?po(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ph,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function B0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ph.enqueueReplaceState(e,e.state,null)}function Qp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=UT,Fg(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cn(s):(s=tn(e)?rs:jt.current,i.context=po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ph.enqueueReplaceState(i,i.state,null),Cc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ea(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===UT&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Tu(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function z0(t){var e=t._init;return e(t._payload)}function BT(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=ai(y,p),y.index=0,y.sibling=null,y}function s(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,g,E){return p===null||p.tag!==6?(p=Td(g,y.mode,E),p.return=y,p):(p=i(p,g),p.return=y,p)}function l(y,p,g,E){var T=g.type;return T===Ns?c(y,p,g.props.children,E,g.key):p!==null&&(p.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Br&&z0(T)===p.type)?(E=i(p,g.props),E.ref=ea(y,p,g),E.return=y,E):(E=Xu(g.type,g.key,g.props,null,y.mode,E),E.ref=ea(y,p,g),E.return=y,E)}function u(y,p,g,E){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=_d(g,y.mode,E),p.return=y,p):(p=i(p,g.children||[]),p.return=y,p)}function c(y,p,g,E,T){return p===null||p.tag!==7?(p=Ji(g,y.mode,E,T),p.return=y,p):(p=i(p,g),p.return=y,p)}function h(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Td(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case hu:return g=Xu(p.type,p.key,p.props,null,y.mode,g),g.ref=ea(y,null,p),g.return=y,g;case bs:return p=_d(p,y.mode,g),p.return=y,p;case Br:var E=p._init;return h(y,E(p._payload),g)}if(ca(p)||Qo(p))return p=Ji(p,y.mode,g,null),p.return=y,p;Tu(y,p)}return null}function f(y,p,g,E){var T=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return T!==null?null:a(y,p,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hu:return g.key===T?l(y,p,g,E):null;case bs:return g.key===T?u(y,p,g,E):null;case Br:return T=g._init,f(y,p,T(g._payload),E)}if(ca(g)||Qo(g))return T!==null?null:c(y,p,g,E,null);Tu(y,g)}return null}function d(y,p,g,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(g)||null,a(p,y,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hu:return y=y.get(E.key===null?g:E.key)||null,l(p,y,E,T);case bs:return y=y.get(E.key===null?g:E.key)||null,u(p,y,E,T);case Br:var P=E._init;return d(y,p,g,P(E._payload),T)}if(ca(E)||Qo(E))return y=y.get(g)||null,c(p,y,E,T,null);Tu(p,E)}return null}function m(y,p,g,E){for(var T=null,P=null,A=p,C=p=0,V=null;A!==null&&C<g.length;C++){A.index>C?(V=A,A=null):V=A.sibling;var $=f(y,A,g[C],E);if($===null){A===null&&(A=V);break}t&&A&&$.alternate===null&&e(y,A),p=s($,p,C),P===null?T=$:P.sibling=$,P=$,A=V}if(C===g.length)return n(y,A),Fe&&Li(y,C),T;if(A===null){for(;C<g.length;C++)A=h(y,g[C],E),A!==null&&(p=s(A,p,C),P===null?T=A:P.sibling=A,P=A);return Fe&&Li(y,C),T}for(A=r(y,A);C<g.length;C++)V=d(A,y,C,g[C],E),V!==null&&(t&&V.alternate!==null&&A.delete(V.key===null?C:V.key),p=s(V,p,C),P===null?T=V:P.sibling=V,P=V);return t&&A.forEach(function(he){return e(y,he)}),Fe&&Li(y,C),T}function w(y,p,g,E){var T=Qo(g);if(typeof T!="function")throw Error(N(150));if(g=T.call(g),g==null)throw Error(N(151));for(var P=T=null,A=p,C=p=0,V=null,$=g.next();A!==null&&!$.done;C++,$=g.next()){A.index>C?(V=A,A=null):V=A.sibling;var he=f(y,A,$.value,E);if(he===null){A===null&&(A=V);break}t&&A&&he.alternate===null&&e(y,A),p=s(he,p,C),P===null?T=he:P.sibling=he,P=he,A=V}if($.done)return n(y,A),Fe&&Li(y,C),T;if(A===null){for(;!$.done;C++,$=g.next())$=h(y,$.value,E),$!==null&&(p=s($,p,C),P===null?T=$:P.sibling=$,P=$);return Fe&&Li(y,C),T}for(A=r(y,A);!$.done;C++,$=g.next())$=d(A,y,C,$.value,E),$!==null&&(t&&$.alternate!==null&&A.delete($.key===null?C:$.key),p=s($,p,C),P===null?T=$:P.sibling=$,P=$);return t&&A.forEach(function(ne){return e(y,ne)}),Fe&&Li(y,C),T}function v(y,p,g,E){if(typeof g=="object"&&g!==null&&g.type===Ns&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case hu:e:{for(var T=g.key,P=p;P!==null;){if(P.key===T){if(T=g.type,T===Ns){if(P.tag===7){n(y,P.sibling),p=i(P,g.props.children),p.return=y,y=p;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Br&&z0(T)===P.type){n(y,P.sibling),p=i(P,g.props),p.ref=ea(y,P,g),p.return=y,y=p;break e}n(y,P);break}else e(y,P);P=P.sibling}g.type===Ns?(p=Ji(g.props.children,y.mode,E,g.key),p.return=y,y=p):(E=Xu(g.type,g.key,g.props,null,y.mode,E),E.ref=ea(y,p,g),E.return=y,y=E)}return o(y);case bs:e:{for(P=g.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=i(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=_d(g,y.mode,E),p.return=y,y=p}return o(y);case Br:return P=g._init,v(y,p,P(g._payload),E)}if(ca(g))return m(y,p,g,E);if(Qo(g))return w(y,p,g,E);Tu(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,g),p.return=y,y=p):(n(y,p),p=Td(g,y.mode,E),p.return=y,y=p),o(y)):n(y,p)}return v}var go=BT(!0),zT=BT(!1),Rl={},Xn=ki(Rl),Xa=ki(Rl),Ja=ki(Rl);function zi(t){if(t===Rl)throw Error(N(174));return t}function Ug(t,e){switch(De(Ja,e),De(Xa,t),De(Xn,Rl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xp(e,t)}Me(Xn),De(Xn,e)}function yo(){Me(Xn),Me(Xa),Me(Ja)}function HT(t){zi(Ja.current);var e=zi(Xn.current),n=xp(e,t.type);e!==n&&(De(Xa,t),De(Xn,n))}function jg(t){Xa.current===t&&(Me(Xn),Me(Xa))}var ze=ki(0);function Ic(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gd=[];function Bg(){for(var t=0;t<gd.length;t++)gd[t]._workInProgressVersionPrimary=null;gd.length=0}var Ku=Or.ReactCurrentDispatcher,yd=Or.ReactCurrentBatchConfig,ss=0,Ke=null,at=null,gt=null,kc=!1,_a=!1,Za=0,wD=0;function Dt(){throw Error(N(321))}function zg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function Hg(t,e,n,r,i,s){if(ss=s,Ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ku.current=t===null||t.memoizedState===null?_D:CD,t=n(r,i),_a){s=0;do{if(_a=!1,Za=0,25<=s)throw Error(N(301));s+=1,gt=at=null,e.updateQueue=null,Ku.current=ID,t=n(r,i)}while(_a)}if(Ku.current=xc,e=at!==null&&at.next!==null,ss=0,gt=at=Ke=null,kc=!1,e)throw Error(N(300));return t}function Wg(){var t=Za!==0;return Za=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ke.memoizedState=gt=t:gt=gt.next=t,gt}function In(){if(at===null){var t=Ke.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=gt===null?Ke.memoizedState:gt.next;if(e!==null)gt=e,at=t;else{if(t===null)throw Error(N(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},gt===null?Ke.memoizedState=gt=t:gt=gt.next=t}return gt}function el(t,e){return typeof e=="function"?e(t):e}function vd(t){var e=In(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=at,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ss&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ke.lanes|=c,os|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Un(r,e.memoizedState)||(Zt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ke.lanes|=s,os|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wd(t){var e=In(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Un(s,e.memoizedState)||(Zt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function WT(){}function KT(t,e){var n=Ke,r=In(),i=e(),s=!Un(r.memoizedState,i);if(s&&(r.memoizedState=i,Zt=!0),r=r.queue,Kg(QT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,tl(9,GT.bind(null,n,r,i,e),void 0,null),vt===null)throw Error(N(349));ss&30||qT(n,e,i)}return i}function qT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function GT(t,e,n,r){e.value=n,e.getSnapshot=r,YT(e)&&XT(t)}function QT(t,e,n){return n(function(){YT(e)&&XT(t)})}function YT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function XT(t){var e=Ir(t,1);e!==null&&Fn(e,t,1,-1)}function H0(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:t},e.queue=t,t=t.dispatch=TD.bind(null,Ke,t),[e.memoizedState,t]}function tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ke.updateQueue,e===null?(e={lastEffect:null,stores:null},Ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JT(){return In().memoizedState}function qu(t,e,n,r){var i=Hn();Ke.flags|=t,i.memoizedState=tl(1|e,n,void 0,r===void 0?null:r)}function Rh(t,e,n,r){var i=In();r=r===void 0?null:r;var s=void 0;if(at!==null){var o=at.memoizedState;if(s=o.destroy,r!==null&&zg(r,o.deps)){i.memoizedState=tl(e,n,s,r);return}}Ke.flags|=t,i.memoizedState=tl(1|e,n,s,r)}function W0(t,e){return qu(8390656,8,t,e)}function Kg(t,e){return Rh(2048,8,t,e)}function ZT(t,e){return Rh(4,2,t,e)}function e_(t,e){return Rh(4,4,t,e)}function t_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function n_(t,e,n){return n=n!=null?n.concat([t]):null,Rh(4,4,t_.bind(null,e,t),n)}function qg(){}function r_(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function i_(t,e){var n=In();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function s_(t,e,n){return ss&21?(Un(n,e)||(n=lT(),Ke.lanes|=n,os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Zt=!0),t.memoizedState=n)}function ED(t,e){var n=ke;ke=n!==0&&4>n?n:4,t(!0);var r=yd.transition;yd.transition={};try{t(!1),e()}finally{ke=n,yd.transition=r}}function o_(){return In().memoizedState}function SD(t,e,n){var r=oi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},a_(t))l_(e,n);else if(n=VT(t,e,n,r),n!==null){var i=Gt();Fn(n,t,r,i),u_(n,e,r)}}function TD(t,e,n){var r=oi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(a_(t))l_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Un(a,o)){var l=e.interleaved;l===null?(i.next=i,Vg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=VT(t,e,i,r),n!==null&&(i=Gt(),Fn(n,t,r,i),u_(n,e,r))}}function a_(t){var e=t.alternate;return t===Ke||e!==null&&e===Ke}function l_(t,e){_a=kc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function u_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Cg(t,n)}}var xc={readContext:Cn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},_D={readContext:Cn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:W0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,qu(4194308,4,t_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qu(4194308,4,t,e)},useInsertionEffect:function(t,e){return qu(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SD.bind(null,Ke,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:H0,useDebugValue:qg,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=H0(!1),e=t[0];return t=ED.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ke,i=Hn();if(Fe){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),vt===null)throw Error(N(349));ss&30||qT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,W0(QT.bind(null,r,s,t),[t]),r.flags|=2048,tl(9,GT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hn(),e=vt.identifierPrefix;if(Fe){var n=mr,r=pr;n=(r&~(1<<32-Vn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Za++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CD={readContext:Cn,useCallback:r_,useContext:Cn,useEffect:Kg,useImperativeHandle:n_,useInsertionEffect:ZT,useLayoutEffect:e_,useMemo:i_,useReducer:vd,useRef:JT,useState:function(){return vd(el)},useDebugValue:qg,useDeferredValue:function(t){var e=In();return s_(e,at.memoizedState,t)},useTransition:function(){var t=vd(el)[0],e=In().memoizedState;return[t,e]},useMutableSource:WT,useSyncExternalStore:KT,useId:o_,unstable_isNewReconciler:!1},ID={readContext:Cn,useCallback:r_,useContext:Cn,useEffect:Kg,useImperativeHandle:n_,useInsertionEffect:ZT,useLayoutEffect:e_,useMemo:i_,useReducer:wd,useRef:JT,useState:function(){return wd(el)},useDebugValue:qg,useDeferredValue:function(t){var e=In();return at===null?e.memoizedState=t:s_(e,at.memoizedState,t)},useTransition:function(){var t=wd(el)[0],e=In().memoizedState;return[t,e]},useMutableSource:WT,useSyncExternalStore:KT,useId:o_,unstable_isNewReconciler:!1};function vo(t,e){try{var n="",r=e;do n+=ZP(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ed(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Yp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kD=typeof WeakMap=="function"?WeakMap:Map;function c_(t,e,n){n=Er(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pc||(Pc=!0,om=r),Yp(t,e)},n}function h_(t,e,n){n=Er(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Yp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yp(t,e),typeof r!="function"&&(si===null?si=new Set([this]):si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function K0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UD.bind(null,t,e,n),e.then(t,t))}function q0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function G0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Er(-1,1),e.tag=2,ii(n,e,1))),n.lanes|=1),t)}var xD=Or.ReactCurrentOwner,Zt=!1;function Wt(t,e,n,r){e.child=t===null?zT(e,null,n,r):go(e,t.child,n,r)}function Q0(t,e,n,r,i){n=n.render;var s=e.ref;return to(e,i),r=Hg(t,e,n,r,s,i),n=Wg(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Fe&&n&&bg(e),e.flags|=1,Wt(t,e,r,i),e.child)}function Y0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ty(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,f_(t,e,s,r,i)):(t=Xu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qa,n(o,r)&&t.ref===e.ref)return kr(t,e,i)}return e.flags|=1,t=ai(s,r),t.ref=e.ref,t.return=e,e.child=t}function f_(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qa(s,r)&&t.ref===e.ref)if(Zt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Zt=!0);else return e.lanes=t.lanes,kr(t,e,i)}return Xp(t,e,n,r,i)}function d_(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(zs,sn),sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(zs,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,De(zs,sn),sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,De(zs,sn),sn|=r;return Wt(t,e,i,n),e.child}function p_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xp(t,e,n,r,i){var s=tn(n)?rs:jt.current;return s=po(e,s),to(e,i),n=Hg(t,e,n,r,s,i),r=Wg(),t!==null&&!Zt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,kr(t,e,i)):(Fe&&r&&bg(e),e.flags|=1,Wt(t,e,n,i),e.child)}function X0(t,e,n,r,i){if(tn(n)){var s=!0;wc(e)}else s=!1;if(to(e,i),e.stateNode===null)Gu(t,e),jT(e,n,r),Qp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=tn(n)?rs:jt.current,u=po(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&B0(e,o,r,u),zr=!1;var f=e.memoizedState;o.state=f,Cc(e,r,o,i),l=e.memoizedState,a!==r||f!==l||en.current||zr?(typeof c=="function"&&(Gp(e,n,c,r),l=e.memoizedState),(a=zr||j0(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:bn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=tn(n)?rs:jt.current,l=po(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&B0(e,o,r,l),zr=!1,f=e.memoizedState,o.state=f,Cc(e,r,o,i);var m=e.memoizedState;a!==h||f!==m||en.current||zr?(typeof d=="function"&&(Gp(e,n,d,r),m=e.memoizedState),(u=zr||j0(e,n,u,r,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Jp(t,e,n,r,s,i)}function Jp(t,e,n,r,i,s){p_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&M0(e,n,!1),kr(t,e,s);r=e.stateNode,xD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,s),e.child=go(e,null,a,s)):Wt(t,e,a,s),e.memoizedState=r.state,i&&M0(e,n,!0),e.child}function m_(t){var e=t.stateNode;e.pendingContext?L0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L0(t,e.context,!1),Ug(t,e.containerInfo)}function J0(t,e,n,r,i){return mo(),Og(i),e.flags|=256,Wt(t,e,n,r),e.child}var Zp={dehydrated:null,treeContext:null,retryLane:0};function em(t){return{baseLanes:t,cachePool:null,transitions:null}}function g_(t,e,n){var r=e.pendingProps,i=ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),De(ze,i&1),t===null)return Kp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nh(o,r,0,null),t=Ji(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=em(n),e.memoizedState=Zp,t):Gg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ai(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ai(a,s):(s=Ji(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?em(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Zp,r}return s=t.child,t=s.sibling,r=ai(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Gg(t,e){return e=Nh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _u(t,e,n,r){return r!==null&&Og(r),go(e,t.child,null,n),t=Gg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ed(Error(N(422))),_u(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Nh({mode:"visible",children:r.children},i,0,null),s=Ji(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=em(o),e.memoizedState=Zp,s);if(!(e.mode&1))return _u(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Ed(s,r,void 0),_u(t,e,o,r)}if(a=(o&t.childLanes)!==0,Zt||a){if(r=vt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),Fn(r,t,i,-1))}return ey(),r=Ed(Error(N(421))),_u(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,on=ri(i.nextSibling),an=e,Fe=!0,On=null,t!==null&&(vn[wn++]=pr,vn[wn++]=mr,vn[wn++]=is,pr=t.id,mr=t.overflow,is=e),e=Gg(e,r.children),e.flags|=4096,e)}function Z0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qp(t.return,e,n)}function Sd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function y_(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Wt(t,e,r.children,n),r=ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Z0(t,n,e);else if(t.tag===19)Z0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(De(ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ic(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Sd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ic(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Sd(e,!0,n,null,s);break;case"together":Sd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PD(t,e,n){switch(e.tag){case 3:m_(e),mo();break;case 5:HT(e);break;case 1:tn(e.type)&&wc(e);break;case 4:Ug(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;De(Tc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(De(ze,ze.current&1),e.flags|=128,null):n&e.child.childLanes?g_(t,e,n):(De(ze,ze.current&1),t=kr(t,e,n),t!==null?t.sibling:null);De(ze,ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return y_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(ze,ze.current),r)break;return null;case 22:case 23:return e.lanes=0,d_(t,e,n)}return kr(t,e,n)}var v_,tm,w_,E_;v_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tm=function(){};w_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,zi(Xn.current);var s=null;switch(n){case"input":i=_p(t,i),r=_p(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=kp(t,i),r=kp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yc)}Ap(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ua.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ua.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};E_=function(t,e,n,r){n!==r&&(e.flags|=4)};function ta(t,e){if(!Fe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RD(t,e,n){var r=e.pendingProps;switch(Ng(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return tn(e.type)&&vc(),bt(e),null;case 3:return r=e.stateNode,yo(),Me(en),Me(jt),Bg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,On!==null&&(um(On),On=null))),tm(t,e),bt(e),null;case 5:jg(e);var i=zi(Ja.current);if(n=e.type,t!==null&&e.stateNode!=null)w_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return bt(e),null}if(t=zi(Xn.current),Su(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qn]=e,r[Ya]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(i=0;i<fa.length;i++)Oe(fa[i],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":l0(r,s),Oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",r);break;case"textarea":c0(r,s),Oe("invalid",r)}Ap(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Eu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Eu(r.textContent,a,t),i=["children",""+a]):Ua.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",r)}switch(n){case"input":fu(r),u0(r,s,!0);break;case"textarea":fu(r),h0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[qn]=e,t[Ya]=r,v_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pp(n,r),n){case"dialog":Oe("cancel",t),Oe("close",t),i=r;break;case"iframe":case"object":case"embed":Oe("load",t),i=r;break;case"video":case"audio":for(i=0;i<fa.length;i++)Oe(fa[i],t);i=r;break;case"source":Oe("error",t),i=r;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),i=r;break;case"details":Oe("toggle",t),i=r;break;case"input":l0(t,r),i=_p(t,r),Oe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),Oe("invalid",t);break;case"textarea":c0(t,r),i=kp(t,r),Oe("invalid",t);break;default:i=r}Ap(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?YS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&GS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ja(t,l):typeof l=="number"&&ja(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ua.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Oe("scroll",t):l!=null&&vg(t,s,l,o))}switch(n){case"input":fu(t),u0(t,r,!1);break;case"textarea":fu(t),h0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Xs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Xs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bt(e),null;case 6:if(t&&e.stateNode!=null)E_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=zi(Ja.current),zi(Xn.current),Su(e)){if(r=e.stateNode,n=e.memoizedProps,r[qn]=e,(s=r.nodeValue!==n)&&(t=an,t!==null))switch(t.tag){case 3:Eu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Eu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qn]=e,e.stateNode=r}return bt(e),null;case 13:if(Me(ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Fe&&on!==null&&e.mode&1&&!(e.flags&128))$T(),mo(),e.flags|=98560,s=!1;else if(s=Su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[qn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),s=!1}else On!==null&&(um(On),On=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ze.current&1?ut===0&&(ut=3):ey())),e.updateQueue!==null&&(e.flags|=4),bt(e),null);case 4:return yo(),tm(t,e),t===null&&Ga(e.stateNode.containerInfo),bt(e),null;case 10:return $g(e.type._context),bt(e),null;case 17:return tn(e.type)&&vc(),bt(e),null;case 19:if(Me(ze),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ta(s,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ic(t),o!==null){for(e.flags|=128,ta(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(ze,ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>wo&&(e.flags|=128,r=!0,ta(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ic(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ta(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Fe)return bt(e),null}else 2*Je()-s.renderingStartTime>wo&&n!==1073741824&&(e.flags|=128,r=!0,ta(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=ze.current,De(ze,r?n&1|2:n&1),e):(bt(e),null);case 22:case 23:return Zg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sn&1073741824&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function DD(t,e){switch(Ng(e),e.tag){case 1:return tn(e.type)&&vc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),Me(en),Me(jt),Bg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jg(e),null;case 13:if(Me(ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Me(ze),null;case 4:return yo(),null;case 10:return $g(e.type._context),null;case 22:case 23:return Zg(),null;case 24:return null;default:return null}}var Cu=!1,Mt=!1,bD=typeof WeakSet=="function"?WeakSet:Set,B=null;function Bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ge(t,e,r)}else n.current=null}function nm(t,e,n){try{n()}catch(r){Ge(t,e,r)}}var ew=!1;function ND(t,e){if(Fp=pc,t=CT(),Dg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Up={focusedElem:t,selectionRange:n},pc=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var w=m.memoizedProps,v=m.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?w:bn(e.type,w),v);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(E){Ge(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return m=ew,ew=!1,m}function Ca(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nm(e,n,s)}i=i.next}while(i!==r)}}function Dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function S_(t){var e=t.alternate;e!==null&&(t.alternate=null,S_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[Ya],delete e[zp],delete e[mD],delete e[gD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T_(t){return t.tag===5||t.tag===3||t.tag===4}function tw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function im(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yc));else if(r!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}function sm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sm(t,e,n),t=t.sibling;t!==null;)sm(t,e,n),t=t.sibling}var _t=null,Nn=!1;function Fr(t,e,n){for(n=n.child;n!==null;)__(t,e,n),n=n.sibling}function __(t,e,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(_h,n)}catch{}switch(n.tag){case 5:Mt||Bs(n,e);case 6:var r=_t,i=Nn;_t=null,Fr(t,e,n),_t=r,Nn=i,_t!==null&&(Nn?(t=_t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_t.removeChild(n.stateNode));break;case 18:_t!==null&&(Nn?(t=_t,n=n.stateNode,t.nodeType===8?pd(t.parentNode,n):t.nodeType===1&&pd(t,n),Wa(t)):pd(_t,n.stateNode));break;case 4:r=_t,i=Nn,_t=n.stateNode.containerInfo,Nn=!0,Fr(t,e,n),_t=r,Nn=i;break;case 0:case 11:case 14:case 15:if(!Mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&nm(n,e,o),i=i.next}while(i!==r)}Fr(t,e,n);break;case 1:if(!Mt&&(Bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ge(n,e,a)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(Mt=(r=Mt)||n.memoizedState!==null,Fr(t,e,n),Mt=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function nw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new bD),e.forEach(function(r){var i=BD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:_t=a.stateNode,Nn=!1;break e;case 3:_t=a.stateNode.containerInfo,Nn=!0;break e;case 4:_t=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(_t===null)throw Error(N(160));__(s,o,i),_t=null,Nn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ge(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)C_(e,t),e=e.sibling}function C_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dn(e,t),zn(t),r&4){try{Ca(3,t,t.return),Dh(3,t)}catch(w){Ge(t,t.return,w)}try{Ca(5,t,t.return)}catch(w){Ge(t,t.return,w)}}break;case 1:Dn(e,t),zn(t),r&512&&n!==null&&Bs(n,n.return);break;case 5:if(Dn(e,t),zn(t),r&512&&n!==null&&Bs(n,n.return),t.flags&32){var i=t.stateNode;try{ja(i,"")}catch(w){Ge(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&WS(i,s),Pp(a,o);var u=Pp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?YS(i,h):c==="dangerouslySetInnerHTML"?GS(i,h):c==="children"?ja(i,h):vg(i,c,h,u)}switch(a){case"input":Cp(i,s);break;case"textarea":KS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Xs(i,!!s.multiple,d,!1):f!==!!s.multiple&&(s.defaultValue!=null?Xs(i,!!s.multiple,s.defaultValue,!0):Xs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ya]=s}catch(w){Ge(t,t.return,w)}}break;case 6:if(Dn(e,t),zn(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){Ge(t,t.return,w)}}break;case 3:if(Dn(e,t),zn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wa(e.containerInfo)}catch(w){Ge(t,t.return,w)}break;case 4:Dn(e,t),zn(t);break;case 13:Dn(e,t),zn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Xg=Je())),r&4&&nw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Mt=(u=Mt)||c,Dn(e,t),Mt=u):Dn(e,t),zn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(B=t,c=t.child;c!==null;){for(h=B=c;B!==null;){switch(f=B,d=f.child,f.tag){case 0:case 11:case 14:case 15:Ca(4,f,f.return);break;case 1:Bs(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(w){Ge(r,n,w)}}break;case 5:Bs(f,f.return);break;case 22:if(f.memoizedState!==null){iw(h);continue}}d!==null?(d.return=f,B=d):iw(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QS("display",o))}catch(w){Ge(t,t.return,w)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(w){Ge(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Dn(e,t),zn(t),r&4&&nw(t);break;case 21:break;default:Dn(e,t),zn(t)}}function zn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(T_(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ja(i,""),r.flags&=-33);var s=tw(t);sm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=tw(t);im(t,a,o);break;default:throw Error(N(161))}}catch(l){Ge(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function OD(t,e,n){B=t,I_(t)}function I_(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var i=B,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Cu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Mt;a=Cu;var u=Mt;if(Cu=o,(Mt=l)&&!u)for(B=i;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?sw(i):l!==null?(l.return=o,B=l):sw(i);for(;s!==null;)B=s,I_(s),s=s.sibling;B=i,Cu=a,Mt=u}rw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,B=s):rw(t)}}function rw(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mt||Dh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Mt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:bn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&U0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}U0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Wa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}Mt||e.flags&512&&rm(e)}catch(f){Ge(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function iw(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function sw(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Dh(4,e)}catch(l){Ge(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ge(e,i,l)}}var s=e.return;try{rm(e)}catch(l){Ge(e,s,l)}break;case 5:var o=e.return;try{rm(e)}catch(l){Ge(e,o,l)}}}catch(l){Ge(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var LD=Math.ceil,Ac=Or.ReactCurrentDispatcher,Qg=Or.ReactCurrentOwner,Tn=Or.ReactCurrentBatchConfig,Ee=0,vt=null,rt=null,It=0,sn=0,zs=ki(0),ut=0,nl=null,os=0,bh=0,Yg=0,Ia=null,Jt=null,Xg=0,wo=1/0,ur=null,Pc=!1,om=null,si=null,Iu=!1,Jr=null,Rc=0,ka=0,am=null,Qu=-1,Yu=0;function Gt(){return Ee&6?Je():Qu!==-1?Qu:Qu=Je()}function oi(t){return t.mode&1?Ee&2&&It!==0?It&-It:vD.transition!==null?(Yu===0&&(Yu=lT()),Yu):(t=ke,t!==0||(t=window.event,t=t===void 0?16:mT(t.type)),t):1}function Fn(t,e,n,r){if(50<ka)throw ka=0,am=null,Error(N(185));xl(t,n,r),(!(Ee&2)||t!==vt)&&(t===vt&&(!(Ee&2)&&(bh|=n),ut===4&&Kr(t,It)),nn(t,r),n===1&&Ee===0&&!(e.mode&1)&&(wo=Je()+500,Ah&&xi()))}function nn(t,e){var n=t.callbackNode;vR(t,e);var r=dc(t,t===vt?It:0);if(r===0)n!==null&&p0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&p0(n),e===1)t.tag===0?yD(ow.bind(null,t)):OT(ow.bind(null,t)),dD(function(){!(Ee&6)&&xi()}),n=null;else{switch(uT(r)){case 1:n=_g;break;case 4:n=oT;break;case 16:n=fc;break;case 536870912:n=aT;break;default:n=fc}n=N_(n,k_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function k_(t,e){if(Qu=-1,Yu=0,Ee&6)throw Error(N(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=dc(t,t===vt?It:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dc(t,r);else{e=r;var i=Ee;Ee|=2;var s=A_();(vt!==t||It!==e)&&(ur=null,wo=Je()+500,Xi(t,e));do try{VD();break}catch(a){x_(t,a)}while(1);Mg(),Ac.current=s,Ee=i,rt!==null?e=0:(vt=null,It=0,e=ut)}if(e!==0){if(e===2&&(i=Op(t),i!==0&&(r=i,e=lm(t,i))),e===1)throw n=nl,Xi(t,0),Kr(t,r),nn(t,Je()),n;if(e===6)Kr(t,r);else{if(i=t.current.alternate,!(r&30)&&!MD(i)&&(e=Dc(t,r),e===2&&(s=Op(t),s!==0&&(r=s,e=lm(t,s))),e===1))throw n=nl,Xi(t,0),Kr(t,r),nn(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Mi(t,Jt,ur);break;case 3:if(Kr(t,r),(r&130023424)===r&&(e=Xg+500-Je(),10<e)){if(dc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bp(Mi.bind(null,t,Jt,ur),e);break}Mi(t,Jt,ur);break;case 4:if(Kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Vn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LD(r/1960))-r,10<r){t.timeoutHandle=Bp(Mi.bind(null,t,Jt,ur),r);break}Mi(t,Jt,ur);break;case 5:Mi(t,Jt,ur);break;default:throw Error(N(329))}}}return nn(t,Je()),t.callbackNode===n?k_.bind(null,t):null}function lm(t,e){var n=Ia;return t.current.memoizedState.isDehydrated&&(Xi(t,e).flags|=256),t=Dc(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&um(e)),t}function um(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function MD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~Yg,e&=~bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vn(e),r=1<<n;t[n]=-1,e&=~r}}function ow(t){if(Ee&6)throw Error(N(327));no();var e=dc(t,0);if(!(e&1))return nn(t,Je()),null;var n=Dc(t,e);if(t.tag!==0&&n===2){var r=Op(t);r!==0&&(e=r,n=lm(t,r))}if(n===1)throw n=nl,Xi(t,0),Kr(t,e),nn(t,Je()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mi(t,Jt,ur),nn(t,Je()),null}function Jg(t,e){var n=Ee;Ee|=1;try{return t(e)}finally{Ee=n,Ee===0&&(wo=Je()+500,Ah&&xi())}}function as(t){Jr!==null&&Jr.tag===0&&!(Ee&6)&&no();var e=Ee;Ee|=1;var n=Tn.transition,r=ke;try{if(Tn.transition=null,ke=1,t)return t()}finally{ke=r,Tn.transition=n,Ee=e,!(Ee&6)&&xi()}}function Zg(){sn=zs.current,Me(zs)}function Xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fD(n)),rt!==null)for(n=rt.return;n!==null;){var r=n;switch(Ng(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vc();break;case 3:yo(),Me(en),Me(jt),Bg();break;case 5:jg(r);break;case 4:yo();break;case 13:Me(ze);break;case 19:Me(ze);break;case 10:$g(r.type._context);break;case 22:case 23:Zg()}n=n.return}if(vt=t,rt=t=ai(t.current,null),It=sn=e,ut=0,nl=null,Yg=bh=os=0,Jt=Ia=null,Bi!==null){for(e=0;e<Bi.length;e++)if(n=Bi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Bi=null}return t}function x_(t,e){do{var n=rt;try{if(Mg(),Ku.current=xc,kc){for(var r=Ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}kc=!1}if(ss=0,gt=at=Ke=null,_a=!1,Za=0,Qg.current=null,n===null||n.return===null){ut=1,nl=e,rt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=It,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=q0(o);if(d!==null){d.flags&=-257,G0(d,o,a,s,e),d.mode&1&&K0(s,u,e),e=d,l=u;var m=e.updateQueue;if(m===null){var w=new Set;w.add(l),e.updateQueue=w}else m.add(l);break e}else{if(!(e&1)){K0(s,u,e),ey();break e}l=Error(N(426))}}else if(Fe&&a.mode&1){var v=q0(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),G0(v,o,a,s,e),Og(vo(l,a));break e}}s=l=vo(l,a),ut!==4&&(ut=2),Ia===null?Ia=[s]:Ia.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=c_(s,l,e);F0(s,y);break e;case 1:a=l;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(si===null||!si.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=h_(s,a,e);F0(s,E);break e}}s=s.return}while(s!==null)}R_(n)}catch(T){e=T,rt===n&&n!==null&&(rt=n=n.return);continue}break}while(1)}function A_(){var t=Ac.current;return Ac.current=xc,t===null?xc:t}function ey(){(ut===0||ut===3||ut===2)&&(ut=4),vt===null||!(os&268435455)&&!(bh&268435455)||Kr(vt,It)}function Dc(t,e){var n=Ee;Ee|=2;var r=A_();(vt!==t||It!==e)&&(ur=null,Xi(t,e));do try{$D();break}catch(i){x_(t,i)}while(1);if(Mg(),Ee=n,Ac.current=r,rt!==null)throw Error(N(261));return vt=null,It=0,ut}function $D(){for(;rt!==null;)P_(rt)}function VD(){for(;rt!==null&&!uR();)P_(rt)}function P_(t){var e=b_(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?R_(t):rt=e,Qg.current=null}function R_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DD(n,e),n!==null){n.flags&=32767,rt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,rt=null;return}}else if(n=RD(n,e,sn),n!==null){rt=n;return}if(e=e.sibling,e!==null){rt=e;return}rt=e=t}while(e!==null);ut===0&&(ut=5)}function Mi(t,e,n){var r=ke,i=Tn.transition;try{Tn.transition=null,ke=1,FD(t,e,n,r)}finally{Tn.transition=i,ke=r}return null}function FD(t,e,n,r){do no();while(Jr!==null);if(Ee&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(wR(t,s),t===vt&&(rt=vt=null,It=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Iu||(Iu=!0,N_(fc,function(){return no(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Tn.transition,Tn.transition=null;var o=ke;ke=1;var a=Ee;Ee|=4,Qg.current=null,ND(t,n),C_(n,t),sD(Up),pc=!!Fp,Up=Fp=null,t.current=n,OD(n),cR(),Ee=a,ke=o,Tn.transition=s}else t.current=n;if(Iu&&(Iu=!1,Jr=t,Rc=i),s=t.pendingLanes,s===0&&(si=null),dR(n.stateNode),nn(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pc)throw Pc=!1,t=om,om=null,t;return Rc&1&&t.tag!==0&&no(),s=t.pendingLanes,s&1?t===am?ka++:(ka=0,am=t):ka=0,xi(),null}function no(){if(Jr!==null){var t=uT(Rc),e=Tn.transition,n=ke;try{if(Tn.transition=null,ke=16>t?16:t,Jr===null)var r=!1;else{if(t=Jr,Jr=null,Rc=0,Ee&6)throw Error(N(331));var i=Ee;for(Ee|=4,B=t.current;B!==null;){var s=B,o=s.child;if(B.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(B=u;B!==null;){var c=B;switch(c.tag){case 0:case 11:case 15:Ca(8,c,s)}var h=c.child;if(h!==null)h.return=c,B=h;else for(;B!==null;){c=B;var f=c.sibling,d=c.return;if(S_(c),c===u){B=null;break}if(f!==null){f.return=d,B=f;break}B=d}}}var m=s.alternate;if(m!==null){var w=m.child;if(w!==null){m.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}B=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,B=o;else e:for(;B!==null;){if(s=B,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ca(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,B=y;break e}B=s.return}}var p=t.current;for(B=p;B!==null;){o=B;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,B=g;else e:for(o=p;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dh(9,a)}}catch(T){Ge(a,a.return,T)}if(a===o){B=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,B=E;break e}B=a.return}}if(Ee=i,xi(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(_h,t)}catch{}r=!0}return r}finally{ke=n,Tn.transition=e}}return!1}function aw(t,e,n){e=vo(n,e),e=c_(t,e,1),t=ii(t,e,1),e=Gt(),t!==null&&(xl(t,1,e),nn(t,e))}function Ge(t,e,n){if(t.tag===3)aw(t,t,n);else for(;e!==null;){if(e.tag===3){aw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(si===null||!si.has(r))){t=vo(n,t),t=h_(e,t,1),e=ii(e,t,1),t=Gt(),e!==null&&(xl(e,1,t),nn(e,t));break}}e=e.return}}function UD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gt(),t.pingedLanes|=t.suspendedLanes&n,vt===t&&(It&n)===n&&(ut===4||ut===3&&(It&130023424)===It&&500>Je()-Xg?Xi(t,0):Yg|=n),nn(t,e)}function D_(t,e){e===0&&(t.mode&1?(e=mu,mu<<=1,!(mu&130023424)&&(mu=4194304)):e=1);var n=Gt();t=Ir(t,e),t!==null&&(xl(t,e,n),nn(t,n))}function jD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),D_(t,n)}function BD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),D_(t,n)}var b_;b_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Zt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Zt=!1,PD(t,e,n);Zt=!!(t.flags&131072)}else Zt=!1,Fe&&e.flags&1048576&&LT(e,Sc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gu(t,e),t=e.pendingProps;var i=po(e,jt.current);to(e,n),i=Hg(null,e,r,t,i,n);var s=Wg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(r)?(s=!0,wc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fg(e),i.updater=Ph,e.stateNode=i,i._reactInternals=e,Qp(e,r,t,n),e=Jp(null,e,r,!0,s,n)):(e.tag=0,Fe&&s&&bg(e),Wt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HD(r),t=bn(r,t),i){case 0:e=Xp(null,e,r,t,n);break e;case 1:e=X0(null,e,r,t,n);break e;case 11:e=Q0(null,e,r,t,n);break e;case 14:e=Y0(null,e,r,bn(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bn(r,i),Xp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bn(r,i),X0(t,e,r,i,n);case 3:e:{if(m_(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,FT(t,e),Cc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=vo(Error(N(423)),e),e=J0(t,e,r,n,i);break e}else if(r!==i){i=vo(Error(N(424)),e),e=J0(t,e,r,n,i);break e}else for(on=ri(e.stateNode.containerInfo.firstChild),an=e,Fe=!0,On=null,n=zT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),r===i){e=kr(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return HT(e),t===null&&Kp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,jp(r,i)?o=null:s!==null&&jp(r,s)&&(e.flags|=32),p_(t,e),Wt(t,e,o,n),e.child;case 6:return t===null&&Kp(e),null;case 13:return g_(t,e,n);case 4:return Ug(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=go(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bn(r,i),Q0(t,e,r,i,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,De(Tc,r._currentValue),r._currentValue=o,s!==null)if(Un(s.value,o)){if(s.children===i.children&&!en.current){e=kr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Er(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),qp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Wt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,to(e,n),i=Cn(i),r=r(i),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,i=bn(r,e.pendingProps),i=bn(r.type,i),Y0(t,e,r,i,n);case 15:return f_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bn(r,i),Gu(t,e),e.tag=1,tn(r)?(t=!0,wc(e)):t=!1,to(e,n),jT(e,r,i),Qp(e,r,i,n),Jp(null,e,r,!0,t,n);case 19:return y_(t,e,n);case 22:return d_(t,e,n)}throw Error(N(156,e.tag))};function N_(t,e){return sT(t,e)}function zD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,e,n,r){return new zD(t,e,n,r)}function ty(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HD(t){if(typeof t=="function")return ty(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Eg)return 11;if(t===Sg)return 14}return 2}function ai(t,e){var n=t.alternate;return n===null?(n=Sn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ty(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ns:return Ji(n.children,i,s,e);case wg:o=8,i|=8;break;case wp:return t=Sn(12,n,e,i|2),t.elementType=wp,t.lanes=s,t;case Ep:return t=Sn(13,n,e,i),t.elementType=Ep,t.lanes=s,t;case Sp:return t=Sn(19,n,e,i),t.elementType=Sp,t.lanes=s,t;case BS:return Nh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case US:o=10;break e;case jS:o=9;break e;case Eg:o=11;break e;case Sg:o=14;break e;case Br:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=Sn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ji(t,e,n,r){return t=Sn(7,t,r,e),t.lanes=n,t}function Nh(t,e,n,r){return t=Sn(22,t,r,e),t.elementType=BS,t.lanes=n,t.stateNode={isHidden:!1},t}function Td(t,e,n){return t=Sn(6,t,null,e),t.lanes=n,t}function _d(t,e,n){return e=Sn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WD(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rd(0),this.expirationTimes=rd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ny(t,e,n,r,i,s,o,a,l){return t=new WD(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fg(s),t}function KD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function O_(t){if(!t)return vi;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(tn(n))return NT(t,n,e)}return e}function L_(t,e,n,r,i,s,o,a,l){return t=ny(n,r,!0,t,i,s,o,a,l),t.context=O_(null),n=t.current,r=Gt(),i=oi(n),s=Er(r,i),s.callback=e??null,ii(n,s,i),t.current.lanes=i,xl(t,i,r),nn(t,r),t}function Oh(t,e,n,r){var i=e.current,s=Gt(),o=oi(i);return n=O_(n),e.context===null?e.context=n:e.pendingContext=n,e=Er(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ii(i,e,o),t!==null&&(Fn(t,i,o,s),Wu(t,i,o)),o}function bc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ry(t,e){lw(t,e),(t=t.alternate)&&lw(t,e)}function qD(){return null}var M_=typeof reportError=="function"?reportError:function(t){console.error(t)};function iy(t){this._internalRoot=t}Lh.prototype.render=iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Oh(t,e,null,null)};Lh.prototype.unmount=iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;as(function(){Oh(null,t,null,null)}),e[Cr]=null}};function Lh(t){this._internalRoot=t}Lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=fT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wr.length&&e!==0&&e<Wr[n].priority;n++);Wr.splice(n,0,t),n===0&&pT(t)}};function sy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function uw(){}function GD(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=bc(o);s.call(u)}}var o=L_(e,r,t,0,null,!1,!1,"",uw);return t._reactRootContainer=o,t[Cr]=o.current,Ga(t.nodeType===8?t.parentNode:t),as(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=bc(l);a.call(u)}}var l=ny(t,0,!1,null,null,!1,!1,"",uw);return t._reactRootContainer=l,t[Cr]=l.current,Ga(t.nodeType===8?t.parentNode:t),as(function(){Oh(e,l,n,r)}),l}function $h(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=bc(o);a.call(l)}}Oh(e,o,t,i)}else o=GD(n,e,t,i,r);return bc(o)}cT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ha(e.pendingLanes);n!==0&&(Cg(e,n|1),nn(e,Je()),!(Ee&6)&&(wo=Je()+500,xi()))}break;case 13:as(function(){var r=Ir(t,1);if(r!==null){var i=Gt();Fn(r,t,1,i)}}),ry(t,1)}};Ig=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Gt();Fn(e,t,134217728,n)}ry(t,134217728)}};hT=function(t){if(t.tag===13){var e=oi(t),n=Ir(t,e);if(n!==null){var r=Gt();Fn(n,t,e,r)}ry(t,e)}};fT=function(){return ke};dT=function(t,e){var n=ke;try{return ke=t,e()}finally{ke=n}};Dp=function(t,e,n){switch(e){case"input":if(Cp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xh(r);if(!i)throw Error(N(90));HS(r),Cp(r,i)}}}break;case"textarea":KS(t,n);break;case"select":e=n.value,e!=null&&Xs(t,!!n.multiple,e,!1)}};ZS=Jg;eT=as;var QD={usingClientEntryPoint:!1,Events:[Pl,$s,xh,XS,JS,Jg]},na={findFiberByHostInstance:ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},YD={bundleType:na.bundleType,version:na.version,rendererPackageName:na.rendererPackageName,rendererConfig:na.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rT(t),t===null?null:t.stateNode},findFiberByHostInstance:na.findFiberByHostInstance||qD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{_h=ku.inject(YD),Yn=ku}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QD;dn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sy(e))throw Error(N(200));return KD(t,e,null,n)};dn.createRoot=function(t,e){if(!sy(t))throw Error(N(299));var n=!1,r="",i=M_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ny(t,1,!1,null,null,n,!1,r,i),t[Cr]=e.current,Ga(t.nodeType===8?t.parentNode:t),new iy(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=rT(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return as(t)};dn.hydrate=function(t,e,n){if(!Mh(e))throw Error(N(200));return $h(null,t,e,!0,n)};dn.hydrateRoot=function(t,e,n){if(!sy(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=M_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=L_(e,null,t,1,n??null,i,!1,s,o),t[Cr]=e.current,Ga(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lh(e)};dn.render=function(t,e,n){if(!Mh(e))throw Error(N(200));return $h(null,t,e,!1,n)};dn.unmountComponentAtNode=function(t){if(!Mh(t))throw Error(N(40));return t._reactRootContainer?(as(function(){$h(null,null,t,!1,function(){t._reactRootContainer=null,t[Cr]=null})}),!0):!1};dn.unstable_batchedUpdates=Jg;dn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mh(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return $h(t,e,n,!1,r)};dn.version="18.2.0-next-9e3b772b8-20220608";function $_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($_)}catch(t){console.error(t)}}$_(),LS.exports=dn;var V_=LS.exports,cw=V_;yp.createRoot=cw.createRoot,yp.hydrateRoot=cw.hydrateRoot;/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function we(){return we=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},we.apply(this,arguments)}var tt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(tt||(tt={}));const hw="popstate";function XD(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:a="",hash:l=""}=or(i.location.hash.substr(1));return rl("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof s=="string"?s:us(s))}function r(i,s){ls(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return ZD(e,n,r,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ls(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JD(){return Math.random().toString(36).substr(2,8)}function fw(t,e){return{usr:t.state,key:t.key,idx:e}}function rl(t,e,n,r){return n===void 0&&(n=null),we({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?or(e):e,{state:n,key:e&&e.key||r||JD()})}function us(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function or(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=tt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(we({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=tt.Pop;let v=c(),y=v==null?null:v-u;u=v,l&&l({action:a,location:w.location,delta:y})}function f(v,y){a=tt.Push;let p=rl(w.location,v,y);n&&n(p,v),u=c()+1;let g=fw(p,u),E=w.createHref(p);try{o.pushState(g,"",E)}catch{i.location.assign(E)}s&&l&&l({action:a,location:w.location,delta:1})}function d(v,y){a=tt.Replace;let p=rl(w.location,v,y);n&&n(p,v),u=c();let g=fw(p,u),E=w.createHref(p);o.replaceState(g,"",E),s&&l&&l({action:a,location:w.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof v=="string"?v:us(v);return me(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let w={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(hw,h),l=v,()=>{i.removeEventListener(hw,h),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:d,go(v){return o.go(v)}};return w}var ot;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ot||(ot={}));const eb=new Set(["lazy","caseSensitive","path","id","index","children"]);function tb(t){return t.index===!0}function F_(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(me(i.index!==!0||!i.children,"Cannot specify children on an index route"),me(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),tb(i)){let l=we({},i,{hasErrorBoundary:e(i),id:a});return r[a]=l,l}else{let l=we({},i,{id:a,hasErrorBoundary:e(i),children:void 0});return r[a]=l,i.children&&(l.children=F_(i.children,e,o,r)),l}})}function Hs(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?or(e):e,i=Vh(r.pathname||"/",n);if(i==null)return null;let s=U_(t);nb(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=hb(s[a],pb(i));return o}function U_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Zi([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U_(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:ub(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of j_(s.path))i(s,o,l)}),e}function j_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=j_(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function nb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cb(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const rb=/^:\w+$/,ib=3,sb=2,ob=1,ab=10,lb=-2,dw=t=>t==="*";function ub(t,e){let n=t.split("/"),r=n.length;return n.some(dw)&&(r+=lb),e&&(r+=sb),n.filter(i=>!dw(i)).reduce((i,s)=>i+(rb.test(s)?ib:s===""?ob:ab),r)}function cb(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function hb(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=fb({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:Zi([i,c.pathname]),pathnameBase:wb(Zi([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=Zi([i,c.pathnameBase]))}return s}function fb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=db(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{if(c==="*"){let f=a[h]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=mb(a[h]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function db(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ls(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pb(t){try{return decodeURI(t)}catch(e){return ls(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function mb(t,e){try{return decodeURIComponent(t)}catch(n){return ls(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Vh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gb(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?or(t):t;return{pathname:n?n.startsWith("/")?n:yb(n,e):e,search:Eb(r),hash:Sb(i)}}function yb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Cd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function B_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=or(t):(i=we({},t),me(!i.pathname||!i.pathname.includes("?"),Cd("?","pathname","search",i)),me(!i.pathname||!i.pathname.includes("#"),Cd("#","pathname","hash",i)),me(!i.search||!i.search.includes("#"),Cd("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=gb(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Zi=t=>t.join("/").replace(/\/\/+/g,"/"),wb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Eb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Sb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class oy{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function z_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const H_=["post","put","patch","delete"],Tb=new Set(H_),_b=["get",...H_],Cb=new Set(_b),Ib=new Set([301,302,303,307,308]),kb=new Set([307,308]),Id={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},xb={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},pw={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ab=!K_,Pb=t=>!!t.hasErrorBoundary;function Rb(t){me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=t.detectErrorBoundary||Pb,n={},r=F_(t.routes,e,void 0,n),i,s=we({v7_normalizeFormMethod:!1},t.future),o=null,a=new Set,l=null,u=null,c=null,h=t.hydrationData!=null,f=Hs(r,t.history.location,t.basename),d=null;if(f==null){let _=Wn(404,{pathname:t.history.location.pathname}),{matches:k,route:b}=Sw(r);f=k,d={[b.id]:_}}let m=!f.some(_=>_.route.lazy)&&(!f.some(_=>_.route.loader)||t.hydrationData!=null),w,v={historyAction:t.history.action,location:t.history.location,matches:f,initialized:m,navigation:Id,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||d,fetchers:new Map,blockers:new Map},y=tt.Pop,p=!1,g,E=!1,T=!1,P=[],A=[],C=new Map,V=0,$=-1,he=new Map,ne=new Set,X=new Map,te=new Map,le=new Map,Ce=!1;function Be(){return o=t.history.listen(_=>{let{action:k,location:b,delta:W}=_;if(Ce){Ce=!1;return}ls(le.size===0||W!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Y=be({currentLocation:v.location,nextLocation:b,historyAction:k});if(Y&&W!=null){Ce=!0,t.history.go(W*-1),Q(Y,{state:"blocked",location:b,proceed(){Q(Y,{state:"proceeding",proceed:void 0,reset:void 0,location:b}),t.history.go(W)},reset(){L(Y),z({blockers:new Map(w.state.blockers)})}});return}return Ye(k,b)}),v.initialized||Ye(tt.Pop,v.location),w}function M(){o&&o(),a.clear(),g&&g.abort(),v.fetchers.forEach((_,k)=>uu(k)),v.blockers.forEach((_,k)=>L(k))}function ee(_){return a.add(_),()=>a.delete(_)}function z(_){v=we({},v,_),a.forEach(k=>k(v))}function Z(_,k){var b,W;let Y=v.actionData!=null&&v.navigation.formMethod!=null&&cr(v.navigation.formMethod)&&v.navigation.state==="loading"&&((b=_.state)==null?void 0:b._isRedirect)!==!0,se;k.actionData?Object.keys(k.actionData).length>0?se=k.actionData:se=null:Y?se=v.actionData:se=null;let oe=k.loaderData?Ew(v.loaderData,k.loaderData,k.matches||[],k.errors):v.loaderData;for(let[re]of le)L(re);let fe=p===!0||v.navigation.formMethod!=null&&cr(v.navigation.formMethod)&&((W=_.state)==null?void 0:W._isRedirect)!==!0;i&&(r=i,i=void 0),z(we({},k,{actionData:se,loaderData:oe,historyAction:y,location:_,initialized:!0,navigation:Id,revalidation:"idle",restoreScrollPosition:ks(_,k.matches||v.matches),preventScrollReset:fe,blockers:new Map(v.blockers)})),E||y===tt.Pop||(y===tt.Push?t.history.push(_,_.state):y===tt.Replace&&t.history.replace(_,_.state)),y=tt.Pop,p=!1,E=!1,T=!1,P=[],A=[]}async function Ie(_,k){if(typeof _=="number"){t.history.go(_);return}let{path:b,submission:W,error:Y}=mw(_,s,k),se=v.location,oe=rl(v.location,b,k&&k.state);oe=we({},oe,t.history.encodeLocation(oe));let fe=k&&k.replace!=null?k.replace:void 0,re=tt.Push;fe===!0?re=tt.Replace:fe===!1||W!=null&&cr(W.formMethod)&&W.formAction===v.location.pathname+v.location.search&&(re=tt.Replace);let Pe=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,Te=be({currentLocation:se,nextLocation:oe,historyAction:re});if(Te){Q(Te,{state:"blocked",location:oe,proceed(){Q(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:oe}),Ie(_,k)},reset(){L(Te),z({blockers:new Map(v.blockers)})}});return}return await Ye(re,oe,{submission:W,pendingError:Y,preventScrollReset:Pe,replace:k&&k.replace})}function xn(){if(bi(),z({revalidation:"loading"}),v.navigation.state!=="submitting"){if(v.navigation.state==="idle"){Ye(v.historyAction,v.location,{startUninterruptedRevalidation:!0});return}Ye(y||v.historyAction,v.navigation.location,{overrideNavigation:v.navigation})}}async function Ye(_,k,b){g&&g.abort(),g=null,y=_,E=(b&&b.startUninterruptedRevalidation)===!0,qf(v.location,v.matches),p=(b&&b.preventScrollReset)===!0;let W=i||r,Y=b&&b.overrideNavigation,se=Hs(W,k,t.basename);if(!se){let pt=Wn(404,{pathname:k.pathname}),{matches:St,route:Pn}=Sw(W);Ne(),Z(k,{matches:St,loaderData:{},errors:{[Pn.id]:pt}});return}if(Lb(v.location,k)&&!(b&&b.submission&&cr(b.submission.formMethod))){Z(k,{matches:se});return}g=new AbortController;let oe=ia(t.history,k,g.signal,b&&b.submission),fe,re;if(b&&b.pendingError)re={[Ws(se).route.id]:b.pendingError};else if(b&&b.submission&&cr(b.submission.formMethod)){let pt=await Bn(oe,k,b.submission,se,{replace:b.replace});if(pt.shortCircuited)return;fe=pt.pendingActionData,re=pt.pendingActionError,Y=we({state:"loading",location:k},b.submission),oe=new Request(oe.url,{signal:oe.signal})}let{shortCircuited:Pe,loaderData:Te,errors:An}=await st(oe,k,se,Y,b&&b.submission,b&&b.fetcherSubmission,b&&b.replace,fe,re);Pe||(g=null,Z(k,we({matches:se},fe?{actionData:fe}:{},{loaderData:Te,errors:An})))}async function Bn(_,k,b,W,Y){bi();let se=we({state:"submitting",location:k},b);z({navigation:se});let oe,fe=cm(W,k);if(!fe.route.action&&!fe.route.lazy)oe={type:ot.error,error:Wn(405,{method:_.method,pathname:k.pathname,routeId:fe.route.id})};else if(oe=await ra("action",_,fe,W,n,e,w.basename),_.signal.aborted)return{shortCircuited:!0};if(ro(oe)){let re;return Y&&Y.replace!=null?re=Y.replace:re=oe.location===v.location.pathname+v.location.search,await Pt(v,oe,{submission:b,replace:re}),{shortCircuited:!0}}if(xa(oe)){let re=Ws(W,fe.route.id);return(Y&&Y.replace)!==!0&&(y=tt.Push),{pendingActionData:{},pendingActionError:{[re.route.id]:oe.error}}}if(Hi(oe))throw Wn(400,{type:"defer-action"});return{pendingActionData:{[fe.route.id]:oe.data}}}async function st(_,k,b,W,Y,se,oe,fe,re){let Pe=W;Pe||(Pe=we({state:"loading",location:k,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Y));let Te=Y||se?Y||se:Pe.formMethod&&Pe.formAction&&Pe.formData&&Pe.formEncType?{formMethod:Pe.formMethod,formAction:Pe.formAction,formData:Pe.formData,formEncType:Pe.formEncType}:void 0,An=i||r,[pt,St]=gw(t.history,v,b,Te,k,T,P,A,X,An,t.basename,fe,re);if(Ne(Rt=>!(b&&b.some(Rn=>Rn.route.id===Rt))||pt&&pt.some(Rn=>Rn.route.id===Rt)),pt.length===0&&St.length===0)return Z(k,we({matches:b,loaderData:{},errors:re||null},fe?{actionData:fe}:{})),{shortCircuited:!0};if(!E){St.forEach(Rn=>{let Ni=v.fetchers.get(Rn.key),Go={state:"loading",data:Ni&&Ni.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(Rn.key,Go)});let Rt=fe||v.actionData;z(we({navigation:Pe},Rt?Object.keys(Rt).length===0?{actionData:null}:{actionData:Rt}:{},St.length>0?{fetchers:new Map(v.fetchers)}:{}))}$=++V,St.forEach(Rt=>C.set(Rt.key,g));let{results:Pn,loaderResults:Ko,fetcherResults:Gf}=await $r(v.matches,b,pt,St,_);if(_.signal.aborted)return{shortCircuited:!0};St.forEach(Rt=>C.delete(Rt.key));let qo=Tw(Pn);if(qo)return await Pt(v,qo,{replace:oe}),{shortCircuited:!0};let{loaderData:xs,errors:Qf}=ww(v,b,pt,Ko,re,St,Gf,te);te.forEach((Rt,Rn)=>{Rt.subscribe(Ni=>{(Ni||Rt.done)&&te.delete(Rn)})}),R();let Yf=H($);return we({loaderData:xs,errors:Qf},Yf||St.length>0?{fetchers:new Map(v.fetchers)}:{})}function Xt(_){return v.fetchers.get(_)||xb}function Is(_,k,b,W){if(Ab)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");C.has(_)&&S(_);let se=Hs(i||r,b,t.basename);if(!se){lu(_,k,Wn(404,{pathname:b}));return}let{path:oe,submission:fe}=mw(b,s,W,!0),re=cm(se,oe);if(p=(W&&W.preventScrollReset)===!0,fe&&cr(fe.formMethod)){Di(_,k,oe,re,se,fe);return}X.set(_,{routeId:k,path:oe}),Mr(_,k,oe,re,se,fe)}async function Di(_,k,b,W,Y,se){if(bi(),X.delete(_),!W.route.action&&!W.route.lazy){let ar=Wn(405,{method:se.formMethod,pathname:b,routeId:k});lu(_,k,ar);return}let oe=v.fetchers.get(_),fe=we({state:"submitting"},se,{data:oe&&oe.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(_,fe),z({fetchers:new Map(v.fetchers)});let re=new AbortController,Pe=ia(t.history,b,re.signal,se);C.set(_,re);let Te=await ra("action",Pe,W,Y,n,e,w.basename);if(Pe.signal.aborted){C.get(_)===re&&C.delete(_);return}if(ro(Te)){C.delete(_),ne.add(_);let ar=we({state:"loading"},se,{data:void 0," _hasFetcherDoneAnything ":!0});return v.fetchers.set(_,ar),z({fetchers:new Map(v.fetchers)}),Pt(v,Te,{submission:se,isFetchActionRedirect:!0})}if(xa(Te)){lu(_,k,Te.error);return}if(Hi(Te))throw Wn(400,{type:"defer-action"});let An=v.navigation.location||v.location,pt=ia(t.history,An,re.signal),St=i||r,Pn=v.navigation.state!=="idle"?Hs(St,v.navigation.location,t.basename):v.matches;me(Pn,"Didn't find any matches after fetcher action");let Ko=++V;he.set(_,Ko);let Gf=we({state:"loading",data:Te.data},se,{" _hasFetcherDoneAnything ":!0});v.fetchers.set(_,Gf);let[qo,xs]=gw(t.history,v,Pn,se,An,T,P,A,X,St,t.basename,{[W.route.id]:Te.data},void 0);xs.filter(ar=>ar.key!==_).forEach(ar=>{let Xf=ar.key,t0=v.fetchers.get(Xf),CP={state:"loading",data:t0&&t0.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(Xf,CP),C.set(Xf,re)}),z({fetchers:new Map(v.fetchers)});let{results:Qf,loaderResults:Yf,fetcherResults:Rt}=await $r(v.matches,Pn,qo,xs,pt);if(re.signal.aborted)return;he.delete(_),C.delete(_),xs.forEach(ar=>C.delete(ar.key));let Rn=Tw(Qf);if(Rn)return Pt(v,Rn);let{loaderData:Ni,errors:Go}=ww(v,v.matches,qo,Yf,void 0,xs,Rt,te),TP={state:"idle",data:Te.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(_,TP);let _P=H(Ko);v.navigation.state==="loading"&&Ko>$?(me(y,"Expected pending action"),g&&g.abort(),Z(v.navigation.location,{matches:Pn,loaderData:Ni,errors:Go,fetchers:new Map(v.fetchers)})):(z(we({errors:Go,loaderData:Ew(v.loaderData,Ni,Pn,Go)},_P?{fetchers:new Map(v.fetchers)}:{})),T=!1)}async function Mr(_,k,b,W,Y,se){let oe=v.fetchers.get(_),fe=we({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},se,{data:oe&&oe.data," _hasFetcherDoneAnything ":!0});v.fetchers.set(_,fe),z({fetchers:new Map(v.fetchers)});let re=new AbortController,Pe=ia(t.history,b,re.signal);C.set(_,re);let Te=await ra("loader",Pe,W,Y,n,e,w.basename);if(Hi(Te)&&(Te=await Y_(Te,Pe.signal,!0)||Te),C.get(_)===re&&C.delete(_),Pe.signal.aborted)return;if(ro(Te)){await Pt(v,Te);return}if(xa(Te)){let pt=Ws(v.matches,k);v.fetchers.delete(_),z({fetchers:new Map(v.fetchers),errors:{[pt.route.id]:Te.error}});return}me(!Hi(Te),"Unhandled fetcher deferred data");let An={state:"idle",data:Te.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(_,An),z({fetchers:new Map(v.fetchers)})}async function Pt(_,k,b){var W;let{submission:Y,replace:se,isFetchActionRedirect:oe}=b===void 0?{}:b;k.revalidate&&(T=!0);let fe=rl(_.location,k.location,we({_isRedirect:!0},oe?{_isFetchActionRedirect:!0}:{}));if(me(fe,"Expected a location on the redirect navigation"),W_.test(k.location)&&K_&&typeof((W=window)==null?void 0:W.location)<"u"){let St=t.history.createURL(k.location),Pn=Vh(St.pathname,t.basename||"/")==null;if(window.location.origin!==St.origin||Pn){se?window.location.replace(k.location):window.location.assign(k.location);return}}g=null;let re=se===!0?tt.Replace:tt.Push,{formMethod:Pe,formAction:Te,formEncType:An,formData:pt}=_.navigation;!Y&&Pe&&Te&&pt&&An&&(Y={formMethod:Pe,formAction:Te,formEncType:An,formData:pt}),kb.has(k.status)&&Y&&cr(Y.formMethod)?await Ye(re,fe,{submission:we({},Y,{formAction:k.location}),preventScrollReset:p}):oe?await Ye(re,fe,{overrideNavigation:{state:"loading",location:fe,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:Y,preventScrollReset:p}):await Ye(re,fe,{overrideNavigation:{state:"loading",location:fe,formMethod:Y?Y.formMethod:void 0,formAction:Y?Y.formAction:void 0,formEncType:Y?Y.formEncType:void 0,formData:Y?Y.formData:void 0},preventScrollReset:p})}async function $r(_,k,b,W,Y){let se=await Promise.all([...b.map(re=>ra("loader",Y,re,k,n,e,w.basename)),...W.map(re=>re.matches&&re.match?ra("loader",ia(t.history,re.path,Y.signal),re.match,re.matches,n,e,w.basename):{type:ot.error,error:Wn(404,{pathname:re.path})})]),oe=se.slice(0,b.length),fe=se.slice(b.length);return await Promise.all([_w(_,b,oe,Y.signal,!1,v.loaderData),_w(_,W.map(re=>re.match),fe,Y.signal,!0)]),{results:se,loaderResults:oe,fetcherResults:fe}}function bi(){T=!0,P.push(...Ne()),X.forEach((_,k)=>{C.has(k)&&(A.push(k),S(k))})}function lu(_,k,b){let W=Ws(v.matches,k);uu(_),z({errors:{[W.route.id]:b},fetchers:new Map(v.fetchers)})}function uu(_){C.has(_)&&S(_),X.delete(_),he.delete(_),ne.delete(_),v.fetchers.delete(_)}function S(_){let k=C.get(_);me(k,"Expected fetch controller: "+_),k.abort(),C.delete(_)}function I(_){for(let k of _){let W={state:"idle",data:Xt(k).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};v.fetchers.set(k,W)}}function R(){let _=[];for(let k of ne){let b=v.fetchers.get(k);me(b,"Expected fetcher: "+k),b.state==="loading"&&(ne.delete(k),_.push(k))}I(_)}function H(_){let k=[];for(let[b,W]of he)if(W<_){let Y=v.fetchers.get(b);me(Y,"Expected fetcher: "+b),Y.state==="loading"&&(S(b),he.delete(b),k.push(b))}return I(k),k.length>0}function F(_,k){let b=v.blockers.get(_)||pw;return le.get(_)!==k&&le.set(_,k),b}function L(_){v.blockers.delete(_),le.delete(_)}function Q(_,k){let b=v.blockers.get(_)||pw;me(b.state==="unblocked"&&k.state==="blocked"||b.state==="blocked"&&k.state==="blocked"||b.state==="blocked"&&k.state==="proceeding"||b.state==="blocked"&&k.state==="unblocked"||b.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+b.state+" -> "+k.state),v.blockers.set(_,k),z({blockers:new Map(v.blockers)})}function be(_){let{currentLocation:k,nextLocation:b,historyAction:W}=_;if(le.size===0)return;le.size>1&&ls(!1,"A router only supports one blocker at a time");let Y=Array.from(le.entries()),[se,oe]=Y[Y.length-1],fe=v.blockers.get(se);if(!(fe&&fe.state==="proceeding")&&oe({currentLocation:k,nextLocation:b,historyAction:W}))return se}function Ne(_){let k=[];return te.forEach((b,W)=>{(!_||_(W))&&(b.cancel(),k.push(W),te.delete(W))}),k}function Vr(_,k,b){if(l=_,c=k,u=b||(W=>W.key),!h&&v.navigation===Id){h=!0;let W=ks(v.location,v.matches);W!=null&&z({restoreScrollPosition:W})}return()=>{l=null,c=null,u=null}}function qf(_,k){if(l&&u&&c){let b=k.map(Y=>Cw(Y,v.loaderData)),W=u(_,b)||_.key;l[W]=c()}}function ks(_,k){if(l&&u&&c){let b=k.map(se=>Cw(se,v.loaderData)),W=u(_,b)||_.key,Y=l[W];if(typeof Y=="number")return Y}return null}function Wo(_){i=_}return w={get basename(){return t.basename},get state(){return v},get routes(){return r},initialize:Be,subscribe:ee,enableScrollRestoration:Vr,navigate:Ie,fetch:Is,revalidate:xn,createHref:_=>t.history.createHref(_),encodeLocation:_=>t.history.encodeLocation(_),getFetcher:Xt,deleteFetcher:uu,dispose:M,getBlocker:F,deleteBlocker:L,_internalFetchControllers:C,_internalActiveDeferreds:te,_internalSetRoutes:Wo},w}function Db(t){return t!=null&&"formData"in t}function mw(t,e,n,r){r===void 0&&(r=!1);let i=typeof t=="string"?t:us(t);if(!n||!Db(n))return{path:i};if(n.formMethod&&!Vb(n.formMethod))return{path:i,error:Wn(405,{method:n.formMethod})};let s;if(n.formData){let l=n.formMethod||"get";if(s={formMethod:e.v7_normalizeFormMethod?l.toUpperCase():l.toLowerCase(),formAction:Q_(i),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},cr(s.formMethod))return{path:i,submission:s}}let o=or(i),a=G_(n.formData);return r&&o.search&&X_(o.search)&&a.append("index",""),o.search="?"+a,{path:us(o),submission:s}}function bb(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function gw(t,e,n,r,i,s,o,a,l,u,c,h,f){let d=f?Object.values(f)[0]:h?Object.values(h)[0]:void 0,m=t.createURL(e.location),w=t.createURL(i),v=s||m.toString()===w.toString()||m.search!==w.search,y=f?Object.keys(f)[0]:void 0,g=bb(n,y).filter((T,P)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(Nb(e.loaderData,e.matches[P],T)||o.some(V=>V===T.route.id))return!0;let A=e.matches[P],C=T;return yw(T,we({currentUrl:m,currentParams:A.params,nextUrl:w,nextParams:C.params},r,{actionResult:d,defaultShouldRevalidate:v||q_(A,C)}))}),E=[];return l.forEach((T,P)=>{if(!n.some($=>$.route.id===T.routeId))return;let A=Hs(u,T.path,c);if(!A){E.push(we({key:P},T,{matches:null,match:null}));return}let C=cm(A,T.path);if(a.includes(P)){E.push(we({key:P,matches:A,match:C},T));return}yw(C,we({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:d,defaultShouldRevalidate:v}))&&E.push(we({key:P,matches:A,match:C},T))}),[g,E]}function Nb(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function q_(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function yw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function vw(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];me(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";ls(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!eb.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:e(we({},i)),lazy:void 0})}async function ra(t,e,n,r,i,s,o,a,l,u){o===void 0&&(o="/"),a===void 0&&(a=!1),l===void 0&&(l=!1);let c,h,f,d=v=>{let y,p=new Promise((g,E)=>y=E);return f=()=>y(),e.signal.addEventListener("abort",f),Promise.race([v({request:e,params:n.params,context:u}),p])};try{let v=n.route[t];if(n.route.lazy)if(v)h=(await Promise.all([d(v),vw(n.route,s,i)]))[0];else if(await vw(n.route,s,i),v=n.route[t],v)h=await d(v);else{if(t==="action")throw Wn(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:n.route.id});return{type:ot.data,data:void 0}}else me(v,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),h=await d(v);me(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){c=ot.error,h=v}finally{f&&e.signal.removeEventListener("abort",f)}if($b(h)){let v=h.status;if(Ib.has(v)){let g=h.headers.get("Location");if(me(g,"Redirects returned/thrown from loaders/actions must have a Location header"),W_.test(g)){if(!a){let E=new URL(e.url),T=g.startsWith("//")?new URL(E.protocol+g):new URL(g),P=Vh(T.pathname,o)!=null;T.origin===E.origin&&P&&(g=T.pathname+T.search+T.hash)}}else{let E=r.slice(0,r.indexOf(n)+1),T=B_(E).map(A=>A.pathnameBase),P=vb(g,T,new URL(e.url).pathname);if(me(us(P),"Unable to resolve redirect location: "+g),o){let A=P.pathname;P.pathname=A==="/"?o:Zi([o,A])}g=us(P)}if(a)throw h.headers.set("Location",g),h;return{type:ot.redirect,status:v,location:g,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(l)throw{type:c||ot.data,response:h};let y,p=h.headers.get("Content-Type");return p&&/\bapplication\/json\b/.test(p)?y=await h.json():y=await h.text(),c===ot.error?{type:c,error:new oy(v,h.statusText,y),headers:h.headers}:{type:ot.data,data:y,statusCode:h.status,headers:h.headers}}if(c===ot.error)return{type:c,error:h};if(Mb(h)){var m,w;return{type:ot.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((w=h.init)==null?void 0:w.headers)&&new Headers(h.init.headers)}}return{type:ot.data,data:h}}function ia(t,e,n,r){let i=t.createURL(Q_(e)).toString(),s={signal:n};if(r&&cr(r.formMethod)){let{formMethod:o,formEncType:a,formData:l}=r;s.method=o.toUpperCase(),s.body=a==="application/x-www-form-urlencoded"?G_(l):l}return new Request(i,s)}function G_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function Ob(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,h)=>{let f=e[h].route.id;if(me(!ro(c),"Cannot handle redirect results in processLoaderData"),xa(c)){let d=Ws(t,f),m=c.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[d.route.id]==null&&(o[d.route.id]=m),s[f]=void 0,l||(l=!0,a=z_(c.error)?c.error.status:500),c.headers&&(u[f]=c.headers)}else Hi(c)?(i.set(f,c.deferredData),s[f]=c.deferredData.data):s[f]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[f]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function ww(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=Ob(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:h,match:f}=s[c];me(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let d=o[c];if(xa(d)){let m=Ws(t.matches,f==null?void 0:f.route.id);u&&u[m.route.id]||(u=we({},u,{[m.route.id]:d.error})),t.fetchers.delete(h)}else if(ro(d))me(!1,"Unhandled fetcher revalidation redirect");else if(Hi(d))me(!1,"Unhandled fetcher deferred data");else{let m={state:"idle",data:d.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(h,m)}}return{loaderData:l,errors:u}}function Ew(t,e,n,r){let i=we({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Ws(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Sw(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"&&(a="defer() is not supported in actions")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new oy(t||500,o,new Error(a),!0)}function Tw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ro(n))return n}}function Q_(t){let e=typeof t=="string"?or(t):t;return us(we({},e,{hash:""}))}function Lb(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Hi(t){return t.type===ot.deferred}function xa(t){return t.type===ot.error}function ro(t){return(t&&t.type)===ot.redirect}function Mb(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function $b(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Vb(t){return Cb.has(t.toLowerCase())}function cr(t){return Tb.has(t.toLowerCase())}async function _w(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(h=>h.route.id===l.route.id),c=u!=null&&!q_(u,l)&&(s&&s[l.route.id])!==void 0;Hi(a)&&(i||c)&&await Y_(a,r,i).then(h=>{h&&(n[o]=h||n[o])})}}async function Y_(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:ot.data,data:t.deferredData.unwrappedData}}catch(i){return{type:ot.error,error:i}}return{type:ot.data,data:t.deferredData.data}}}function X_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Cw(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function cm(t,e){let n=typeof e=="string"?or(e).search:e.search;if(t[t.length-1].route.index&&X_(n||""))return t[t.length-1];let r=B_(t);return r[r.length-1]}/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Ub=typeof Object.is=="function"?Object.is:Fb,{useState:jb,useEffect:Bb,useLayoutEffect:zb,useDebugValue:Hb}=gp;function Wb(t,e,n){const r=e(),[{inst:i},s]=jb({inst:{value:r,getSnapshot:e}});return zb(()=>{i.value=r,i.getSnapshot=e,kd(i)&&s({inst:i})},[t,r,e]),Bb(()=>(kd(i)&&s({inst:i}),t(()=>{kd(i)&&s({inst:i})})),[t]),Hb(r),r}function kd(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!Ub(n,r)}catch{return!0}}function Kb(t,e,n){return e()}const qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Gb=!qb,Qb=Gb?Kb:Wb,Yb="useSyncExternalStore"in gp?(t=>t.useSyncExternalStore)(gp):Qb,ay=x.createContext(null),ly=x.createContext(null),J_=x.createContext(null),Fh=x.createContext(null),Dl=x.createContext({outlet:null,matches:[]}),Z_=x.createContext(null);function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function uy(){return x.useContext(Fh)!=null}function Xb(){return uy()||me(!1),x.useContext(Fh).location}const Jb=x.createContext(null);function Zb(t){let e=x.useContext(Dl).outlet;return e&&x.createElement(Jb.Provider,{value:t},e)}function eN(t,e){uy()||me(!1);let{navigator:n}=x.useContext(J_),r=x.useContext(ly),{matches:i}=x.useContext(Dl),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=Xb(),u;if(e){var c;let w=typeof e=="string"?or(e):e;a==="/"||(c=w.pathname)!=null&&c.startsWith(a)||me(!1),u=w}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",d=Hs(t,{pathname:f}),m=iN(d&&d.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Zi([a,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?a:Zi([a,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return e&&m?x.createElement(Fh.Provider,{value:{location:hm({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:tt.Pop}},m):m}function tN(){let t=lN(),e=z_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:i},n):null,s)}class nN extends x.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(Dl.Provider,{value:this.props.routeContext},x.createElement(Z_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rN(t){let{routeContext:e,match:n,children:r}=t,i=x.useContext(ay);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Dl.Provider,{value:e},r)}function iN(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));s>=0||me(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,a)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,u=null;n&&(o.route.ErrorBoundary?u=x.createElement(o.route.ErrorBoundary,null):o.route.errorElement?u=o.route.errorElement:u=x.createElement(tN,null));let c=e.concat(r.slice(0,a+1)),h=()=>{let f=s;return l?f=u:o.route.Component?f=x.createElement(o.route.Component,null):o.route.element&&(f=o.route.element),x.createElement(rN,{match:o,routeContext:{outlet:s,matches:c},children:f})};return n&&(o.route.ErrorBoundary||o.route.errorElement||a===0)?x.createElement(nN,{location:n.location,component:u,error:l,children:h(),routeContext:{outlet:null,matches:c}}):h()},null)}var Iw;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(Iw||(Iw={}));var Nc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Nc||(Nc={}));function sN(t){let e=x.useContext(ly);return e||me(!1),e}function oN(t){let e=x.useContext(Dl);return e||me(!1),e}function aN(t){let e=oN(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function lN(){var t;let e=x.useContext(Z_),n=sN(Nc.UseRouteError),r=aN(Nc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function uN(t){let{fallbackElement:e,router:n}=t,r=x.useCallback(()=>n.state,[n]),i=Yb(n.subscribe,r,r),s=x.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:l=>n.navigate(l),push:(l,u,c)=>n.navigate(l,{state:u,preventScrollReset:c==null?void 0:c.preventScrollReset}),replace:(l,u,c)=>n.navigate(l,{replace:!0,state:u,preventScrollReset:c==null?void 0:c.preventScrollReset})}),[n]),o=n.basename||"/",a=x.useMemo(()=>({router:n,navigator:s,static:!1,basename:o}),[n,s,o]);return x.createElement(x.Fragment,null,x.createElement(ay.Provider,{value:a},x.createElement(ly.Provider,{value:i},x.createElement(fN,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?x.createElement(dN,null):e))),null)}function cN(t){return Zb(t.context)}function hN(t){me(!1)}function fN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=tt.Pop,navigator:s,static:o=!1}=t;uy()&&me(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=or(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:d="default"}=r,m=x.useMemo(()=>{let w=Vh(u,a);return w==null?null:{location:{pathname:w,search:c,hash:h,state:f,key:d},navigationType:i}},[a,u,c,h,f,d,i]);return m==null?null:x.createElement(J_.Provider,{value:l},x.createElement(Fh.Provider,{children:n,value:m}))}function dN(t){let{children:e,location:n}=t,r=x.useContext(ay),i=r&&!e?r.router.routes:fm(e);return eN(i,n)}var kw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(kw||(kw={}));new Promise(()=>{});function fm(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let s=[...e,i];if(r.type===x.Fragment){n.push.apply(n,fm(r.props.children,s));return}r.type!==hN&&me(!1),!r.props.index||!r.props.children||me(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fm(r.props.children,s)),n.push(o)}),n}function pN(t){return!!t.ErrorBoundary||!!t.errorElement}/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dm.apply(this,arguments)}function mN(t,e){return Rb({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:XD({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||gN(),routes:t,detectErrorBoundary:pN}).initialize()}function gN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=dm({},e,{errors:yN(e.errors)})),e}function yN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new oy(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}var xw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(xw||(xw={}));var Aw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},vN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},tC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,d=u&63;l||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):vN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new wN;const f=s<<2|a>>4;if(r.push(f),u!==64){const d=a<<4&240|u>>2;if(r.push(d),h!==64){const m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EN=function(t){const e=eC(t);return tC.encodeByteArray(e,!0)},Oc=function(t){return EN(t).replace(/\./g,"")},nC=function(t){try{return tC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=()=>SN().__FIREBASE_DEFAULTS__,_N=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nC(t[1]);return e&&JSON.parse(e)},cy=()=>{try{return TN()||_N()||CN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rC=t=>{var e,n;return(n=(e=cy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IN=t=>{const e=rC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},kN=()=>{var t;return(t=cy())===null||t===void 0?void 0:t.config},iC=t=>{var e;return(e=cy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Oc(JSON.stringify(n)),Oc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function RN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bN(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function ON(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="FirebaseError";class Lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LN,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?MN(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Lr(i,a,r)}}function MN(t,e){return t.replace($N,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $N=/\{\$([^}]+)}/g;function VN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Pw(s)&&Pw(o)){if(!Lc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Pw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function FN(t,e){const n=new UN(t,e);return n.subscribe.bind(n)}class UN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=xd),i.error===void 0&&(i.error=xd),i.complete===void 0&&(i.complete=xd);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function xd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(t){return t&&t._delegate?t._delegate:t}class cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BN=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new xN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HN(e))try{this.getOrInitializeService({instanceIdentifier:$i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=$i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$i){return this.instances.has(e)}getOptions(e=$i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$i){return this.component?this.component.multipleInstances?e:$i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zN(t){return t===$i?void 0:t}function HN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const KN={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},qN=Se.INFO,GN={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},QN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hy{constructor(e){this.name=e,this._logLevel=qN,this._logHandler=QN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const YN=(t,e)=>e.some(n=>t instanceof n);let Rw,Dw;function XN(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JN(){return Dw||(Dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sC=new WeakMap,pm=new WeakMap,oC=new WeakMap,Ad=new WeakMap,fy=new WeakMap;function ZN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(li(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sC.set(n,t)}).catch(()=>{}),fy.set(e,t),e}function eO(t){if(pm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pm.set(t,e)}let mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return li(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tO(t){mm=t(mm)}function nO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Pd(this),e,...n);return oC.set(r,e.sort?e.sort():[e]),li(r)}:JN().includes(t)?function(...e){return t.apply(Pd(this),e),li(sC.get(this))}:function(...e){return li(t.apply(Pd(this),e))}}function rO(t){return typeof t=="function"?nO(t):(t instanceof IDBTransaction&&eO(t),YN(t,XN())?new Proxy(t,mm):t)}function li(t){if(t instanceof IDBRequest)return ZN(t);if(Ad.has(t))return Ad.get(t);const e=rO(t);return e!==t&&(Ad.set(t,e),fy.set(e,t)),e}const Pd=t=>fy.get(t);function iO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=li(o);return r&&o.addEventListener("upgradeneeded",l=>{r(li(o.result),l.oldVersion,l.newVersion,li(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const sO=["get","getKey","getAll","getAllKeys","count"],oO=["put","add","delete","clear"],Rd=new Map;function bw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rd.get(e))return Rd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Rd.set(e,s),s}tO(t=>({...t,get:(e,n,r)=>bw(e,n)||t.get(e,n,r),has:(e,n)=>!!bw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function lO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gm="@firebase/app",Nw="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new hy("@firebase/app"),uO="@firebase/app-compat",cO="@firebase/analytics-compat",hO="@firebase/analytics",fO="@firebase/app-check-compat",dO="@firebase/app-check",pO="@firebase/auth",mO="@firebase/auth-compat",gO="@firebase/database",yO="@firebase/database-compat",vO="@firebase/functions",wO="@firebase/functions-compat",EO="@firebase/installations",SO="@firebase/installations-compat",TO="@firebase/messaging",_O="@firebase/messaging-compat",CO="@firebase/performance",IO="@firebase/performance-compat",kO="@firebase/remote-config",xO="@firebase/remote-config-compat",AO="@firebase/storage",PO="@firebase/storage-compat",RO="@firebase/firestore",DO="@firebase/firestore-compat",bO="firebase",NO="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",OO={[gm]:"fire-core",[uO]:"fire-core-compat",[hO]:"fire-analytics",[cO]:"fire-analytics-compat",[dO]:"fire-app-check",[fO]:"fire-app-check-compat",[pO]:"fire-auth",[mO]:"fire-auth-compat",[gO]:"fire-rtdb",[yO]:"fire-rtdb-compat",[vO]:"fire-fn",[wO]:"fire-fn-compat",[EO]:"fire-iid",[SO]:"fire-iid-compat",[TO]:"fire-fcm",[_O]:"fire-fcm-compat",[CO]:"fire-perf",[IO]:"fire-perf-compat",[kO]:"fire-rc",[xO]:"fire-rc-compat",[AO]:"fire-gcs",[PO]:"fire-gcs-compat",[RO]:"fire-fst",[DO]:"fire-fst-compat","fire-js":"fire-js",[bO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,vm=new Map;function LO(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Eo(t){const e=t.name;if(vm.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,t);for(const n of Mc.values())LO(n,t);return!0}function dy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ui=new bl("app","Firebase",MO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=NO;function aC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ym,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=kN()),!n)throw ui.create("no-options");const s=Mc.get(i);if(s){if(Lc(n,s.options)&&Lc(r,s.config))return s;throw ui.create("duplicate-app",{appName:i})}const o=new WN(i);for(const l of vm.values())o.addComponent(l);const a=new $O(n,r,o);return Mc.set(i,a),a}function lC(t=ym){const e=Mc.get(t);if(!e&&t===ym)return aC();if(!e)throw ui.create("no-app",{appName:t});return e}function ci(t,e,n){var r;let i=(r=OO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(a.join(" "));return}Eo(new cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="firebase-heartbeat-database",FO=1,il="firebase-heartbeat-store";let Dd=null;function uC(){return Dd||(Dd=iO(VO,FO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(il)}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),Dd}async function UO(t){try{return(await uC()).transaction(il).objectStore(il).get(cC(t))}catch(e){if(e instanceof Lr)hs.warn(e.message);else{const n=ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(n.message)}}}async function Ow(t,e){try{const r=(await uC()).transaction(il,"readwrite");return await r.objectStore(il).put(e,cC(t)),r.done}catch(n){if(n instanceof Lr)hs.warn(n.message);else{const r=ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hs.warn(r.message)}}}function cC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=1024,BO=30*24*60*60*1e3;class zO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Lw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=BO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Lw(),{heartbeatsToSend:n,unsentEntries:r}=HO(this._heartbeatsCache.heartbeats),i=Oc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Lw(){return new Date().toISOString().substring(0,10)}function HO(t,e=jO){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Mw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?ON().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await UO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ow(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mw(t){return Oc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t){Eo(new cs("platform-logger",e=>new aO(e),"PRIVATE")),Eo(new cs("heartbeat",e=>new zO(e),"PRIVATE")),ci(gm,Nw,t),ci(gm,Nw,"esm2017"),ci("fire-js","")}KO("");function py(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hC(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qO=hC,fC=new bl("auth","Firebase",hC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new hy("@firebase/auth");function GO(t,...e){$c.logLevel<=Se.WARN&&$c.warn(`Auth (${Mo}): ${t}`,...e)}function Ju(t,...e){$c.logLevel<=Se.ERROR&&$c.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,...e){throw my(t,...e)}function Jn(t,...e){return my(t,...e)}function dC(t,e,n){const r=Object.assign(Object.assign({},qO()),{[e]:n});return new bl("auth","Firebase",r).create(e,{appName:t.name})}function QO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ir(t,"argument-error"),dC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function my(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fC.create(t,...e)}function ue(t,e,...n){if(!t)throw my(e,...n)}function gr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ju(e),new Error(e)}function xr(t,e){t||gr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YO(){return $w()==="http:"||$w()==="https:"}function $w(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YO()||RN()||"connection"in navigator)?navigator.onLine:!0}function JO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,xr(n>e,"Short delay should be less than long delay!"),this.isMobile=PN()||DN()}get(){return XO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t,e){xr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=new Ol(3e4,6e4);function mC(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ll(t,e,n,r,i={}){return gC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Nl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),pC.fetch()(yC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function gC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ZO),e);try{const i=new nL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw xu(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw xu(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dC(t,c,u);ir(t,c)}}catch(i){if(i instanceof Lr)throw i;ir(t,"network-request-failed",{message:String(i)})}}async function tL(t,e,n,r,i={}){const s=await Ll(t,e,n,r,i);return"mfaPendingCredential"in s&&ir(t,"multi-factor-auth-required",{_serverResponse:s}),s}function yC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?gy(t.config,i):`${t.config.apiScheme}://${i}`}class nL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Jn(this.auth,"network-request-failed")),eL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Jn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){return Ll(t,"POST","/v1/accounts:delete",e)}async function iL(t,e){return Ll(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function sL(t,e=!1){const n=un(t),r=await n.getIdToken(e),i=yy(r);ue(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Aa(bd(i.auth_time)),issuedAtTime:Aa(bd(i.iat)),expirationTime:Aa(bd(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function bd(t){return Number(t)*1e3}function yy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ju("JWT malformed, contained fewer than 3 sections"),null;try{const i=nC(n);return i?JSON.parse(i):(Ju("Failed to decode base64 JWT payload"),null)}catch(i){return Ju("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function oL(t){const e=yy(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Lr&&aL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await sl(t,iL(n,{idToken:r}));ue(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hL(s.providerUserInfo):[],a=cL(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function uL(t){const e=un(t);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hL(t){return t.map(e=>{var{providerId:n}=e,r=py(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e){const n=await gC(t,{},async()=>{const r=Nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=yC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ue(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await fL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ol;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=py(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await sl(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return sL(this,e)}reload(){return uL(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await sl(this,rL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,p=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:g,emailVerified:E,isAnonymous:T,providerData:P,stsTokenManager:A}=n;ue(g&&A,e,"internal-error");const C=ol.fromJSON(this.name,A);ue(typeof g=="string",e,"internal-error"),Ur(h,e.name),Ur(f,e.name),ue(typeof E=="boolean",e,"internal-error"),ue(typeof T=="boolean",e,"internal-error"),Ur(d,e.name),Ur(m,e.name),Ur(w,e.name),Ur(v,e.name),Ur(y,e.name),Ur(p,e.name);const V=new es({uid:g,auth:e,email:f,emailVerified:E,displayName:h,isAnonymous:T,photoURL:m,phoneNumber:d,tenantId:w,stsTokenManager:C,createdAt:y,lastLoginAt:p});return P&&Array.isArray(P)&&(V.providerData=P.map($=>Object.assign({},$))),v&&(V._redirectEventId=v),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new ol;i.updateFromServerResponse(n);const s=new es({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vc(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;function yr(t){xr(t instanceof Function,"Expected a class definition");let e=Vw.get(t);return e?(xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}wC.type="NONE";const Fw=wC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t,e,n){return`firebase:${t}:${e}:${n}`}class io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new io(yr(Fw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||yr(Fw);const o=Zu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=es._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new io(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(EC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CC(e))return"Blackberry";if(IC(e))return"Webos";if(vy(e))return"Safari";if((e.includes("chrome/")||SC(e))&&!e.includes("edge/"))return"Chrome";if(_C(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function EC(t=Bt()){return/firefox\//i.test(t)}function vy(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SC(t=Bt()){return/crios\//i.test(t)}function TC(t=Bt()){return/iemobile/i.test(t)}function _C(t=Bt()){return/android/i.test(t)}function CC(t=Bt()){return/blackberry/i.test(t)}function IC(t=Bt()){return/webos/i.test(t)}function Uh(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dL(t=Bt()){var e;return Uh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pL(){return bN()&&document.documentMode===10}function kC(t=Bt()){return Uh(t)||_C(t)||IC(t)||CC(t)||/windows phone/i.test(t)||TC(t)}function mL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t,e=[]){let n;switch(t){case"Browser":n=Uw(Bt());break;case"Worker":n=`${Uw(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}async function AC(t,e){return Ll(t,"GET","/v2/recaptchaConfig",mC(t,e))}function jw(t){return t!==void 0&&t.enterprise!==void 0}class PC{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function RC(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Jn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gL().appendChild(r)})}function yL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const vL="https://www.google.com/recaptcha/enterprise.js?render=",wL="recaptcha-enterprise";class EL{constructor(e){this.type=wL,this.auth=Ml(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{AC(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new PC(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;jw(l)?l.enterprise.ready(()=>{try{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(u=>{a(u)})}catch(u){a(u)}}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&jw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}RC(vL+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bw(this),this.idTokenSubscription=new Bw(this),this.beforeStateQueue=new SL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?un(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(yr(e))})}async initializeRecaptchaConfig(){const e=await AC(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new PC(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new EL(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[yr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ue(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&GO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ml(t){return un(t)}class Bw{constructor(e){this.auth=e,this.observer=null,this.addObserver=FN(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e){const n=dy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lc(s,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function CL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function IL(t,e,n){const r=Ml(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=DC(e),{host:o,port:a}=kL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||xL()}function DC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kL(t){const e=DC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:zw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:zw(o)}}}function zw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function xL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gr("not implemented")}_getIdTokenResponse(e){return gr("not implemented")}_linkToIdToken(e,n){return gr("not implemented")}_getReauthenticationResolver(e){return gr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(t,e){return tL(t,"POST","/v1/accounts:signInWithIdp",mC(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL="http://localhost";class fs extends bC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=py(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new fs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,so(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:AL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends $l{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return dr.credential(n,r)}catch{return null}}}dr.GOOGLE_SIGN_IN_METHOD="google.com";dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends $l{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends $l{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await es._fromIdTokenResponse(e,r,i),o=Hw(r);return new So({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Hw(r);return new So({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Hw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Lr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Fc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Fc(e,n,r,i)}}function NC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Fc._fromErrorAndOperation(t,s,e,r):s})}async function PL(t,e,n=!1){const r=await sl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return So._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await sl(t,NC(r,i,e,t),n);ue(s.idToken,r,"internal-error");const o=yy(s.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),So._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(t,e,n=!1){const r="signIn",i=await NC(t,r,e),s=await So._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function bL(t,e,n,r){return un(t).onIdTokenChanged(e,n,r)}function NL(t,e,n){return un(t).beforeAuthStateChanged(e,n)}function OL(t){return un(t).signOut()}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){const t=Bt();return vy(t)||Uh(t)}const ML=1e3,$L=10;class LC extends OC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=LL()&&mL(),this.fallbackToPolling=kC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);pL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$L):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ML)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LC.type="LOCAL";const VL=LC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC extends OC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MC.type="SESSION";const $C=MC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new jh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await FL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Ey("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return window}function jL(t){Zn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(){return typeof Zn().WorkerGlobalScope<"u"&&typeof Zn().importScripts=="function"}async function BL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HL(){return VC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="firebaseLocalStorageDb",WL=1,jc="firebaseLocalStorage",UC="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(t,e){return t.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function KL(){const t=indexedDB.deleteDatabase(FC);return new Vl(t).toPromise()}function Em(){const t=indexedDB.open(FC,WL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jc,{keyPath:UC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jc)?e(r):(r.close(),await KL(),e(await Em()))})})}async function Ww(t,e,n){const r=Bh(t,!0).put({[UC]:e,value:n});return new Vl(r).toPromise()}async function qL(t,e){const n=Bh(t,!1).get(e),r=await new Vl(n).toPromise();return r===void 0?null:r.value}function Kw(t,e){const n=Bh(t,!0).delete(e);return new Vl(n).toPromise()}const GL=800,QL=3;class jC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>QL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(HL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BL(),!this.activeServiceWorker)return;this.sender=new UL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await Ww(e,Uc,"1"),await Kw(e,Uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ww(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bh(i,!1).getAll();return new Vl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jC.type="LOCAL";const YL=jC;new Ol(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t,e){return e?yr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy extends bC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function XL(t){return DL(t.auth,new Sy(t),t.bypassAuthState)}function JL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),RL(n,new Sy(t),t.bypassAuthState)}async function ZL(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),PL(n,new Sy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return XL;case"linkViaPopup":case"linkViaRedirect":return ZL;case"reauthViaPopup":case"reauthViaRedirect":return JL;default:ir(this.auth,"internal-error")}}resolve(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=new Ol(2e3,1e4);async function tM(t,e,n){const r=Ml(t);QO(t,e,wy);const i=BC(r,n);return new Wi(r,"signInViaPopup",e,i).executeNotNull()}class Wi extends zC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wi.currentPopupAction&&Wi.currentPopupAction.cancel(),Wi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){xr(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,eM.get())};e()}}Wi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="pendingRedirect",ec=new Map;class rM extends zC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ec.get(this.auth._key());if(!e){try{const r=await iM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ec.set(this.auth._key(),e)}return this.bypassAuthState||ec.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iM(t,e){const n=aM(e),r=oM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sM(t,e){ec.set(t._key(),e)}function oM(t){return yr(t._redirectPersistence)}function aM(t){return Zu(nM,t.config.apiKey,t.name)}async function lM(t,e,n=!1){const r=Ml(t),i=BC(r,e),o=await new rM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=10*60*1e3;class cM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!hM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!HC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Jn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uM&&this.cachedEventUids.clear(),this.cachedEventUids.has(qw(e))}saveEventToCache(e){this.cachedEventUids.add(qw(e)),this.lastProcessedEventTime=Date.now()}}function qw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function HC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function hM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return HC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fM(t,e={}){return Ll(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pM=/^https?/;async function mM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fM(t);for(const n of e)try{if(gM(n))return}catch{}ir(t,"unauthorized-domain")}function gM(t){const e=wm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!pM.test(n))return!1;if(dM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=new Ol(3e4,6e4);function Gw(){const t=Zn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vM(t){return new Promise((e,n)=>{var r,i,s;function o(){Gw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gw(),n(Jn(t,"network-request-failed"))},timeout:yM.get()})}if(!((i=(r=Zn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Zn().gapi)===null||s===void 0)&&s.load)o();else{const a=yL("iframefcb");return Zn()[a]=()=>{gapi.load?o():n(Jn(t,"network-request-failed"))},RC(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tc=null,e})}let tc=null;function wM(t){return tc=tc||vM(t),tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=new Ol(5e3,15e3),SM="__/auth/iframe",TM="emulator/auth/iframe",_M={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IM(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gy(e,TM):`https://${t.config.authDomain}/${SM}`,r={apiKey:e.apiKey,appName:t.name,v:Mo},i=CM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nl(r).slice(1)}`}async function kM(t){const e=await wM(t),n=Zn().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:IM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_M,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Jn(t,"network-request-failed"),a=Zn().setTimeout(()=>{s(o)},EM.get());function l(){Zn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AM=500,PM=600,RM="_blank",DM="http://localhost";class Qw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bM(t,e,n,r=AM,i=PM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Bt().toLowerCase();n&&(a=SC(u)?RM:n),EC(u)&&(e=e||DM,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[d,m])=>`${f}${d}=${m},`,"");if(dL(u)&&a!=="_self")return NM(e||"",a),new Qw(null);const h=window.open(e||"",a,c);ue(h,t,"popup-blocked");try{h.focus()}catch{}return new Qw(h)}function NM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="__/auth/handler",LM="emulator/auth/handler",MM=encodeURIComponent("fac");async function Yw(t,e,n,r,i,s){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:i};if(e instanceof wy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",VN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof $l){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${MM}=${encodeURIComponent(l)}`:"";return`${$M(t)}?${Nl(a).slice(1)}${u}`}function $M({config:t}){return t.emulator?gy(t,LM):`https://${t.authDomain}/${OM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class VM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$C,this._completeRedirectFn=lM,this._overrideRedirectResult=sM}async _openPopup(e,n,r,i){var s;xr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Yw(e,n,r,wm(),i);return bM(e,o,Ey())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yw(e,n,r,wm(),i);return jL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await kM(e),r=new cM(e);return n.register("authEvent",i=>(ue(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nd,{type:Nd},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Nd];o!==void 0&&n(!!o),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return kC()||vy()||Uh()}}const FM=VM;var Xw="@firebase/auth",Jw="0.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function BM(t){Eo(new cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name}),ue(!(a!=null&&a.includes(":")),"argument-error",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xC(t)},u=new TL(r,i,s,l);return CL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Eo(new cs("auth-internal",e=>{const n=Ml(e.getProvider("auth").getImmediate());return(r=>new UM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ci(Xw,Jw,jM(t)),ci(Xw,Jw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=5*60,HM=iC("authIdTokenMaxAge")||zM;let Zw=null;const WM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>HM)return;const i=n==null?void 0:n.token;Zw!==i&&(Zw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function KM(t=lC()){const e=dy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_L(t,{popupRedirectResolver:FM,persistence:[YL,VL,$C]}),r=iC("authTokenSyncURL");if(r){const s=WM(r);NL(n,s,()=>s(n.currentUser)),bL(n,o=>s(o))}const i=rC("auth");return i&&IL(n,`http://${i}`),n}BM("Browser");function Ln(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function wi(t){return!!t&&!!t[Ve]}function Ar(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===t$}(t)||Array.isArray(t)||!!t[o1]||!!(!((e=t.constructor)===null||e===void 0)&&e[o1])||Ty(t)||_y(t))}function ds(t,e,n){n===void 0&&(n=!1),$o(t)===0?(n?Object.keys:ao)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function $o(t){var e=t[Ve];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ty(t)?2:_y(t)?3:0}function oo(t,e){return $o(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function qM(t,e){return $o(t)===2?t.get(e):t[e]}function WC(t,e,n){var r=$o(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function KC(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function Ty(t){return ZM&&t instanceof Map}function _y(t){return e$&&t instanceof Set}function Vi(t){return t.o||t.t}function Cy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=GC(t);delete e[Ve];for(var n=ao(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Iy(t,e){return e===void 0&&(e=!1),ky(t)||wi(t)||!Ar(t)||($o(t)>1&&(t.set=t.add=t.clear=t.delete=GM),Object.freeze(t),e&&ds(t,function(n,r){return Iy(r,!0)},!0)),t}function GM(){Ln(2)}function ky(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function er(t){var e=Cm[t];return e||Ln(18,t),e}function QM(t,e){Cm[t]||(Cm[t]=e)}function Sm(){return al}function Od(t,e){e&&(er("Patches"),t.u=[],t.s=[],t.v=e)}function Bc(t){Tm(t),t.p.forEach(YM),t.p=null}function Tm(t){t===al&&(al=t.l)}function e1(t){return al={p:[],l:al,h:t,m:!0,_:0}}function YM(t){var e=t[Ve];e.i===0||e.i===1?e.j():e.g=!0}function Ld(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.O||er("ES5").S(e,t,r),r?(n[Ve].P&&(Bc(e),Ln(4)),Ar(t)&&(t=zc(e,t),e.l||Hc(e,t)),e.u&&er("Patches").M(n[Ve].t,t,e.u,e.s)):t=zc(e,n,[]),Bc(e),e.u&&e.v(e.u,e.s),t!==qC?t:void 0}function zc(t,e,n){if(ky(e))return e;var r=e[Ve];if(!r)return ds(e,function(a,l){return t1(t,r,e,a,l,n)},!0),e;if(r.A!==t)return e;if(!r.P)return Hc(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Cy(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),ds(s,function(a,l){return t1(t,r,i,a,l,n,o)}),Hc(t,i,!1),n&&t.u&&er("Patches").N(r,n,t.u,t.s)}return r.o}function t1(t,e,n,r,i,s,o){if(wi(i)){var a=zc(t,i,s&&e&&e.i!==3&&!oo(e.R,r)?s.concat(r):void 0);if(WC(n,r,a),!wi(a))return;t.m=!1}else o&&n.add(i);if(Ar(i)&&!ky(i)){if(!t.h.D&&t._<1)return;zc(t,i),e&&e.A.l||Hc(t,i)}}function Hc(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&Iy(e,n)}function Md(t,e){var n=t[Ve];return(n?Vi(n):t)[e]}function n1(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Yr(t){t.P||(t.P=!0,t.l&&Yr(t.l))}function $d(t){t.o||(t.o=Cy(t.t))}function _m(t,e,n){var r=Ty(e)?er("MapSet").F(e,n):_y(e)?er("MapSet").T(e,n):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Sm(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},l=a,u=ll;o&&(l=[a],u=da);var c=Proxy.revocable(l,u),h=c.revoke,f=c.proxy;return a.k=f,a.j=h,f}(e,n):er("ES5").J(e,n);return(n?n.A:Sm()).p.push(r),r}function XM(t){return wi(t)||Ln(22,t),function e(n){if(!Ar(n))return n;var r,i=n[Ve],s=$o(n);if(i){if(!i.P&&(i.i<4||!er("ES5").K(i)))return i.t;i.I=!0,r=r1(n,s),i.I=!1}else r=r1(n,s);return ds(r,function(o,a){i&&qM(i.t,o)===a||WC(r,o,e(a))}),s===3?new Set(r):r}(t)}function r1(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Cy(t)}function JM(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var l=this[Ve];return ll.get(l,s)},set:function(l){var u=this[Ve];ll.set(u,s,l)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][Ve];if(!a.P)switch(a.i){case 5:r(a)&&Yr(a);break;case 4:n(a)&&Yr(a)}}}function n(s){for(var o=s.t,a=s.k,l=ao(a),u=l.length-1;u>=0;u--){var c=l[u];if(c!==Ve){var h=o[c];if(h===void 0&&!oo(o,c))return!0;var f=a[c],d=f&&f[Ve];if(d?d.t!==h:!KC(f,h))return!0}}var m=!!o[Ve];return l.length!==ao(o).length+(m?0:1)}function r(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var l=0;l<o.length;l++)if(!o.hasOwnProperty(l))return!0;return!1}var i={};QM("ES5",{J:function(s,o){var a=Array.isArray(s),l=function(c,h){if(c){for(var f=Array(h.length),d=0;d<h.length;d++)Object.defineProperty(f,""+d,t(d,!0));return f}var m=GC(h);delete m[Ve];for(var w=ao(m),v=0;v<w.length;v++){var y=w[v];m[y]=t(y,c||!!m[y].enumerable)}return Object.create(Object.getPrototypeOf(h),m)}(a,s),u={i:a?5:4,A:o?o.A:Sm(),P:!1,I:!1,R:{},l:o,t:s,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,Ve,{value:u,writable:!0}),l},S:function(s,o,a){a?wi(o)&&o[Ve].A===s&&e(s.p):(s.u&&function l(u){if(u&&typeof u=="object"){var c=u[Ve];if(c){var h=c.t,f=c.k,d=c.R,m=c.i;if(m===4)ds(f,function(g){g!==Ve&&(h[g]!==void 0||oo(h,g)?d[g]||l(f[g]):(d[g]=!0,Yr(c)))}),ds(h,function(g){f[g]!==void 0||oo(f,g)||(d[g]=!1,Yr(c))});else if(m===5){if(r(c)&&(Yr(c),d.length=!0),f.length<h.length)for(var w=f.length;w<h.length;w++)d[w]=!1;else for(var v=h.length;v<f.length;v++)d[v]=!0;for(var y=Math.min(f.length,h.length),p=0;p<y;p++)f.hasOwnProperty(p)||(d[p]=!0),d[p]===void 0&&l(f[p])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?n(s):r(s)}})}var i1,al,xy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",ZM=typeof Map<"u",e$=typeof Set<"u",s1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",qC=xy?Symbol.for("immer-nothing"):((i1={})["immer-nothing"]=!0,i1),o1=xy?Symbol.for("immer-draftable"):"__$immer_draftable",Ve=xy?Symbol.for("immer-state"):"__$immer_state",t$=""+Object.prototype.constructor,ao=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,GC=Object.getOwnPropertyDescriptors||function(t){var e={};return ao(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},Cm={},ll={get:function(t,e){if(e===Ve)return t;var n=Vi(t);if(!oo(n,e))return function(i,s,o){var a,l=n1(s,o);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!Ar(r)?r:r===Md(t.t,e)?($d(t),t.o[e]=_m(t.A.h,r,t)):r},has:function(t,e){return e in Vi(t)},ownKeys:function(t){return Reflect.ownKeys(Vi(t))},set:function(t,e,n){var r=n1(Vi(t),e);if(r!=null&&r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Md(Vi(t),e),s=i==null?void 0:i[Ve];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(KC(n,i)&&(n!==void 0||oo(t.t,e)))return!0;$d(t),Yr(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Md(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,$d(t),Yr(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Vi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Ln(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Ln(12)}},da={};ds(ll,function(t,e){da[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),da.deleteProperty=function(t,e){return da.set.call(this,t,e,void 0)},da.set=function(t,e,n){return ll.set.call(this,t[0],e,n,t[0])};var n$=function(){function t(n){var r=this;this.O=s1,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var l=r;return function(w){var v=this;w===void 0&&(w=a);for(var y=arguments.length,p=Array(y>1?y-1:0),g=1;g<y;g++)p[g-1]=arguments[g];return l.produce(w,function(E){var T;return(T=s).call.apply(T,[v,E].concat(p))})}}var u;if(typeof s!="function"&&Ln(6),o!==void 0&&typeof o!="function"&&Ln(7),Ar(i)){var c=e1(r),h=_m(r,i,void 0),f=!0;try{u=s(h),f=!1}finally{f?Bc(c):Tm(c)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(w){return Od(c,o),Ld(w,c)},function(w){throw Bc(c),w}):(Od(c,o),Ld(u,c))}if(!i||typeof i!="object"){if((u=s(i))===void 0&&(u=i),u===qC&&(u=void 0),r.D&&Iy(u,!0),o){var d=[],m=[];er("Patches").M(i,u,d,m),o(d,m)}return u}Ln(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(u){for(var c=arguments.length,h=Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];return r.produceWithPatches(u,function(d){return i.apply(void 0,[d].concat(h))})};var o,a,l=r.produce(i,s,function(u,c){o=u,a=c});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,o,a]}):[l,o,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){Ar(n)||Ln(8),wi(n)&&(n=XM(n));var r=e1(this),i=_m(this,n,void 0);return i[Ve].C=!0,Tm(r),i},e.finishDraft=function(n,r){var i=n&&n[Ve],s=i.A;return Od(s,r),Ld(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!s1&&Ln(20),this.O=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=er("Patches").$;return wi(n)?o(n,r):this.produce(n,function(a){return o(a,r)})},t}(),cn=new n$,QC=cn.produce;cn.produceWithPatches.bind(cn);cn.setAutoFreeze.bind(cn);cn.setUseProxies.bind(cn);cn.applyPatches.bind(cn);cn.createDraft.bind(cn);cn.finishDraft.bind(cn);function ul(t){return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function r$(t,e){if(ul(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ul(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i$(t){var e=r$(t,"string");return ul(e)==="symbol"?e:String(e)}function s$(t,e,n){return e=i$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a1(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a1(Object(n),!0).forEach(function(r){s$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ot(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var u1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Vd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Wc={INIT:"@@redux/INIT"+Vd(),REPLACE:"@@redux/REPLACE"+Vd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Vd()}};function o$(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function YC(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ot(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ot(1));return n(YC)(t,e)}if(typeof t!="function")throw new Error(Ot(2));var i=t,s=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(Ot(3));return s}function h(w){if(typeof w!="function")throw new Error(Ot(4));if(l)throw new Error(Ot(5));var v=!0;return u(),a.push(w),function(){if(v){if(l)throw new Error(Ot(6));v=!1,u();var p=a.indexOf(w);a.splice(p,1),o=null}}}function f(w){if(!o$(w))throw new Error(Ot(7));if(typeof w.type>"u")throw new Error(Ot(8));if(l)throw new Error(Ot(9));try{l=!0,s=i(s,w)}finally{l=!1}for(var v=o=a,y=0;y<v.length;y++){var p=v[y];p()}return w}function d(w){if(typeof w!="function")throw new Error(Ot(10));i=w,f({type:Wc.REPLACE})}function m(){var w,v=h;return w={subscribe:function(p){if(typeof p!="object"||p===null)throw new Error(Ot(11));function g(){p.next&&p.next(c())}g();var E=v(g);return{unsubscribe:E}}},w[u1]=function(){return this},w}return f({type:Wc.INIT}),r={dispatch:f,subscribe:h,getState:c,replaceReducer:d},r[u1]=m,r}function a$(t){Object.keys(t).forEach(function(e){var n=t[e],r=n(void 0,{type:Wc.INIT});if(typeof r>"u")throw new Error(Ot(12));if(typeof n(void 0,{type:Wc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ot(13))})}function l$(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];typeof t[i]=="function"&&(n[i]=t[i])}var s=Object.keys(n),o;try{a$(n)}catch(a){o=a}return function(l,u){if(l===void 0&&(l={}),o)throw o;for(var c=!1,h={},f=0;f<s.length;f++){var d=s[f],m=n[d],w=l[d],v=m(w,u);if(typeof v>"u")throw u&&u.type,new Error(Ot(14));h[d]=v,c=c||v!==w}return c=c||s.length!==Object.keys(l).length,c?h:l}}function Kc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function u$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),s=function(){throw new Error(Ot(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(l){return l(o)});return s=Kc.apply(void 0,a)(i.dispatch),l1(l1({},i),{},{dispatch:s})}}}function XC(t){var e=function(r){var i=r.dispatch,s=r.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var JC=XC();JC.withExtraArgument=XC;const c1=JC;var ZC=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),c$=globalThis&&globalThis.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(c){u=[6,c],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},To=globalThis&&globalThis.__spreadArray||function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},h$=Object.defineProperty,f$=Object.defineProperties,d$=Object.getOwnPropertyDescriptors,h1=Object.getOwnPropertySymbols,p$=Object.prototype.hasOwnProperty,m$=Object.prototype.propertyIsEnumerable,f1=function(t,e,n){return e in t?h$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},hi=function(t,e){for(var n in e||(e={}))p$.call(e,n)&&f1(t,n,e[n]);if(h1)for(var r=0,i=h1(e);r<i.length;r++){var n=i[r];m$.call(e,n)&&f1(t,n,e[n])}return t},Fd=function(t,e){return f$(t,d$(e))},g$=function(t,e,n){return new Promise(function(r,i){var s=function(l){try{a(n.next(l))}catch(u){i(u)}},o=function(l){try{a(n.throw(l))}catch(u){i(u)}},a=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(s,o)};a((n=n.apply(t,e)).next())})},y$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kc:Kc.apply(null,arguments)};function v$(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var n=e;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return e===n}var w$=function(t){ZC(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,To([void 0],n[0].concat(this)))):new(e.bind.apply(e,To([void 0],n.concat(this))))},e}(Array),E$=function(t){ZC(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.prototype.concat.apply(this,n)},e.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(e.bind.apply(e,To([void 0],n[0].concat(this)))):new(e.bind.apply(e,To([void 0],n.concat(this))))},e}(Array);function Im(t){return Ar(t)?QC(t,function(){}):t}function S$(t){return typeof t=="boolean"}function T$(){return function(e){return _$(e)}}function _$(t){t===void 0&&(t={});var e=t.thunk,n=e===void 0?!0:e;t.immutableCheck,t.serializableCheck;var r=new w$;return n&&(S$(n)?r.push(c1):r.push(c1.withExtraArgument(n.extraArgument))),r}var C$=!0;function I$(t){var e=T$(),n=t||{},r=n.reducer,i=r===void 0?void 0:r,s=n.middleware,o=s===void 0?e():s,a=n.devTools,l=a===void 0?!0:a,u=n.preloadedState,c=u===void 0?void 0:u,h=n.enhancers,f=h===void 0?void 0:h,d;if(typeof i=="function")d=i;else if(v$(i))d=l$(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var m=o;typeof m=="function"&&(m=m(e));var w=u$.apply(void 0,m),v=Kc;l&&(v=y$(hi({trace:!C$},typeof l=="object"&&l)));var y=new E$(w),p=y;Array.isArray(f)?p=To([w],f):typeof f=="function"&&(p=f(y));var g=v.apply(void 0,p);return YC(d,c,g)}function fi(t,e){function n(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(e){var s=e.apply(void 0,r);if(!s)throw new Error("prepareAction did not return an object");return hi(hi({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:r[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(r){return r.type===t},n}function eI(t){var e={},n=[],r,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(a in e)throw new Error("addCase cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return r=s,i}};return t(i),[e,n,r]}function k$(t){return typeof t=="function"}function x$(t,e,n,r){n===void 0&&(n=[]);var i=typeof e=="function"?eI(e):[e,n,r],s=i[0],o=i[1],a=i[2],l;if(k$(t))l=function(){return Im(t())};else{var u=Im(t);l=function(){return u}}function c(h,f){h===void 0&&(h=l());var d=To([s[f.type]],o.filter(function(m){var w=m.matcher;return w(f)}).map(function(m){var w=m.reducer;return w}));return d.filter(function(m){return!!m}).length===0&&(d=[a]),d.reduce(function(m,w){if(w)if(wi(m)){var v=m,y=w(v,f);return y===void 0?m:y}else{if(Ar(m))return QC(m,function(p){return w(p,f)});var y=w(m,f);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return m},h)}return c.getInitialState=l,c}function A$(t,e){return t+"/"+e}function tI(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof t.initialState=="function"?t.initialState:Im(t.initialState),r=t.reducers||{},i=Object.keys(r),s={},o={},a={};i.forEach(function(c){var h=r[c],f=A$(e,c),d,m;"reducer"in h?(d=h.reducer,m=h.prepare):d=h,s[c]=d,o[f]=d,a[c]=m?fi(f,m):fi(f)});function l(){var c=typeof t.extraReducers=="function"?eI(t.extraReducers):[t.extraReducers],h=c[0],f=h===void 0?{}:h,d=c[1],m=d===void 0?[]:d,w=c[2],v=w===void 0?void 0:w,y=hi(hi({},f),o);return x$(n,function(p){for(var g in y)p.addCase(g,y[g]);for(var E=0,T=m;E<T.length;E++){var P=T[E];p.addMatcher(P.matcher,P.reducer)}v&&p.addDefaultCase(v)})}var u;return{name:e,reducer:function(c,h){return u||(u=l()),u(c,h)},actions:a,caseReducers:s,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var P$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",R$=function(t){t===void 0&&(t=21);for(var e="",n=t;n--;)e+=P$[Math.random()*64|0];return e},D$=["name","message","stack","code"],Ud=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),d1=function(){function t(e,n){this.payload=e,this.meta=n}return t}(),b$=function(t){if(typeof t=="object"&&t!==null){for(var e={},n=0,r=D$;n<r.length;n++){var i=r[n];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,n,r){var i=fi(e+"/fulfilled",function(u,c,h,f){return{payload:u,meta:Fd(hi({},f||{}),{arg:h,requestId:c,requestStatus:"fulfilled"})}}),s=fi(e+"/pending",function(u,c,h){return{payload:void 0,meta:Fd(hi({},h||{}),{arg:c,requestId:u,requestStatus:"pending"})}}),o=fi(e+"/rejected",function(u,c,h,f,d){return{payload:f,error:(r&&r.serializeError||b$)(u||"Rejected"),meta:Fd(hi({},d||{}),{arg:h,requestId:c,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(c,h,f){var d=r!=null&&r.idGenerator?r.idGenerator(u):R$(),m=new a,w;function v(p){w=p,m.abort()}var y=function(){return g$(this,null,function(){var p,g,E,T,P,A,C;return c$(this,function(V){switch(V.label){case 0:return V.trys.push([0,4,,5]),T=(p=r==null?void 0:r.condition)==null?void 0:p.call(r,u,{getState:h,extra:f}),O$(T)?[4,T]:[3,2];case 1:T=V.sent(),V.label=2;case 2:if(T===!1||m.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return P=new Promise(function($,he){return m.signal.addEventListener("abort",function(){return he({name:"AbortError",message:w||"Aborted"})})}),c(s(d,u,(g=r==null?void 0:r.getPendingMeta)==null?void 0:g.call(r,{requestId:d,arg:u},{getState:h,extra:f}))),[4,Promise.race([P,Promise.resolve(n(u,{dispatch:c,getState:h,extra:f,requestId:d,signal:m.signal,abort:v,rejectWithValue:function($,he){return new Ud($,he)},fulfillWithValue:function($,he){return new d1($,he)}})).then(function($){if($ instanceof Ud)throw $;return $ instanceof d1?i($.payload,d,u,$.meta):i($,d,u)})])];case 3:return E=V.sent(),[3,5];case 4:return A=V.sent(),E=A instanceof Ud?o(null,d,u,A.payload,A.meta):o(A,d,u),[3,5];case 5:return C=r&&!r.dispatchConditionRejection&&o.match(E)&&E.meta.condition,C||c(E),[2,E]}})})}();return Object.assign(y,{abort:v,requestId:d,arg:u,unwrap:function(){return y.then(N$)}})}}return Object.assign(l,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function N$(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function O$(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ay="listenerMiddleware";fi(Ay+"/add");fi(Ay+"/removeAll");fi(Ay+"/remove");var p1;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);JM();const L$={isLoading:!1,isSuccess:!1,isError:"",email:null,accessToken:null,id:null},nI=tI({name:"auth",initialState:L$,reducers:{setCredentialsLoading(t){t.isLoading=!0},setCredentials(t,e){t.isLoading=!1,t.isSuccess=!0,t.email=e.payload.email,t.accessToken=e.payload.accessToken,t.id=e.payload.id},removeCredentials(t){t.email=null,t.accessToken=null,t.id=null,t.isLoading=!1}}}),{setCredentials:rI,removeCredentials:iI,setCredentialsLoading:sI}=nI.actions,M$=nI.reducer;var oI={exports:{}},aI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=x;function $$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var V$=typeof Object.is=="function"?Object.is:$$,F$=_o.useState,U$=_o.useEffect,j$=_o.useLayoutEffect,B$=_o.useDebugValue;function z$(t,e){var n=e(),r=F$({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return j$(function(){i.value=n,i.getSnapshot=e,jd(i)&&s({inst:i})},[t,n,e]),U$(function(){return jd(i)&&s({inst:i}),t(function(){jd(i)&&s({inst:i})})},[t]),B$(n),n}function jd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!V$(t,n)}catch{return!0}}function H$(t,e){return e()}var W$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?H$:z$;aI.useSyncExternalStore=_o.useSyncExternalStore!==void 0?_o.useSyncExternalStore:W$;oI.exports=aI;var K$=oI.exports,lI={exports:{}},uI={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=x,q$=K$;function G$(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Q$=typeof Object.is=="function"?Object.is:G$,Y$=q$.useSyncExternalStore,X$=zh.useRef,J$=zh.useEffect,Z$=zh.useMemo,eV=zh.useDebugValue;uI.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=X$(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Z$(function(){function l(d){if(!u){if(u=!0,c=d,d=r(d),i!==void 0&&o.hasValue){var m=o.value;if(i(m,d))return h=m}return h=d}if(m=h,Q$(c,d))return m;var w=r(d);return i!==void 0&&i(m,w)?m:(c=d,h=w)}var u=!1,c,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Y$(t,s[0],s[1]);return J$(function(){o.hasValue=!0,o.value=a},[a]),eV(a),a};lI.exports=uI;var tV=lI.exports;function nV(t){t()}let cI=nV;const rV=t=>cI=t,iV=()=>cI,Ei=x.createContext(null);function hI(){return x.useContext(Ei)}const sV=()=>{throw new Error("uSES not initialized!")};let fI=sV;const oV=t=>{fI=t},aV=(t,e)=>t===e;function lV(t=Ei){const e=t===Ei?hI:()=>x.useContext(t);return function(r,i=aV){const{store:s,subscription:o,getServerState:a}=e(),l=fI(o.addNestedSub,s.getState,a||s.getState,r,i);return x.useDebugValue(l),l}}const uV=lV();var dI={exports:{}},xe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Et=typeof Symbol=="function"&&Symbol.for,Py=Et?Symbol.for("react.element"):60103,Ry=Et?Symbol.for("react.portal"):60106,Hh=Et?Symbol.for("react.fragment"):60107,Wh=Et?Symbol.for("react.strict_mode"):60108,Kh=Et?Symbol.for("react.profiler"):60114,qh=Et?Symbol.for("react.provider"):60109,Gh=Et?Symbol.for("react.context"):60110,Dy=Et?Symbol.for("react.async_mode"):60111,Qh=Et?Symbol.for("react.concurrent_mode"):60111,Yh=Et?Symbol.for("react.forward_ref"):60112,Xh=Et?Symbol.for("react.suspense"):60113,cV=Et?Symbol.for("react.suspense_list"):60120,Jh=Et?Symbol.for("react.memo"):60115,Zh=Et?Symbol.for("react.lazy"):60116,hV=Et?Symbol.for("react.block"):60121,fV=Et?Symbol.for("react.fundamental"):60117,dV=Et?Symbol.for("react.responder"):60118,pV=Et?Symbol.for("react.scope"):60119;function mn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Py:switch(t=t.type,t){case Dy:case Qh:case Hh:case Kh:case Wh:case Xh:return t;default:switch(t=t&&t.$$typeof,t){case Gh:case Yh:case Zh:case Jh:case qh:return t;default:return e}}case Ry:return e}}}function pI(t){return mn(t)===Qh}xe.AsyncMode=Dy;xe.ConcurrentMode=Qh;xe.ContextConsumer=Gh;xe.ContextProvider=qh;xe.Element=Py;xe.ForwardRef=Yh;xe.Fragment=Hh;xe.Lazy=Zh;xe.Memo=Jh;xe.Portal=Ry;xe.Profiler=Kh;xe.StrictMode=Wh;xe.Suspense=Xh;xe.isAsyncMode=function(t){return pI(t)||mn(t)===Dy};xe.isConcurrentMode=pI;xe.isContextConsumer=function(t){return mn(t)===Gh};xe.isContextProvider=function(t){return mn(t)===qh};xe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Py};xe.isForwardRef=function(t){return mn(t)===Yh};xe.isFragment=function(t){return mn(t)===Hh};xe.isLazy=function(t){return mn(t)===Zh};xe.isMemo=function(t){return mn(t)===Jh};xe.isPortal=function(t){return mn(t)===Ry};xe.isProfiler=function(t){return mn(t)===Kh};xe.isStrictMode=function(t){return mn(t)===Wh};xe.isSuspense=function(t){return mn(t)===Xh};xe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Hh||t===Qh||t===Kh||t===Wh||t===Xh||t===cV||typeof t=="object"&&t!==null&&(t.$$typeof===Zh||t.$$typeof===Jh||t.$$typeof===qh||t.$$typeof===Gh||t.$$typeof===Yh||t.$$typeof===fV||t.$$typeof===dV||t.$$typeof===pV||t.$$typeof===hV)};xe.typeOf=mn;dI.exports=xe;var mV=dI.exports,mI=mV,gV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},yV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},gI={};gI[mI.ForwardRef]=gV;gI[mI.Memo]=yV;var Ae={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by=Symbol.for("react.element"),Ny=Symbol.for("react.portal"),ef=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),nf=Symbol.for("react.profiler"),rf=Symbol.for("react.provider"),sf=Symbol.for("react.context"),vV=Symbol.for("react.server_context"),of=Symbol.for("react.forward_ref"),af=Symbol.for("react.suspense"),lf=Symbol.for("react.suspense_list"),uf=Symbol.for("react.memo"),cf=Symbol.for("react.lazy"),wV=Symbol.for("react.offscreen"),yI;yI=Symbol.for("react.module.reference");function kn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case by:switch(t=t.type,t){case ef:case nf:case tf:case af:case lf:return t;default:switch(t=t&&t.$$typeof,t){case vV:case sf:case of:case cf:case uf:case rf:return t;default:return e}}case Ny:return e}}}Ae.ContextConsumer=sf;Ae.ContextProvider=rf;Ae.Element=by;Ae.ForwardRef=of;Ae.Fragment=ef;Ae.Lazy=cf;Ae.Memo=uf;Ae.Portal=Ny;Ae.Profiler=nf;Ae.StrictMode=tf;Ae.Suspense=af;Ae.SuspenseList=lf;Ae.isAsyncMode=function(){return!1};Ae.isConcurrentMode=function(){return!1};Ae.isContextConsumer=function(t){return kn(t)===sf};Ae.isContextProvider=function(t){return kn(t)===rf};Ae.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===by};Ae.isForwardRef=function(t){return kn(t)===of};Ae.isFragment=function(t){return kn(t)===ef};Ae.isLazy=function(t){return kn(t)===cf};Ae.isMemo=function(t){return kn(t)===uf};Ae.isPortal=function(t){return kn(t)===Ny};Ae.isProfiler=function(t){return kn(t)===nf};Ae.isStrictMode=function(t){return kn(t)===tf};Ae.isSuspense=function(t){return kn(t)===af};Ae.isSuspenseList=function(t){return kn(t)===lf};Ae.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ef||t===nf||t===tf||t===af||t===lf||t===wV||typeof t=="object"&&t!==null&&(t.$$typeof===cf||t.$$typeof===uf||t.$$typeof===rf||t.$$typeof===sf||t.$$typeof===of||t.$$typeof===yI||t.getModuleId!==void 0)};Ae.typeOf=kn;function EV(){const t=iV();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],i=e;for(;i;)r.push(i),i=i.next;return r},subscribe(r){let i=!0,s=n={callback:r,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const m1={notify(){},get:()=>[]};function SV(t,e){let n,r=m1;function i(h){return l(),r.subscribe(h)}function s(){r.notify()}function o(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(o):t.subscribe(o),r=EV())}function u(){n&&(n(),n=void 0,r.clear(),r=m1)}const c={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:o,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const TV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_V=TV?x.useLayoutEffect:x.useEffect;function CV({store:t,context:e,children:n,serverState:r}){const i=x.useMemo(()=>{const a=SV(t);return{store:t,subscription:a,getServerState:r?()=>r:void 0}},[t,r]),s=x.useMemo(()=>t.getState(),[t]);_V(()=>{const{subscription:a}=i;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),s!==t.getState()&&a.notifyNestedSubs(),()=>{a.tryUnsubscribe(),a.onStateChange=void 0}},[i,s]);const o=e||Ei;return je.createElement(o.Provider,{value:i},n)}function vI(t=Ei){const e=t===Ei?hI:()=>x.useContext(t);return function(){const{store:r}=e();return r}}const IV=vI();function kV(t=Ei){const e=t===Ei?IV:vI(t);return function(){return e().dispatch}}const xV=kV();oV(tV.useSyncExternalStoreWithSelector);rV(V_.unstable_batchedUpdates);var AV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,Oy=Oy||{},ce=AV||self;function qc(){}function hf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fl(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function PV(t){return Object.prototype.hasOwnProperty.call(t,Bd)&&t[Bd]||(t[Bd]=++RV)}var Bd="closure_uid_"+(1e9*Math.random()>>>0),RV=0;function DV(t,e,n){return t.call.apply(t.bind,arguments)}function bV(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ft(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ft=DV:Ft=bV,Ft.apply(null,arguments)}function Au(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function At(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Ai(){this.s=this.s,this.o=this.o}var NV=0;Ai.prototype.s=!1;Ai.prototype.na=function(){!this.s&&(this.s=!0,this.M(),NV!=0)&&PV(this)};Ai.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ly(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function g1(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(hf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Ut(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ut.prototype.h=function(){this.defaultPrevented=!0};var OV=function(){if(!ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ce.addEventListener("test",qc,e),ce.removeEventListener("test",qc,e)}catch{}return t}();function Gc(t){return/^[\s\xa0]*$/.test(t)}var y1=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function zd(t,e){return t<e?-1:t>e?1:0}function ff(){var t=ce.navigator;return t&&(t=t.userAgent)?t:""}function Gn(t){return ff().indexOf(t)!=-1}function My(t){return My[" "](t),t}My[" "]=qc;function LV(t){var e=VV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var MV=Gn("Opera"),Co=Gn("Trident")||Gn("MSIE"),EI=Gn("Edge"),km=EI||Co,SI=Gn("Gecko")&&!(ff().toLowerCase().indexOf("webkit")!=-1&&!Gn("Edge"))&&!(Gn("Trident")||Gn("MSIE"))&&!Gn("Edge"),$V=ff().toLowerCase().indexOf("webkit")!=-1&&!Gn("Edge");function TI(){var t=ce.document;return t?t.documentMode:void 0}var Qc;e:{var Hd="",Wd=function(){var t=ff();if(SI)return/rv:([^\);]+)(\)|;)/.exec(t);if(EI)return/Edge\/([\d\.]+)/.exec(t);if(Co)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if($V)return/WebKit\/(\S+)/.exec(t);if(MV)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Wd&&(Hd=Wd?Wd[1]:""),Co){var Kd=TI();if(Kd!=null&&Kd>parseFloat(Hd)){Qc=String(Kd);break e}}Qc=Hd}var VV={};function FV(){return LV(function(){let t=0;const e=y1(String(Qc)).split("."),n=y1("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=zd(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||zd(i[2].length==0,s[2].length==0)||zd(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var xm;if(ce.document&&Co){var v1=TI();xm=v1||parseInt(Qc,10)||void 0}else xm=void 0;var UV=xm;function cl(t,e){if(Ut.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(SI){e:{try{My(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:jV[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&cl.X.h.call(this)}}At(cl,Ut);var jV={2:"touch",3:"pen",4:"mouse"};cl.prototype.h=function(){cl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ul="closure_listenable_"+(1e6*Math.random()|0),BV=0;function zV(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++BV,this.ba=this.ea=!1}function df(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function $y(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _I(t){const e={};for(const n in t)e[n]=t[n];return e}const w1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function CI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<w1.length;s++)n=w1[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pf(t){this.src=t,this.g={},this.h=0}pf.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Pm(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new zV(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Am(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=wI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(df(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Pm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Vy="closure_lm_"+(1e6*Math.random()|0),qd={};function II(t,e,n,r,i){if(r&&r.once)return xI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)II(t,e[s],n,r,i);return null}return n=jy(n),t&&t[Ul]?t.N(e,n,Fl(r)?!!r.capture:!!r,i):kI(t,e,n,!1,r,i)}function kI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Fl(i)?!!i.capture:!!i,a=Uy(t);if(a||(t[Vy]=a=new pf(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=HV(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)OV||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(PI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function HV(){function t(n){return e.call(t.src,t.listener,n)}const e=WV;return t}function xI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)xI(t,e[s],n,r,i);return null}return n=jy(n),t&&t[Ul]?t.O(e,n,Fl(r)?!!r.capture:!!r,i):kI(t,e,n,!0,r,i)}function AI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AI(t,e[s],n,r,i);else r=Fl(r)?!!r.capture:!!r,n=jy(n),t&&t[Ul]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Pm(s,n,r,i),-1<n&&(df(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Pm(e,n,r,i)),(n=-1<t?e[t]:null)&&Fy(n))}function Fy(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[Ul])Am(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(PI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uy(e))?(Am(n,t),n.h==0&&(n.src=null,e[Vy]=null)):df(t)}}}function PI(t){return t in qd?qd[t]:qd[t]="on"+t}function WV(t,e){if(t.ba)t=!0;else{e=new cl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Fy(t),t=n.call(r,e)}return t}function Uy(t){return t=t[Vy],t instanceof pf?t:null}var Gd="__closure_events_fn_"+(1e9*Math.random()>>>0);function jy(t){return typeof t=="function"?t:(t[Gd]||(t[Gd]=function(e){return t.handleEvent(e)}),t[Gd])}function wt(){Ai.call(this),this.i=new pf(this),this.P=this,this.I=null}At(wt,Ai);wt.prototype[Ul]=!0;wt.prototype.removeEventListener=function(t,e,n,r){AI(this,t,e,n,r)};function kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Ut(e,t);else if(e instanceof Ut)e.target=e.target||t;else{var i=e;e=new Ut(r,t),CI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Pu(o,r,!0,e)&&i}if(o=e.g=t,i=Pu(o,r,!0,e)&&i,i=Pu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Pu(o,r,!1,e)&&i}wt.prototype.M=function(){if(wt.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)df(n[r]);delete t.g[e],t.h--}}this.I=null};wt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};wt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Pu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&Am(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var By=ce.JSON.stringify;function KV(){var t=bI;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class qV{constructor(){this.h=this.g=null}add(e,n){const r=RI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var RI=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new GV,t=>t.reset());class GV{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function QV(t){ce.setTimeout(()=>{throw t},0)}function DI(t,e){Rm||YV(),Dm||(Rm(),Dm=!0),bI.add(t,e)}var Rm;function YV(){var t=ce.Promise.resolve(void 0);Rm=function(){t.then(XV)}}var Dm=!1,bI=new qV;function XV(){for(var t;t=KV();){try{t.h.call(t.g)}catch(n){QV(n)}var e=RI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Dm=!1}function mf(t,e){wt.call(this),this.h=t||1,this.g=e||ce,this.j=Ft(this.lb,this),this.l=Date.now()}At(mf,wt);q=mf.prototype;q.ca=!1;q.R=null;q.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),kt(this,"tick"),this.ca&&(zy(this),this.start()))}};q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zy(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}q.M=function(){mf.X.M.call(this),zy(this),delete this.g};function Hy(t,e,n){if(typeof t=="function")n&&(t=Ft(t,n));else if(t&&typeof t.handleEvent=="function")t=Ft(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ce.setTimeout(t,e||0)}function NI(t){t.g=Hy(()=>{t.g=null,t.i&&(t.i=!1,NI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class JV extends Ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NI(this)}M(){super.M(),this.g&&(ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hl(t){Ai.call(this),this.h=t,this.g={}}At(hl,Ai);var E1=[];function OI(t,e,n,r){Array.isArray(n)||(n&&(E1[0]=n.toString()),n=E1);for(var i=0;i<n.length;i++){var s=II(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function LI(t){$y(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fy(e)},t),t.g={}}hl.prototype.M=function(){hl.X.M.call(this),LI(this)};hl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gf(){this.g=!0}gf.prototype.Aa=function(){this.g=!1};function ZV(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function eF(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+nF(t,n)+(r?" "+r:"")})}function tF(t,e){t.info(function(){return"TIMEOUT: "+e})}gf.prototype.info=function(){};function nF(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return By(n)}catch{return e}}var Es={},S1=null;function yf(){return S1=S1||new wt}Es.Pa="serverreachability";function MI(t){Ut.call(this,Es.Pa,t)}At(MI,Ut);function fl(t){const e=yf();kt(e,new MI(e))}Es.STAT_EVENT="statevent";function $I(t,e){Ut.call(this,Es.STAT_EVENT,t),this.stat=e}At($I,Ut);function qt(t){const e=yf();kt(e,new $I(e,t))}Es.Qa="timingevent";function VI(t,e){Ut.call(this,Es.Qa,t),this.size=e}At(VI,Ut);function jl(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ce.setTimeout(function(){t()},e)}var vf={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},FI={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Wy(){}Wy.prototype.h=null;function T1(t){return t.h||(t.h=t.i())}function UI(){}var Bl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ky(){Ut.call(this,"d")}At(Ky,Ut);function qy(){Ut.call(this,"c")}At(qy,Ut);var bm;function wf(){}At(wf,Wy);wf.prototype.g=function(){return new XMLHttpRequest};wf.prototype.i=function(){return{}};bm=new wf;function zl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new hl(this),this.O=rF,t=km?125:void 0,this.T=new mf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new jI}function jI(){this.i=null,this.g="",this.h=!1}var rF=45e3,Nm={},Yc={};q=zl.prototype;q.setTimeout=function(t){this.O=t};function Om(t,e,n){t.K=1,t.v=Sf(Pr(e)),t.s=n,t.P=!0,BI(t,null)}function BI(t,e){t.F=Date.now(),Hl(t),t.A=Pr(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),YI(n.i,"t",r),t.C=0,n=t.l.H,t.h=new jI,t.g=yk(t.l,n?e:null,!t.s),0<t.N&&(t.L=new JV(Ft(t.La,t,t.g),t.N)),OI(t.S,t.g,"readystatechange",t.ib),e=t.H?_I(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),fl(),ZV(t.j,t.u,t.A,t.m,t.U,t.s)}q.ib=function(t){t=t.target;const e=this.L;e&&vr(t)==3?e.l():this.La(t)};q.La=function(t){try{if(t==this.g)e:{const c=vr(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>c)&&(c!=3||km||this.g&&(this.h.h||this.g.fa()||k1(this.g)))){this.I||c!=4||e==7||(e==8||0>=h?fl(3):fl(2)),Ef(this);var n=this.g.aa();this.Y=n;t:if(zI(this)){var r=k1(this.g);t="";var i=r.length,s=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ki(this),Pa(this);var o="";break t}this.h.i=new ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,eF(this.j,this.u,this.A,this.m,this.U,c,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gc(a)){var u=a;break t}}u=null}if(n=u)Ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Lm(this,n);else{this.i=!1,this.o=3,qt(12),Ki(this),Pa(this);break e}}this.P?(HI(this,c,o),km&&this.i&&c==3&&(OI(this.S,this.T,"tick",this.hb),this.T.start())):(Ks(this.j,this.m,o,null),Lm(this,o)),c==4&&Ki(this),this.i&&!this.I&&(c==4?dk(this.l,this):(this.i=!1,Hl(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,qt(12)):(this.o=0,qt(13)),Ki(this),Pa(this)}}}catch{}finally{}};function zI(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function HI(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=iF(t,n),i==Yc){e==4&&(t.o=4,qt(14),r=!1),Ks(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Nm){t.o=4,qt(15),Ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ks(t.j,t.m,i,null),Lm(t,i);zI(t)&&i!=Yc&&i!=Nm&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,qt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),ev(e),e.K=!0,qt(11))):(Ks(t.j,t.m,n,"[Invalid Chunked Response]"),Ki(t),Pa(t))}q.hb=function(){if(this.g){var t=vr(this.g),e=this.g.fa();this.C<e.length&&(Ef(this),HI(this,t,e),this.i&&t!=4&&Hl(this))}};function iF(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Yc:(n=Number(e.substring(n,r)),isNaN(n)?Nm:(r+=1,r+n>e.length?Yc:(e=e.substr(r,n),t.C=r+n,e)))}q.cancel=function(){this.I=!0,Ki(this)};function Hl(t){t.V=Date.now()+t.O,WI(t,t.O)}function WI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=jl(Ft(t.gb,t),e)}function Ef(t){t.B&&(ce.clearTimeout(t.B),t.B=null)}q.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(tF(this.j,this.A),this.K!=2&&(fl(),qt(17)),Ki(this),this.o=2,Pa(this)):WI(this,this.V-t)};function Pa(t){t.l.G==0||t.I||dk(t.l,t)}function Ki(t){Ef(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,zy(t.T),LI(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Lm(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Mm(n.h,t))){if(!t.J&&Mm(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Zc(n),Cf(n);else break e;Zy(n),qt(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=jl(Ft(n.cb,n),6e3));if(1>=ZI(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else qi(n,11)}else if((t.J||n.g==t)&&Zc(n),!Gc(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.I=u[1],n.ka=u[2];const c=u[3];c!=null&&(n.ma=c,n.j.info("VER="+n.ma));const h=u[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Gy(s,s.h),s.h=null))}if(r.D){const w=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.za=w,Ue(r.F,r.D,w))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=gk(r,r.H?r.ka:null,r.V),o.J){ek(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Ef(a),Hl(a)),r.g=o}else hk(r);0<n.i.length&&If(n)}else u[0]!="stop"&&u[0]!="close"||qi(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?qi(n,7):Jy(n):u[0]!="noop"&&n.l&&n.l.wa(u),n.A=0)}}fl(4)}catch{}}function sF(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(hf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function oF(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(hf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function KI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(hf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=oF(t),r=sF(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var qI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aF(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ts(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ts){this.h=e!==void 0?e:t.h,Xc(this,t.j),this.s=t.s,this.g=t.g,Jc(this,t.m),this.l=t.l,e=t.i;var n=new dl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),_1(this,n),this.o=t.o}else t&&(n=String(t).match(qI))?(this.h=!!e,Xc(this,n[1]||"",!0),this.s=pa(n[2]||""),this.g=pa(n[3]||"",!0),Jc(this,n[4]),this.l=pa(n[5]||"",!0),_1(this,n[6]||"",!0),this.o=pa(n[7]||"")):(this.h=!!e,this.i=new dl(null,this.h))}ts.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ma(e,C1,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ma(e,C1,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ma(n,n.charAt(0)=="/"?cF:uF,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ma(n,fF)),t.join("")};function Pr(t){return new ts(t)}function Xc(t,e,n){t.j=n?pa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jc(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function _1(t,e,n){e instanceof dl?(t.i=e,dF(t.i,t.h)):(n||(e=ma(e,hF)),t.i=new dl(e,t.h))}function Ue(t,e,n){t.i.set(e,n)}function Sf(t){return Ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function pa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ma(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lF),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lF(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var C1=/[#\/\?@]/g,uF=/[#\?:]/g,cF=/[#\?]/g,hF=/[#\?@]/g,fF=/#/g;function dl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Pi(t){t.g||(t.g=new Map,t.h=0,t.i&&aF(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=dl.prototype;q.add=function(t,e){Pi(this),this.i=null,t=Vo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function GI(t,e){Pi(t),e=Vo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function QI(t,e){return Pi(t),e=Vo(t,e),t.g.has(e)}q.forEach=function(t,e){Pi(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};q.oa=function(){Pi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};q.W=function(t){Pi(this);let e=[];if(typeof t=="string")QI(this,t)&&(e=e.concat(this.g.get(Vo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return Pi(this),this.i=null,t=Vo(this,t),QI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function YI(t,e,n){GI(t,e),0<n.length&&(t.i=null,t.g.set(Vo(t,e),Ly(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Vo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function dF(t,e){e&&!t.j&&(Pi(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(GI(this,r),YI(this,i,n))},t)),t.j=e}var pF=class{constructor(e,n){this.h=e,this.g=n}};function XI(t){this.l=t||mF,ce.PerformanceNavigationTiming?(t=ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ce.g&&ce.g.Ga&&ce.g.Ga()&&ce.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mF=10;function JI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ZI(t){return t.h?1:t.g?t.g.size:0}function Mm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gy(t,e){t.g?t.g.add(e):t.h=e}function ek(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}XI.prototype.cancel=function(){if(this.i=tk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function tk(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ly(t.i)}function Qy(){}Qy.prototype.stringify=function(t){return ce.JSON.stringify(t,void 0)};Qy.prototype.parse=function(t){return ce.JSON.parse(t,void 0)};function gF(){this.g=new Qy}function yF(t,e,n){const r=n||"";try{KI(t,function(i,s){let o=i;Fl(i)&&(o=By(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vF(t,e){const n=new gf;if(ce.Image){const r=new Image;r.onload=Au(Ru,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Au(Ru,n,r,"TestLoadImage: error",!1,e),r.onabort=Au(Ru,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Au(Ru,n,r,"TestLoadImage: timeout",!1,e),ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ru(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wl(t){this.l=t.ac||null,this.j=t.jb||!1}At(Wl,Wy);Wl.prototype.g=function(){return new Tf(this.l,this.j)};Wl.prototype.i=function(t){return function(){return t}}({});function Tf(t,e){wt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}At(Tf,wt);var Yy=0;q=Tf.prototype;q.open=function(t,e){if(this.readyState!=Yy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,pl(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ce).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=Yy};q.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nk(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function nk(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}q.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Kl(this):pl(this),this.readyState==3&&nk(this)}};q.Va=function(t){this.g&&(this.response=this.responseText=t,Kl(this))};q.Ua=function(t){this.g&&(this.response=t,Kl(this))};q.ga=function(){this.g&&Kl(this)};function Kl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pl(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function pl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Tf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var wF=ce.JSON.parse;function Qe(t){wt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rk,this.K=this.L=!1}At(Qe,wt);var rk="",EF=/^https?$/i,SF=["POST","PUT"];q=Qe.prototype;q.Ka=function(t){this.L=t};q.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bm.g(),this.C=this.u?T1(this.u):T1(bm),this.g.onreadystatechange=Ft(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){I1(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ce.FormData&&t instanceof ce.FormData,!(0<=wI(SF,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ok(this),0<this.B&&((this.K=TF(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.qa,this)):this.A=Hy(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){I1(this,s)}};function TF(t){return Co&&FV()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.qa=function(){typeof Oy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kt(this,"timeout"),this.abort(8))};function I1(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ik(t),_f(t)}function ik(t){t.D||(t.D=!0,kt(t,"complete"),kt(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,kt(this,"complete"),kt(this,"abort"),_f(this))};q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_f(this,!0)),Qe.X.M.call(this)};q.Ha=function(){this.s||(this.F||this.v||this.l?sk(this):this.fb())};q.fb=function(){sk(this)};function sk(t){if(t.h&&typeof Oy<"u"&&(!t.C[1]||vr(t)!=4||t.aa()!=2)){if(t.v&&vr(t)==4)Hy(t.Ha,0,t);else if(kt(t,"readystatechange"),vr(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=a===0){var i=String(t.H).match(qI)[1]||null;if(!i&&ce.self&&ce.self.location){var s=ce.self.location.protocol;i=s.substr(0,s.length-1)}r=!EF.test(i?i.toLowerCase():"")}n=r}if(n)kt(t,"complete"),kt(t,"success");else{t.m=6;try{var o=2<vr(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",ik(t)}}finally{_f(t)}}}}function _f(t,e){if(t.g){ok(t);const n=t.g,r=t.C[0]?qc:null;t.g=null,t.C=null,e||kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function ok(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ce.clearTimeout(t.A),t.A=null)}function vr(t){return t.g?t.g.readyState:0}q.aa=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}};q.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),wF(e)}};function k1(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case rk:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}q.Ea=function(){return this.m};q.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ak(t){let e="";return $y(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ak(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ue(t,e,n))}function sa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function lk(t){this.Ca=0,this.i=[],this.j=new gf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=sa("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=sa("baseRetryDelayMs",5e3,t),this.bb=sa("retryDelaySeedMs",1e4,t),this.$a=sa("forwardChannelMaxRetries",2,t),this.ta=sa("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new XI(t&&t.concurrentRequestLimit),this.Fa=new gF,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}q=lk.prototype;q.ma=8;q.G=1;function Jy(t){if(uk(t),t.G==3){var e=t.U++,n=Pr(t.F);Ue(n,"SID",t.I),Ue(n,"RID",e),Ue(n,"TYPE","terminate"),ql(t,n),e=new zl(t,t.j,e,void 0),e.K=2,e.v=Sf(Pr(n)),n=!1,ce.navigator&&ce.navigator.sendBeacon&&(n=ce.navigator.sendBeacon(e.v.toString(),"")),!n&&ce.Image&&(new Image().src=e.v,n=!0),n||(e.g=yk(e.l,null),e.g.da(e.v)),e.F=Date.now(),Hl(e)}mk(t)}function Cf(t){t.g&&(ev(t),t.g.cancel(),t.g=null)}function uk(t){Cf(t),t.u&&(ce.clearTimeout(t.u),t.u=null),Zc(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&ce.clearTimeout(t.m),t.m=null)}function If(t){JI(t.h)||t.m||(t.m=!0,DI(t.Ja,t),t.C=0)}function _F(t,e){return ZI(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=jl(Ft(t.Ja,t,e),pk(t,t.C)),t.C++,!0)}q.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new zl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=_I(s),CI(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=ck(this,i,e),n=Pr(this.F),Ue(n,"RID",t),Ue(n,"CVER",22),this.D&&Ue(n,"X-HTTP-Session-Id",this.D),ql(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(ak(s)))+"&"+e:this.o&&Xy(n,this.o,s)),Gy(this.h,i),this.Ya&&Ue(n,"TYPE","init"),this.O?(Ue(n,"$req",e),Ue(n,"SID","null"),i.Z=!0,Om(i,n,null)):Om(i,n,e),this.G=2}}else this.G==3&&(t?x1(this,t):this.i.length==0||JI(this.h)||x1(this))};function x1(t,e){var n;e?n=e.m:n=t.U++;const r=Pr(t.F);Ue(r,"SID",t.I),Ue(r,"RID",n),Ue(r,"AID",t.T),ql(t,r),t.o&&t.s&&Xy(r,t.o,t.s),n=new zl(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=ck(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Gy(t.h,n),Om(n,r,e)}function ql(t,e){t.ia&&$y(t.ia,function(n,r){Ue(e,r,n)}),t.l&&KI({},function(n,r){Ue(e,r,n)})}function ck(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Ft(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].h;const c=i[l].g;if(u-=s,0>u)s=Math.max(0,i[l].h-100),a=!1;else try{yF(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function hk(t){t.g||t.u||(t.Z=1,DI(t.Ia,t),t.A=0)}function Zy(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=jl(Ft(t.Ia,t),pk(t,t.A)),t.A++,!0)}q.Ia=function(){if(this.u=null,fk(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=jl(Ft(this.eb,this),t)}};q.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,qt(10),Cf(this),fk(this))};function ev(t){t.B!=null&&(ce.clearTimeout(t.B),t.B=null)}function fk(t){t.g=new zl(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Pr(t.sa);Ue(e,"RID","rpc"),Ue(e,"SID",t.I),Ue(e,"CI",t.L?"0":"1"),Ue(e,"AID",t.T),Ue(e,"TYPE","xmlhttp"),ql(t,e),t.o&&t.s&&Xy(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Sf(Pr(e)),n.s=null,n.P=!0,BI(n,t)}q.cb=function(){this.v!=null&&(this.v=null,Cf(this),Zy(this),qt(19))};function Zc(t){t.v!=null&&(ce.clearTimeout(t.v),t.v=null)}function dk(t,e){var n=null;if(t.g==e){Zc(t),ev(t),t.g=null;var r=2}else if(Mm(t.h,e))n=e.D,ek(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=yf(),kt(r,new VI(r,n)),If(t)}else hk(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&_F(t,e)||r==2&&Zy(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:qi(t,5);break;case 4:qi(t,10);break;case 3:qi(t,6);break;default:qi(t,2)}}}function pk(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function qi(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=Ft(t.kb,t);n||(n=new ts("//www.google.com/images/cleardot.gif"),ce.location&&ce.location.protocol=="http"||Xc(n,"https"),Sf(n)),vF(n.toString(),r)}else qt(2);t.G=0,t.l&&t.l.va(e),mk(t),uk(t)}q.kb=function(t){t?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function mk(t){if(t.G=0,t.la=[],t.l){const e=tk(t.h);(e.length!=0||t.i.length!=0)&&(g1(t.la,e),g1(t.la,t.i),t.h.i.length=0,Ly(t.i),t.i.length=0),t.l.ua()}}function gk(t,e,n){var r=n instanceof ts?Pr(n):new ts(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),Jc(r,r.m);else{var i=ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ts(null,void 0);r&&Xc(s,r),e&&(s.g=e),i&&Jc(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&Ue(r,n,e),Ue(r,"VER",t.ma),ql(t,r),r}function yk(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Qe(new Wl({jb:!0})):new Qe(t.ra),e.Ka(t.H),e}function vk(){}q=vk.prototype;q.xa=function(){};q.wa=function(){};q.va=function(){};q.ua=function(){};q.Ra=function(){};function eh(){if(Co&&!(10<=Number(UV)))throw Error("Environmental error: no available transport.")}eh.prototype.g=function(t,e){return new hn(t,e)};function hn(t,e){wt.call(this),this.g=new lk(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Gc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gc(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fo(this)}At(hn,wt);hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;qt(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=gk(t,null,t.V),If(t)};hn.prototype.close=function(){Jy(this.g)};hn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=By(t),t=n);e.i.push(new pF(e.ab++,t)),e.G==3&&If(e)};hn.prototype.M=function(){this.g.l=null,delete this.j,Jy(this.g),delete this.g,hn.X.M.call(this)};function wk(t){Ky.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}At(wk,Ky);function Ek(){qy.call(this),this.status=1}At(Ek,qy);function Fo(t){this.g=t}At(Fo,vk);Fo.prototype.xa=function(){kt(this.g,"a")};Fo.prototype.wa=function(t){kt(this.g,new wk(t))};Fo.prototype.va=function(t){kt(this.g,new Ek)};Fo.prototype.ua=function(){kt(this.g,"b")};eh.prototype.createWebChannel=eh.prototype.g;hn.prototype.send=hn.prototype.u;hn.prototype.open=hn.prototype.m;hn.prototype.close=hn.prototype.close;vf.NO_ERROR=0;vf.TIMEOUT=8;vf.HTTP_ERROR=6;FI.COMPLETE="complete";UI.EventType=Bl;Bl.OPEN="a";Bl.CLOSE="b";Bl.ERROR="c";Bl.MESSAGE="d";wt.prototype.listen=wt.prototype.N;Qe.prototype.listenOnce=Qe.prototype.O;Qe.prototype.getLastError=Qe.prototype.Oa;Qe.prototype.getLastErrorCode=Qe.prototype.Ea;Qe.prototype.getStatus=Qe.prototype.aa;Qe.prototype.getResponseJson=Qe.prototype.Sa;Qe.prototype.getResponseText=Qe.prototype.fa;Qe.prototype.send=Qe.prototype.da;Qe.prototype.setWithCredentials=Qe.prototype.Ka;var CF=function(){return new eh},IF=function(){return yf()},Qd=vf,kF=FI,xF=Es,A1={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},AF=Wl,Du=UI,PF=Qe;const P1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new hy("@firebase/firestore");function R1(){return ps.logLevel}function G(t,...e){if(ps.logLevel<=Se.DEBUG){const n=e.map(tv);ps.debug(`Firestore (${Uo}): ${t}`,...n)}}function Rr(t,...e){if(ps.logLevel<=Se.ERROR){const n=e.map(tv);ps.error(`Firestore (${Uo}): ${t}`,...n)}}function th(t,...e){if(ps.logLevel<=Se.WARN){const n=e.map(tv);ps.warn(`Firestore (${Uo}): ${t}`,...n)}}function tv(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function $e(t,e){t||ae()}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class DF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bF{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new di,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new Sk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Lt(e)}}class NF{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class OF{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new NF(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MF{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.T=n.token,new LF(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$F(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Io(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ct(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new ct(0,0))}static max(){return new de(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ml.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ml?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends ml{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const VF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends ml{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return VF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Le.fromString(e))}static fromName(e){return new J(Le.fromString(e).popFirst(5))}static empty(){return new J(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Le(e.slice()))}}function FF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Si(i,J.empty(),e)}function UF(t){return new Si(t.readTime,t.key,-1)}class Si{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Si(de.min(),J.empty(),-1)}static max(){return new Si(de.max(),J.empty(),-1)}}function jF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==BF)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}nv.ct=-1;function kf(t){return t==null}function nh(t){return t===0&&1/t==-1/0}function HF(t){return typeof t=="number"&&Number.isInteger(t)&&!nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bu(this.root,e,this.comparator,!0)}}class bu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=s??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ct(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b1(this.data.getIterator())}getIteratorFrom(e){return new b1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class b1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new ht(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new WF("Invalid base64 string: "+i):i}}(e);return new zt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const KF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ti(t){if($e(!!t),typeof t=="string"){let e=0;const n=KF.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ko(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ik(t){const e=t.mapValue.fields.__previous_value__;return Ck(e)?Ik(e):e}function gl(t){const e=Ti(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qF{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class yl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ms(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ck(t)?4:GF(t)?9007199254740991:10:ae()}function sr(t,e){if(t===e)return!0;const n=ms(t);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gl(t).isEqual(gl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ti(r.timestampValue),o=Ti(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return ko(r.bytesValue).isEqual(ko(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return nt(r.geoPointValue.latitude)===nt(i.geoPointValue.latitude)&&nt(r.geoPointValue.longitude)===nt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return nt(r.integerValue)===nt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=nt(r.doubleValue),o=nt(i.doubleValue);return s===o?nh(s)===nh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Io(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(D1(s)!==D1(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!sr(s[a],o[a])))return!1;return!0}(t,e);default:return ae()}}function vl(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function xo(t,e){if(t===e)return 0;const n=ms(t),r=ms(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=nt(i.integerValue||i.doubleValue),a=nt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return N1(t.timestampValue,e.timestampValue);case 4:return N1(gl(t),gl(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ko(i),a=ko(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=_e(o[l],a[l]);if(u!==0)return u}return _e(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=_e(nt(i.latitude),nt(s.latitude));return o!==0?o:_e(nt(i.longitude),nt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=xo(o[l],a[l]);if(u)return u}return _e(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Nu.mapValue&&s===Nu.mapValue)return 0;if(i===Nu.mapValue)return 1;if(s===Nu.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const h=_e(a[c],u[c]);if(h!==0)return h;const f=xo(o[a[c]],l[u[c]]);if(f!==0)return f}return _e(a.length,u.length)}(t.mapValue,e.mapValue);default:throw ae()}}function N1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Ti(t),r=Ti(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function Ao(t){return $m(t)}function $m(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ti(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ko(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,J.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=$m(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${$m(r.fields[a])}`;return s+"}"}(t.mapValue):ae();var e,n}function O1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Vm(t){return!!t&&"integerValue"in t}function rv(t){return!!t&&"arrayValue"in t}function L1(t){return!!t&&"nullValue"in t}function M1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function nc(t){return!!t&&"mapValue"in t}function Ra(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ra(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ra(t.arrayValue.values[n]);return e}return Object.assign({},t)}function GF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!nc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ra(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ra(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());nc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];nc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new En(Ra(this.value))}}function kk(t){const e=[];return jo(t.fields,(n,r)=>{const i=new Vt([n]);if(nc(r)){const s=kk(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $t(e,0,de.min(),de.min(),de.min(),En.empty(),0)}static newFoundDocument(e,n,r,i){return new $t(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new $t(e,2,n,de.min(),de.min(),En.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,de.min(),de.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.position=e,this.inclusive=n}}function $1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=xo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function V1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n="asc"){this.field=e,this.dir=n}}function QF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{}class it extends xk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XF(e,n,r):n==="array-contains"?new e2(e,r):n==="in"?new t2(e,r):n==="not-in"?new n2(e,r):n==="array-contains-any"?new r2(e,r):new it(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JF(e,r):new ZF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(xo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(xo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class jn extends xk{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new jn(e,n)}matches(e){return Ak(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ak(t){return t.op==="and"}function Pk(t){return YF(t)&&Ak(t)}function YF(t){for(const e of t.filters)if(e instanceof jn)return!1;return!0}function Fm(t){if(t instanceof it)return t.field.canonicalString()+t.op.toString()+Ao(t.value);if(Pk(t))return t.filters.map(e=>Fm(e)).join(",");{const e=t.filters.map(n=>Fm(n)).join(",");return`${t.op}(${e})`}}function Rk(t,e){return t instanceof it?function(n,r){return r instanceof it&&n.op===r.op&&n.field.isEqual(r.field)&&sr(n.value,r.value)}(t,e):t instanceof jn?function(n,r){return r instanceof jn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Rk(s,r.filters[o]),!0):!1}(t,e):void ae()}function Dk(t){return t instanceof it?function(e){return`${e.field.canonicalString()} ${e.op} ${Ao(e.value)}`}(t):t instanceof jn?function(e){return e.op.toString()+" {"+e.getFilters().map(Dk).join(" ,")+"}"}(t):"Filter"}class XF extends it{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class JF extends it{constructor(e,n){super(e,"in",n),this.keys=bk("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZF extends it{constructor(e,n){super(e,"not-in",n),this.keys=bk("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function bk(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class e2 extends it{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rv(n)&&vl(n.arrayValue,this.value)}}class t2 extends it{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vl(this.value.arrayValue,n)}}class n2 extends it{constructor(e,n){super(e,"not-in",n)}matches(e){if(vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vl(this.value.arrayValue,n)}}class r2 extends it{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function F1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new i2(t,e,n,r,i,s,o)}function iv(t){const e=pe(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Fm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ao(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ao(r)).join(",")),e.ft=n}return e.ft}function sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Rk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V1(t.startAt,e.startAt)&&V1(t.endAt,e.endAt)}function Um(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function s2(t,e,n,r,i,s,o,a){return new Yl(t,e,n,r,i,s,o,a)}function Nk(t){return new Yl(t)}function U1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ok(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ov(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Lk(t){return t.collectionGroup!==null}function lo(t){const e=pe(t);if(e.dt===null){e.dt=[];const n=ov(e),r=Ok(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Da(n)),e.dt.push(new Da(Vt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Da(Vt.keyField(),s))}}}return e.dt}function Dr(t){const e=pe(t);if(!e.wt)if(e.limitType==="F")e.wt=F1(e.path,e.collectionGroup,lo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of lo(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Da(s.field,o))}const r=e.endAt?new rh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new rh(e.startAt.position,e.startAt.inclusive):null;e.wt=F1(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function jm(t,e){e.getFirstInequalityField(),ov(t);const n=t.filters.concat([e]);return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Bm(t,e,n){return new Yl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xf(t,e){return sv(Dr(t),Dr(e))&&t.limitType===e.limitType}function Mk(t){return`${iv(Dr(t))}|lt:${t.limitType}`}function zm(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Dk(r)).join(", ")}]`),kf(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ao(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ao(r)).join(",")),`Target(${n})`}(Dr(t))}; limitType=${t.limitType})`}function Af(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):J.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of lo(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=$1(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,lo(n),r)||n.endAt&&!function(i,s,o){const a=$1(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,lo(n),r))}(t,e)}function o2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $k(t){return(e,n)=>{let r=!1;for(const i of lo(t)){const s=a2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function a2(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?xo(a,l):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _k(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new ft(J.comparator);function br(){return l2}const Vk=new ft(J.comparator);function ga(...t){let e=Vk;for(const n of t)e=e.insert(n.key,n);return e}function Fk(t){let e=Vk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Gi(){return ba()}function Uk(){return ba()}function ba(){return new Bo(t=>t.toString(),(t,e)=>t.isEqual(e))}const u2=new ft(J.comparator),c2=new ht(J.comparator);function ge(...t){let e=c2;for(const n of t)e=e.add(n);return e}const h2=new ht(_e);function jk(){return h2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function zk(t){return{integerValue:""+t}}function f2(t,e){return HF(e)?zk(e):Bk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function d2(t,e,n){return t instanceof ih?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof wl?Wk(t,e):t instanceof El?Kk(t,e):function(r,i){const s=Hk(r,i),o=j1(s)+j1(r._t);return Vm(s)&&Vm(r._t)?zk(o):Bk(r.serializer,o)}(t,e)}function p2(t,e,n){return t instanceof wl?Wk(t,e):t instanceof El?Kk(t,e):n}function Hk(t,e){return t instanceof sh?Vm(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class ih extends Pf{}class wl extends Pf{constructor(e){super(),this.elements=e}}function Wk(t,e){const n=qk(e);for(const r of t.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class El extends Pf{constructor(e){super(),this.elements=e}}function Kk(t,e){let n=qk(e);for(const r of t.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class sh extends Pf{constructor(e,n){super(),this.serializer=e,this._t=n}}function j1(t){return nt(t.integerValue||t.doubleValue)}function qk(t){return rv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function m2(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof wl&&r instanceof wl||n instanceof El&&r instanceof El?Io(n.elements,r.elements,sr):n instanceof sh&&r instanceof sh?sr(n._t,r._t):n instanceof ih&&r instanceof ih}(t.transform,e.transform)}class g2{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Rf{}function Gk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new av(t.key,tr.none()):new Xl(t.key,t.data,tr.none());{const n=t.data,r=En.empty();let i=new ht(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ss(t.key,r,new $n(i.toArray()),tr.none())}}function y2(t,e,n){t instanceof Xl?function(r,i,s){const o=r.value.clone(),a=z1(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ss?function(r,i,s){if(!rc(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=z1(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(Qk(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Na(t,e,n,r){return t instanceof Xl?function(i,s,o,a){if(!rc(i.precondition,s))return o;const l=i.value.clone(),u=H1(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ss?function(i,s,o,a){if(!rc(i.precondition,s))return o;const l=H1(i.fieldTransforms,a,s),u=s.data;return u.setAll(Qk(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(t,e,n,r):function(i,s,o){return rc(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function v2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Hk(r.transform,i||null);s!=null&&(n===null&&(n=En.empty()),n.set(r.field,s))}return n||null}function B1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Io(n,r,(i,s)=>m2(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends Rf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ss extends Rf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Qk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function z1(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p2(o,a,n[i]))}return r}function H1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,d2(s,o,e))}return r}class av extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w2 extends Rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&y2(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Na(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Uk();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Gk(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(n,r)=>B1(n,r))&&Io(this.baseMutations,e.baseMutations,(n,r)=>B1(n,r))}}class lv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=u2;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new lv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze,ve;function _2(t){switch(t){default:return ae();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function Yk(t){if(t===void 0)return Rr("GRPC error has no .code"),D.UNKNOWN;switch(t){case Ze.OK:return D.OK;case Ze.CANCELLED:return D.CANCELLED;case Ze.UNKNOWN:return D.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return D.INTERNAL;case Ze.UNAVAILABLE:return D.UNAVAILABLE;case Ze.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ze.NOT_FOUND:return D.NOT_FOUND;case Ze.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ze.ABORTED:return D.ABORTED;case Ze.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ze.DATA_LOSS:return D.DATA_LOSS;default:return ae()}}(ve=Ze||(Ze={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ou}static getOrCreateInstance(){return Ou===null&&(Ou=new uv),Ou}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Ou=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Df(de.min(),i,jk(),br(),ge())}}class Jl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Jl(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class Xk{constructor(e,n){this.targetId=e,this.Et=n}}class Jk{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class W1{constructor(){this.At=0,this.Rt=q1(),this.vt=zt.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=ge(),n=ge(),r=ge();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae()}}),new Jl(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=q1()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class C2{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=br(),this.qt=K1(),this.Ut=new ht(_e)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Um(o))if(i===0){const a=new J(o.path);this.Qt(r,a,$t.newNoDocument(a,de.min()))}else $e(i===1);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=uv.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Um(a.target)){const l=new J(a.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,$t.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=ge();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Yt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Df(e,n,this.Ut,this.Lt,r);return this.Lt=br(),this.qt=K1(),this.Ut=new ht(_e),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new W1,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new ht(_e),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new W1),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function K1(){return new ft(J.comparator)}function q1(){return new ft(J.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),k2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),x2=(()=>({and:"AND",or:"OR"}))();class A2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function P2(t,e){return oh(t,e.toTimestamp())}function nr(t){return $e(!!t),de.fromTimestamp(function(e){const n=Ti(e);return new ct(n.seconds,n.nanos)}(t))}function cv(t,e){return function(n){return new Le(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ex(t){const e=Le.fromString(t);return $e(ix(e)),e}function Hm(t,e){return cv(t.databaseId,e.path)}function Yd(t,e){const n=ex(e);if(n.get(1)!==t.databaseId.projectId)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(tx(n))}function Wm(t,e){return cv(t.databaseId,e)}function R2(t){const e=ex(t);return e.length===4?Le.emptyPath():tx(e)}function Km(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tx(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function G1(t,e,n){return{name:Hm(t,e),fields:n.value.mapValue.fields}}function D2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?($e(u===void 0||typeof u=="string"),zt.fromBase64String(u||"")):($e(u===void 0||u instanceof Uint8Array),zt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?D.UNKNOWN:Yk(l.code);return new K(u,l.message||"")}(o);n=new Jk(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yd(t,r.document.name),s=nr(r.document.updateTime),o=r.document.createTime?nr(r.document.createTime):de.min(),a=new En({mapValue:{fields:r.document.fields}}),l=$t.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ic(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yd(t,r.document),s=r.readTime?nr(r.readTime):de.min(),o=$t.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ic([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yd(t,r.document),s=r.removedTargetIds||[];n=new ic([],s,i,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new T2(i),o=r.targetId;n=new Xk(o,s)}}return n}function b2(t,e){let n;if(e instanceof Xl)n={update:G1(t,e.key,e.value)};else if(e instanceof av)n={delete:Hm(t,e.key)};else if(e instanceof Ss)n={update:G1(t,e.key,e.data),updateMask:j2(e.fieldMask)};else{if(!(e instanceof w2))return ae();n={verify:Hm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ih)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof wl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof El)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof sh)return{fieldPath:s.field.canonicalString(),increment:o._t};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:P2(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function N2(t,e){return t&&t.length>0?($e(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?nr(r.updateTime):nr(i);return s.isEqual(de.min())&&(s=nr(i)),new g2(s,r.transformResults||[])}(n,e))):[]}function O2(t,e){return{documents:[Wm(t,e.path)]}}function L2(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Wm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return rx(jn.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:Rs(c.field),direction:V2(c.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,u){return l.useProto3Json||kf(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function M2(t){let e=R2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(c){const h=nx(c);return h instanceof jn&&Pk(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(h){return new Da(Ds(h.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(c)));let a=null;n.limit&&(a=function(c){let h;return h=typeof c=="object"?c.value:c,kf(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(c){const h=!!c.before,f=c.values||[];return new rh(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const h=!c.before,f=c.values||[];return new rh(f,h)}(n.endAt)),s2(e,i,o,s,a,"F",l,u)}function $2(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ae()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function nx(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ds(e.unaryFilter.field);return it.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=Ds(e.unaryFilter.field);return it.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ds(e.unaryFilter.field);return it.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ds(e.unaryFilter.field);return it.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(e){return it.create(Ds(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return jn.create(e.compositeFilter.filters.map(n=>nx(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ae()}}(e.compositeFilter.op))}(t):ae()}function V2(t){return I2[t]}function F2(t){return k2[t]}function U2(t){return x2[t]}function Rs(t){return{fieldPath:t.canonicalString()}}function Ds(t){return Vt.fromServerFormat(t.fieldPath)}function rx(t){return t instanceof it?function(e){if(e.op==="=="){if(M1(e.value))return{unaryFilter:{field:Rs(e.field),op:"IS_NAN"}};if(L1(e.value))return{unaryFilter:{field:Rs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(M1(e.value))return{unaryFilter:{field:Rs(e.field),op:"IS_NOT_NAN"}};if(L1(e.value))return{unaryFilter:{field:Rs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rs(e.field),op:F2(e.op),value:e.value}}}(t):t instanceof jn?function(e){const n=e.getFilters().map(r=>rx(r));return n.length===1?n[0]:{compositeFilter:{op:U2(e.op),filters:n}}}(t):ae()}function j2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ix(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,r,i,s=de.min(),o=de.min(),a=zt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.se=e}}function z2(t){const e=M2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.He=new W2}addToCollectionParentIndex(e,n){return this.He.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Si.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class W2{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht(Le.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Po(0)}static bn(){return new Po(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.changes=new Bo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Na(r.mutation,i,$n.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ga();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=br();const o=ba(),a=ba();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ss)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Na(c.mutation,u,c.mutation.getFieldMask(),ct.now())):o.set(u.key,$n.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new q2(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ba();let i=new ft((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||$n.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=Uk();c.forEach(f=>{if(!s.has(f)){const d=Gk(n.get(f),r.get(f));d!==null&&h.set(f,d),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return J.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(Gi());let a=-1,l=s;return o.next(u=>O.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?O.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ge())).next(c=>({batchId:a,changes:Fk(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ga();return this.indexManager.getCollectionParents(e,i).next(o=>O.forEach(o,a=>{const l=function(u,c){return new Yl(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,h)=>{s=s.insert(c,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,$t.newInvalidDocument(u)))});let o=ga();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&Na(u.mutation,l,$n.empty(),ct.now()),Af(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return O.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:nr(r.createTime)}),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:z2(r.bundledQuery),readTime:nr(r.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.overlays=new ft(J.comparator),this.ts=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Gi();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=Gi(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ft((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Gi(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Gi(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return O.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new S2(n,r));let s=this.ts.get(n);s===void 0&&(s=ge(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.es=new ht(mt.ns),this.ss=new ht(mt.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new mt(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new mt(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new J(new Le([])),r=new mt(n,e),i=new mt(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new J(new Le([])),r=new mt(n,e),i=new mt(n,e+1);let s=ge();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mt(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return J.comparator(e.key,n.key)||_e(e.ds,n.ds)}static rs(e,n){return _e(e.ds,n.ds)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new ht(mt.ns)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E2(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(_e);return n.forEach(i=>{const s=new mt(i,0),o=new mt(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),O.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new mt(new J(s),0);let a=new ht(_e);return this._s.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.ds)),!0)},o),O.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){$e(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return O.forEach(n.mutations,i=>{const s=new mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new mt(n,0),i=this._s.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.Ts=e,this.docs=new ft(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$t.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=br();const o=n.path,a=new J(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||jF(UF(c),r)<=0||(i.has(c.key)||Af(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ae()}Es(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Z2(this)}getSize(e){return O.resolve(this.size)}}class Z2 extends K2{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(e){this.persistence=e,this.As=new Bo(n=>iv(n),sv),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Rs=0,this.vs=new hv,this.targetCount=0,this.bs=Po.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),O.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Sn(n),O.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new nv(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new eU(this),this.indexManager=new H2,this.remoteDocumentCache=function(r){return new J2(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new B2(n),this.xs=new Q2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new X2(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new nU(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return O.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class nU extends zF{constructor(e){super(),this.currentSequenceNumber=e}}class fv{constructor(e){this.persistence=e,this.$s=new hv,this.Ms=null}static Fs(e){return new fv(e)}get Bs(){if(this.Ms)return this.Ms;throw ae()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),O.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Bs,r=>{const i=J.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return O.or([()=>O.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new dv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(U1(n))return O.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bm(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ge(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.$i(n,a);return this.Mi(n,u,o,l.readTime)?this.Ni(e,Bm(n,null,"F")):this.Fi(e,u,n,l)}))})))}ki(e,n,r,i){return U1(n)||i.isEqual(de.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(R1()<=Se.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zm(n)),this.Fi(e,o,n,FF(i,-1)))})}$i(e,n){let r=new ht($k(e));return n.forEach((i,s)=>{Af(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return R1()<=Se.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",zm(n)),this.xi.getDocumentsMatchingQuery(e,n,Si.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new ft(_e),this.qi=new Bo(s=>iv(s),sv),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G2(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function sU(t,e,n,r){return new iU(t,e,n,r)}async function sx(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ge();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Qi:u,removedBatchIds:o,addedBatchIds:a}))})})}function oU(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,h=c.keys();let f=O.resolve();return h.forEach(d=>{f=f.next(()=>u.getEntry(a,d)).next(m=>{const w=l.docVersions.get(d);$e(w!==null),m.version.compareTo(w)<0&&(c.applyToRemoteDocument(m,l),m.isValidDocument()&&(m.setReadTime(l.commitVersion),u.addEntry(m)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ge();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ox(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function aU(t,e){const n=pe(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ds.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Ds.addMatchingKeys(s,c.addedDocuments,h)));let d=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?d=d.withResumeToken(zt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(h,d),function(m,w,v){return m.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,d,c)&&a.push(n.Ds.updateTargetData(s,d))});let l=br(),u=ge();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(lU(s,o,e.documentUpdates).next(c=>{l=c.zi,u=c.ji})),!r.isEqual(de.min())){const c=n.Ds.getLastRemoteSnapshotVersion(s).next(h=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Li=i,s))}function lU(t,e,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=br();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{zi:o,ji:i}})}function uU(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cU(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new ns(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function qm(t,e,n){const r=pe(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ql(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function Q1(t,e,n){const r=pe(t);let i=de.min(),s=ge();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=pe(a),h=c.qi.get(u);return h!==void 0?O.resolve(c.Li.get(h)):c.Ds.getTargetData(l,u)}(r,o,Dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:ge())).next(a=>(hU(r,o2(e),a),{documents:a,Wi:s})))}function hU(t,e,n){let r=t.Ui.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class Y1{constructor(){this.activeTargetIds=jk()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fU{constructor(){this.Br=new Y1,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new Y1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=null;function Xd(){return Lu===null?Lu=268435456+Math.round(2147483648*Math.random()):Lu++,"0x"+Lu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nt="WebChannelConnection";class gU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Xd(),a=this.ao(e,n);G("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(u=>(G("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw th("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=pU[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Xd();return new Promise((o,a)=>{const l=new PF;l.setWithCredentials(!0),l.listenOnce(kF.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qd.NO_ERROR:const c=l.getResponseJson();G(Nt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case Qd.TIMEOUT:G(Nt,`RPC '${e}' ${s} timed out`),a(new K(D.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const h=l.getStatus();if(G(Nt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const m=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(v)>=0?v:D.UNKNOWN}(d.status);a(new K(m,d.message))}else a(new K(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(D.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{G(Nt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);G(Nt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}wo(e,n,r){const i=Xd(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CF(),a=IF(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new AF({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");G(Nt,`Creating RPC '${e}' stream ${i}: ${u}`,l);const c=o.createWebChannel(u,l);let h=!1,f=!1;const d=new mU({Wr:w=>{f?G(Nt,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(G(Nt,`Opening RPC '${e}' stream ${i} transport.`),c.open(),h=!0),G(Nt,`RPC '${e}' stream ${i} sending:`,w),c.send(w))},Hr:()=>c.close()}),m=(w,v,y)=>{w.listen(v,p=>{try{y(p)}catch(g){setTimeout(()=>{throw g},0)}})};return m(c,Du.EventType.OPEN,()=>{f||G(Nt,`RPC '${e}' stream ${i} transport opened.`)}),m(c,Du.EventType.CLOSE,()=>{f||(f=!0,G(Nt,`RPC '${e}' stream ${i} transport closed`),d.so())}),m(c,Du.EventType.ERROR,w=>{f||(f=!0,th(Nt,`RPC '${e}' stream ${i} transport errored:`,w),d.so(new K(D.UNAVAILABLE,"The operation could not be completed")))}),m(c,Du.EventType.MESSAGE,w=>{var v;if(!f){const y=w.data[0];$e(!!y);const p=y,g=p.error||((v=p[0])===null||v===void 0?void 0:v.error);if(g){G(Nt,`RPC '${e}' stream ${i} received error:`,g);const E=g.status;let T=function(A){const C=Ze[A];if(C!==void 0)return Yk(C)}(E),P=g.message;T===void 0&&(T=D.INTERNAL,P="Unknown error status: "+E+" with message "+g.message),f=!0,d.so(new K(T,P)),c.close()}else G(Nt,`RPC '${e}' stream ${i} received:`,y),d.io(y)}}),m(a,xF.STAT_EVENT,w=>{w.stat===A1.PROXY?G(Nt,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===A1.NOPROXY&&G(Nt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{d.no()},0),d}}function Jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return new A2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new ax(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new K(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yU extends lx{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=D2(this.serializer,e),r=function(i){if(!("targetChange"in i))return de.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?nr(s.readTime):de.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Km(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Um(a)?{documents:O2(i,a)}:{query:L2(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=Zk(i,s.resumeToken):s.snapshotVersion.compareTo(de.min())>0&&(o.readTime=oh(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=$2(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.Fo(n)}}class vU extends lx{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if($e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=N2(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.Zo(r,n)}return $e(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Km(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>b2(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(D.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(D.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class EU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(Rr(n),this.ru=!1):G("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=pe(a);l.du.add(4),await Zl(l),l.mu.set("Unknown"),l.du.delete(4),await Nf(l)}(this))})}),this.mu=new EU(r,i)}}async function Nf(t){if(Ts(t))for(const e of t.wu)await e(!0)}async function Zl(t){for(const e of t.wu)await e(!1)}function ux(t,e){const n=pe(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),gv(n)?mv(n):zo(n).No()&&pv(n,e))}function cx(t,e){const n=pe(t),r=zo(n);n.fu.delete(e),r.No()&&hx(n,e),n.fu.size===0&&(r.No()?r.$o():Ts(n)&&n.mu.set("Unknown"))}function pv(t,e){t.gu.Ot(e.targetId),zo(t).jo(e)}function hx(t,e){t.gu.Ot(e),zo(t).Wo(e)}function mv(t){t.gu=new C2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),zo(t).start(),t.mu.ou()}function gv(t){return Ts(t)&&!zo(t).xo()&&t.fu.size>0}function Ts(t){return pe(t).du.size===0}function fx(t){t.gu=void 0}async function TU(t){t.fu.forEach((e,n)=>{pv(t,e)})}async function _U(t,e){fx(t),gv(t)?(t.mu.au(e),mv(t)):t.mu.set("Unknown")}async function CU(t,e,n){if(t.mu.set("Online"),e instanceof Jk&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ah(t,r)}else if(e instanceof ic?t.gu.Kt(e):e instanceof Xk?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(de.min()))try{const r=await ox(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.fu.get(l);u&&i.fu.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(zt.EMPTY_BYTE_STRING,l.snapshotVersion)),hx(i,a);const u=new ns(l.target,a,1,l.sequenceNumber);pv(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await ah(t,r)}}async function ah(t,e,n){if(!Ql(e))throw e;t.du.add(1),await Zl(t),t.mu.set("Offline"),n||(n=()=>ox(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Nf(t)})}function dx(t,e){return e().catch(n=>ah(t,n,e))}async function Of(t){const e=pe(t),n=_i(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;IU(e);)try{const i=await uU(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,kU(e,i)}catch(i){await ah(e,i)}px(e)&&mx(e)}function IU(t){return Ts(t)&&t.lu.length<10}function kU(t,e){t.lu.push(e);const n=_i(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function px(t){return Ts(t)&&!_i(t).xo()&&t.lu.length>0}function mx(t){_i(t).start()}async function xU(t){_i(t).tu()}async function AU(t){const e=_i(t);for(const n of t.lu)e.Yo(n.mutations)}async function PU(t,e,n){const r=t.lu.shift(),i=lv.from(r,e,n);await dx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Of(t)}async function RU(t,e){e&&_i(t).Jo&&await async function(n,r){if(i=r.code,_2(i)&&i!==D.ABORTED){const s=n.lu.shift();_i(n).Oo(),await dx(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Of(n)}var i}(t,e),px(t)&&mx(t)}async function J1(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.du.add(3),await Zl(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Nf(n)}async function DU(t,e){const n=pe(t);e?(n.du.delete(2),await Nf(n)):e||(n.du.add(2),await Zl(n),n.mu.set("Unknown"))}function zo(t){return t.yu||(t.yu=function(e,n,r){const i=pe(e);return i.nu(),new yU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:TU.bind(null,t),Zr:_U.bind(null,t),zo:CU.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),gv(t)?mv(t):t.mu.set("Unknown")):(await t.yu.stop(),fx(t))})),t.yu}function _i(t){return t.pu||(t.pu=function(e,n,r){const i=pe(e);return i.nu(),new vU(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:xU.bind(null,t),Zr:RU.bind(null,t),Xo:AU.bind(null,t),Zo:PU.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Of(t)):(await t.pu.stop(),t.lu.length>0&&(G("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new yv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),Ql(t))return new K(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=ga(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(){this.Iu=new ft(J.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):ae():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ro{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ro(e,n,uo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.Eu=void 0,this.listeners=[]}}class NU{constructor(){this.queries=new Bo(e=>Mk(e),xf),this.onlineState="Unknown",this.Au=new Set}}async function OU(t,e){const n=pe(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bU),i)try{s.Eu=await n.onListen(r)}catch(o){const a=vv(o,`Initialization of query '${zm(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&wv(n)}async function LU(t,e){const n=pe(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function MU(t,e){const n=pe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&wv(n)}function $U(t,e,n){const r=pe(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function wv(t){t.Au.forEach(e=>{e.next()})}class VU{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e){this.key=e}}class yx{constructor(e){this.key=e}}class FU{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=ge(),this.mutatedKeys=ge(),this.Ku=$k(e),this.Gu=new uo(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new Z1,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),d=Af(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),w=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;f&&d?f.data.isEqual(d.data)?m!==w&&(r.track({type:3,doc:d}),v=!0):this.Wu(f,d)||(r.track({type:2,doc:d}),v=!0,(l&&this.Ku(d,l)>0||u&&this.Ku(d,u)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),v=!0):f&&!d&&(r.track({type:1,doc:f}),v=!0,(l||u)&&(a=!0)),v&&(d?(o=o.add(d),s=w?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((u,c)=>function(h,f){const d=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return d(h)-d(f)}(u.type,c.type)||this.Ku(u.doc,c.doc)),this.Hu(r);const o=n?this.Ju():[],a=this.Uu.size===0&&this.current?1:0,l=a!==this.qu;return this.qu=a,s.length!==0||l?{snapshot:new Ro(this.query,e.Gu,i,s,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new Z1,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=ge(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new yx(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new gx(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=ge();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Ro.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class UU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jU{constructor(e){this.key=e,this.ec=!1}}class BU{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new Bo(a=>Mk(a),xf),this.ic=new Map,this.rc=new Set,this.oc=new ft(J.comparator),this.uc=new Map,this.cc=new hv,this.ac={},this.hc=new Map,this.lc=Po.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function zU(t,e){const n=ZU(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await cU(n.localStore,Dr(e));n.isPrimaryClient&&ux(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await HU(n,e,r,a==="current",o.resumeToken)}return i}async function HU(t,e,n,r,i){t.dc=(h,f,d)=>async function(m,w,v,y){let p=w.view.zu(v);p.Mi&&(p=await Q1(m.localStore,w.query,!1).then(({documents:T})=>w.view.zu(T,p)));const g=y&&y.targetChanges.get(w.targetId),E=w.view.applyChanges(p,m.isPrimaryClient,g);return tE(m,w.targetId,E.Yu),E.snapshot}(t,h,f,d);const s=await Q1(t.localStore,e,!0),o=new FU(e,s.Wi),a=o.zu(s.documents),l=Jl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);tE(t,n,u.Yu);const c=new UU(e,n,o);return t.sc.set(e,c),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),u.snapshot}async function WU(t,e){const n=pe(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!xf(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await qm(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),cx(n.remoteStore,r.targetId),Gm(n,r.targetId)}).catch(Gl)):(Gm(n,r.targetId),await qm(n.localStore,r.targetId,!0))}async function KU(t,e,n){const r=ej(t);try{const i=await function(s,o){const a=pe(s),l=ct.now(),u=o.reduce((f,d)=>f.add(d.key),ge());let c,h;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=br(),m=ge();return a.Ki.getEntries(f,u).next(w=>{d=w,d.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(w=>{c=w;const v=[];for(const y of o){const p=v2(y,c.get(y.key).overlayedDocument);p!=null&&v.push(new Ss(y.key,p,kk(p.value.mapValue),tr.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,v,o)}).next(w=>{h=w;const v=w.applyToLocalDocumentSet(c,m);return a.documentOverlayCache.saveOverlays(f,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:Fk(c)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new ft(_e)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await eu(r,i.changes),await Of(r.remoteStore)}catch(i){const s=vv(i,"Failed to persist write");n.reject(s)}}async function vx(t,e){const n=pe(t);try{const r=await aU(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?$e(o.ec):i.removedDocuments.size>0&&($e(o.ec),o.ec=!1))}),await eu(n,r,e)}catch(r){await Gl(r)}}function eE(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=pe(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const h of c.listeners)h.Ru(o)&&(l=!0)}),l&&wv(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qU(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new ft(J.comparator);o=o.insert(s,$t.newNoDocument(s,de.min()));const a=ge().add(s),l=new Df(de.min(),new Map,new ht(_e),o,a);await vx(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Ev(r)}else await qm(r.localStore,e,!1).then(()=>Gm(r,e,n)).catch(Gl)}async function GU(t,e){const n=pe(t),r=e.batch.batchId;try{const i=await oU(n.localStore,e);Ex(n,r,null),wx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,i)}catch(i){await Gl(i)}}async function QU(t,e,n){const r=pe(t);try{const i=await function(s,o){const a=pe(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>($e(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,e);Ex(r,e,n),wx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,i)}catch(i){await Gl(i)}}function wx(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Ex(t,e,n){const r=pe(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function Gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||Sx(t,r)})}function Sx(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(cx(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Ev(t))}function tE(t,e,n){for(const r of n)r instanceof gx?(t.cc.addReference(r.key,e),YU(t,r)):r instanceof yx?(G("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||Sx(t,r.key)):ae()}function YU(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(G("SyncEngine","New document in limbo: "+n),t.rc.add(r),Ev(t))}function Ev(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new J(Le.fromString(e)),r=t.lc.next();t.uc.set(r,new jU(n)),t.oc=t.oc.insert(n,r),ux(t.remoteStore,new ns(Dr(Nk(n.path)),r,2,nv.ct))}}async function eu(t,e,n){const r=pe(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=dv.Di(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.nc.zo(i),await async function(a,l){const u=pe(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>O.forEach(l,h=>O.forEach(h.Vi,f=>u.persistence.referenceDelegate.addReference(c,h.targetId,f)).next(()=>O.forEach(h.Si,f=>u.persistence.referenceDelegate.removeReference(c,h.targetId,f)))))}catch(c){if(!Ql(c))throw c;G("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const h=c.targetId;if(!c.fromCache){const f=u.Li.get(h),d=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(d);u.Li=u.Li.insert(h,m)}}}(r.localStore,s))}async function XU(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await sx(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(a=>{a.reject(new K(D.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.Qi)}}function JU(t,e){const n=pe(t),r=n.uc.get(e);if(r&&r.ec)return ge().add(r.key);{let i=ge();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}function ZU(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qU.bind(null,e),e.nc.zo=MU.bind(null,e.eventManager),e.nc.wc=$U.bind(null,e.eventManager),e}function ej(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QU.bind(null,e),e}class nE{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sU(this.persistence,new rU,e.initialUser,this.serializer)}createPersistence(e){return new tU(fv.Fs,this.serializer)}createSharedClientState(e){return new fU}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tj{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>eE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XU.bind(null,this.syncEngine),await DU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new NU}createDatastore(e){const n=bf(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new gU(i));var i;return function(s,o,a,l){return new wU(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>eE(this.syncEngine,a,0),o=X1.D()?new X1:new dU,new SU(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,u){const c=new BU(r,i,s,o,a,l);return u&&(c.fc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=pe(e);G("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Zl(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Lt.UNAUTHENTICATED,this.clientId=Tk.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Zd(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await sx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await sj(t);G("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>J1(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>J1(e.remoteStore,s)),t._onlineComponents=e}function ij(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function sj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ij(n))throw n;th("Error using user provided cache. Falling back to memory cache: "+n),await Zd(t,new nE)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await Zd(t,new nE);return t._offlineComponents}async function Tx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await rE(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await rE(t,new tj))),t._onlineComponents}function oj(t){return Tx(t).then(e=>e.syncEngine)}async function aj(t){const e=await Tx(t),n=e.eventManager;return n.onListen=zU.bind(null,e.syncEngine),n.onUnlisten=WU.bind(null,e.syncEngine),n}function lj(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new nj({next:h=>{s.enqueueAndForget(()=>LU(i,c)),h.fromCache&&a.source==="server"?l.reject(new K(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(h)},error:h=>l.reject(h)}),c=new VU(o,u,{includeMetadataChanges:!0,xu:!0});return OU(i,c)}(await aj(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t,e,n){if(!n)throw new K(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uj(t,e,n,r){if(e===!0&&r===!0)throw new K(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sE(t){if(!J.isDocumentKey(t))throw new K(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oE(t){if(J.isDocumentKey(t))throw new K(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Lf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Sl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lf(t);throw new K(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new K(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new RF;switch(n.type){case"firstParty":return new OF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new K(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=iE.get(e);n&&(G("ComponentProvider","Removing Datastore"),iE.delete(e),n.terminate())}(this),Promise.resolve()}}function cj(t,e,n,r={}){var i;const s=(t=Sl(t,Mf))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&th("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Lt.MOCK_USER;else{o=AN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new K(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Lt(l)}t._authCredentials=new DF(new Sk(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class Ho{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class pi extends Ho{constructor(e,n,r){super(e,n,Nk(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new J(e))}withConverter(e){return new pi(this.firestore,e,this._path)}}function hj(t,e,...n){if(t=un(t),_x("collection","path",e),t instanceof Mf){const r=Le.fromString(e,...n);return oE(r),new pi(t,null,r)}{if(!(t instanceof _n||t instanceof pi))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return oE(r),new pi(t.firestore,null,r)}}function Cx(t,e,...n){if(t=un(t),arguments.length===1&&(e=Tk.A()),_x("doc","path",e),t instanceof Mf){const r=Le.fromString(e,...n);return sE(r),new _n(t,null,new J(r))}{if(!(t instanceof _n||t instanceof pi))throw new K(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return sE(r),new _n(t.firestore,t instanceof pi?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new ax(this,"async_queue_retry"),this.qc=()=>{const n=Jd();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Jd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new di;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Ql(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=yv.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&ae()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}class $f extends Mf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kx(this),this._firestoreClient.terminate()}}function dj(t,e){const n=typeof t=="object"?t:lC(),r=typeof t=="string"?t:e||"(default)",i=dy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=IN("firestore");s&&cj(i,...s)}return i}function Ix(t){return t._firestoreClient||kx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kx(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,l,u){return new qF(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new rj(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(zt.fromBase64String(e))}catch(n){throw new K(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Do(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=/^__.*__$/;class mj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}function Ax(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class _v{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new _v(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return lh(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if(Ax(this.Yc)&&pj.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class gj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bf(e)}ua(e,n,r,i=!1){return new _v({Yc:e,methodName:n,oa:r,path:Vt.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Px(t){const e=t._freezeSettings(),n=bf(t._databaseId);return new gj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yj(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);bx("Data must be an object, but it was:",o,r);const a=Rx(r,o);let l,u;if(s.merge)l=new $n(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=wj(e,h,n);if(!o.contains(f))throw new K(D.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Sj(c,f)||c.push(f)}l=new $n(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new mj(new En(a),l,u)}function vj(t,e,n,r=!1){return Cv(n,t.ua(r?4:3,e))}function Cv(t,e){if(Dx(t=un(t)))return bx("Unsupported field value:",e,t),Rx(t,e);if(t instanceof xx)return function(n,r){if(!Ax(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Cv(o,r.sa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=un(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return f2(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ct.fromDate(n);return{timestampValue:oh(r.serializer,i)}}if(n instanceof ct){const i=new ct(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:oh(r.serializer,i)}}if(n instanceof Tv)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Do)return{bytesValue:Zk(r.serializer,n._byteString)};if(n instanceof _n){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cv(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Lf(n)}`)}(t,e)}function Rx(t,e){const n={};return _k(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jo(t,(r,i)=>{const s=Cv(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Dx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Tv||t instanceof Do||t instanceof _n||t instanceof xx)}function bx(t,e,n){if(!Dx(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Lf(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function wj(t,e,n){if((e=un(e))instanceof Sv)return e._internalPath;if(typeof e=="string")return Nx(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ej=new RegExp("[~\\*/\\[\\]]");function Nx(t,e,n){if(e.search(Ej)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Sv(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(D.INVALID_ARGUMENT,a+t+l)}function Sj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Iv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Tj extends Ox{data(){return super.data()}}function Iv(t,e){return typeof e=="string"?Nx(t,e):e instanceof Sv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kv{}class Cj extends kv{}function Ij(t,e,...n){let r=[];e instanceof kv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof xv).length,o=i.filter(a=>a instanceof Vf).length;if(s>1||s>0&&o>0)throw new K(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Vf extends Cj{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vf(e,n,r)}_apply(e){const n=this._parse(e);return Lx(e._query,n),new Ho(e.firestore,e.converter,jm(e._query,n))}_parse(e){const n=Px(e.firestore);return function(i,s,o,a,l,u,c){let h;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new K(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){uE(c,u);const f=[];for(const d of c)f.push(lE(a,i,d));h={arrayValue:{values:f}}}else h=lE(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||uE(c,u),h=vj(o,s,c,u==="in"||u==="not-in");return it.create(l,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kj(t,e,n){const r=e,i=Iv("where",t);return Vf._create(i,r,n)}class xv extends kv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)Lx(s,a),s=jm(s,a)}(e._query,n),new Ho(e.firestore,e.converter,jm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lE(t,e,n){if(typeof(n=un(n))=="string"){if(n==="")throw new K(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lk(e)&&n.indexOf("/")!==-1)throw new K(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!J.isDocumentKey(r))throw new K(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return O1(t,new J(r))}if(n instanceof _n)return O1(t,n._key);throw new K(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lf(n)}.`)}function uE(t,e){if(!Array.isArray(t)||t.length===0)throw new K(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lx(t,e){if(e.isInequality()){const r=ov(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new K(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=Ok(t);s!==null&&xj(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function xj(t,e,n){if(!n.isEqual(e))throw new K(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Aj{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ae()}}convertObject(e,n){const r={};return jo(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Tv(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ik(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const n=Ti(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);$e(ix(r));const i=new yl(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rj extends Ox{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Iv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class sc extends Rj{data(e={}){return super.data(e)}}class Dj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Mu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new sc(this._firestore,this._userDataWriter,r.key,r,new Mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new sc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Mu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new sc(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Mu(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:bj(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}class Nj extends Aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function Oj(t){t=Sl(t,Ho);const e=Sl(t.firestore,$f),n=Ix(e),r=new Nj(e);return _j(t._query),lj(n,t._query).then(i=>new Dj(e,r,t,i))}function Lj(t){return Mx(Sl(t.firestore,$f),[new av(t._key,tr.none())])}function Mj(t,e){const n=Sl(t.firestore,$f),r=Cx(t),i=Pj(t.converter,e);return Mx(n,[yj(Px(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}function Mx(t,e){return function(n,r){const i=new di;return n.asyncQueue.enqueueAndForget(async()=>KU(await oj(n),r,i)),i.promise}(Ix(t),e)}(function(t,e=!0){(function(n){Uo=n})(Mo),Eo(new cs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new $f(new bF(n.getProvider("auth-internal")),new MF(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new K(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yl(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ci(P1,"3.10.1",t),ci(P1,"3.10.1","esm2017")})();var $j="firebase",Vj="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci($j,Vj,"app");const Fj={apiKey:"AIzaSyBSTMsDlnIcqOJ6JnN9ZV8U0xW7Vt2-4t0",authDomain:"fir-note-9db0a.firebaseapp.com",projectId:"fir-note-9db0a",storageBucket:"fir-note-9db0a.appspot.com",messagingSenderId:"529644960539",appId:"1:529644960539:web:8256bf545ddd93447db1be"},$x=aC(Fj),Vx=dj($x),Qm=KM($x),Uj=new dr,Fx=hj(Vx,"posts"),jj={posts:[]},Ux=tI({name:"posts",initialState:jj,reducers:{handleCreate(t,e){Kj(e.payload)},getPosts(t,e){t.posts=e.payload},deletePost(t,e){t.posts=t.posts.filter(n=>n.id!==e.payload),qj(e.payload)}}}),{handleCreate:Bj,getPosts:zj,deletePost:Hj}=Ux.actions,Wj=Ux.reducer,jx=async(t,e)=>{try{const n=Ij(Fx,kj("userId","==",e)),r=await Oj(n);t(zj(r.docs.map(i=>({...i.data(),id:i.id}))))}catch{}},Kj=async t=>{await Mj(Fx,{...t})},qj=async t=>{try{await Lj(Cx(Vx,"posts",t))}catch{}},Gj=I$({reducer:{auth:M$,posts:Wj}}),tu=xV,gs=uV;const Qj=()=>{const t=tu(),{accessToken:e}=gs(i=>i.auth),n=async()=>{try{t(sI());const i=await tM(Qm,Uj);t(rI({email:i.user.email,accessToken:i.user.accessToken,id:i.user.uid}))}catch{throw new Error("Unathorize error")}},r=()=>{try{OL(Qm),t(iI())}catch{}};return j.jsxs("div",{className:"navbar",children:[j.jsx("div",{className:"logo",children:"MS-Note"}),j.jsx("button",{className:"login__btn btn",onClick:e?r:n,children:e?"Logout":"Login"})]})},Yj=()=>j.jsxs("div",{className:"container",children:[j.jsx("header",{children:j.jsx("nav",{children:j.jsx(Qj,{})})}),j.jsx("main",{children:j.jsx(cN,{})}),j.jsx("footer",{})]});const Xj=()=>j.jsx("div",{className:"welcome__wrapper",children:j.jsx("h1",{children:"Welcome to note . . ."})});const Jj=t=>{const e=x.useRef(null),n=x.useRef(null);return x.useEffect(()=>{const r=i=>{!e.current||!e.current.contains(i.target)||!n.current||n.current.contains(i.target)||t.onClose()};return document.addEventListener("click",r),()=>{document.removeEventListener("click",r)}}),t.open?j.jsx("div",{ref:e,className:"modal__wrapper",children:j.jsx("div",{ref:n,className:"modal__content",children:t.children})}):null};var nu=t=>t.type==="checkbox",qs=t=>t instanceof Date,Kt=t=>t==null;const Bx=t=>typeof t=="object";var dt=t=>!Kt(t)&&!Array.isArray(t)&&Bx(t)&&!qs(t),zx=t=>dt(t)&&t.target?nu(t.target)?t.target.checked:t.target.value:t,Zj=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Hx=(t,e)=>t.has(Zj(e)),eB=t=>{const e=t.constructor&&t.constructor.prototype;return dt(e)&&e.hasOwnProperty("isPrototypeOf")},Av=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function fr(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Av&&(t instanceof Blob||t instanceof FileList))&&(n||dt(t)))if(e=n?[]:{},!Array.isArray(t)&&!eB(t))e=t;else for(const r in t)e[r]=fr(t[r]);else return t;return e}var ru=t=>Array.isArray(t)?t.filter(Boolean):[],Xe=t=>t===void 0,U=(t,e,n)=>{if(!e||!dt(t))return n;const r=ru(e.split(/[,[\].]+?/)).reduce((i,s)=>Kt(i)?i:i[s],t);return Xe(r)||r===t?Xe(t[e])?n:t[e]:r};const uh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Mn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},lr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tB=je.createContext(null),Pv=()=>je.useContext(tB);var Wx=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Mn.all&&(e._proxyFormState[o]=!r||Mn.all),n&&(n[o]=!0),t[o]}});return i},yn=t=>dt(t)&&!Object.keys(t).length,Kx=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return yn(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Mn.all))},oc=t=>Array.isArray(t)?t:[t],qx=(t,e,n)=>n&&e?t===e:!t||!e||t===e||oc(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function Rv(t){const e=je.useRef(t);e.current=t,je.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function nB(t){const e=Pv(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=je.useState(n._formState),l=je.useRef(!0),u=je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=je.useRef(i);return c.current=i,Rv({disabled:r,next:h=>l.current&&qx(c.current,h.name,s)&&Kx(h,u.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),je.useEffect(()=>(l.current=!0,u.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),Wx(o,n,u.current,!1)}var Qn=t=>typeof t=="string",Gx=(t,e,n,r,i)=>Qn(t)?(r&&e.watch.add(t),U(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),U(n,s))):(r&&(e.watchAll=!0),n);function rB(t){const e=Pv(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t||{},a=je.useRef(r);a.current=r,Rv({disabled:s,subject:n._subjects.values,next:c=>{qx(a.current,c.name,o)&&u(fr(Gx(a.current,n._names,c.values||n._formValues,!1,i)))}});const[l,u]=je.useState(n._getWatch(r,i));return je.useEffect(()=>n._removeUnmounted()),l}var Dv=t=>/^\w*$/.test(t),Qx=t=>ru(t.replace(/["|']|\]/g,"").split(/\.|\[/));function Re(t,e,n){let r=-1;const i=Dv(e)?[e]:Qx(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=dt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t}function iB(t){const e=Pv(),{name:n,control:r=e.control,shouldUnregister:i}=t,s=Hx(r._names.array,n),o=rB({control:r,name:n,defaultValue:U(r._formValues,n,U(r._defaultValues,n,t.defaultValue)),exact:!0}),a=nB({control:r,name:n}),l=je.useRef(r.register(n,{...t.rules,value:o}));return je.useEffect(()=>{const u=r._options.shouldUnregister||i,c=(h,f)=>{const d=U(r._fields,h);d&&(d._f.mount=f)};if(c(n,!0),u){const h=fr(U(r._options.defaultValues,n));Re(r._defaultValues,n,h),Xe(U(r._formValues,n))&&Re(r._formValues,n,h)}return()=>{(s?u&&!r._state.action:u)?r.unregister(n):c(n,!1)}},[n,r,s,i]),{field:{name:n,value:o,onChange:je.useCallback(u=>l.current.onChange({target:{value:zx(u),name:n},type:uh.CHANGE}),[n]),onBlur:je.useCallback(()=>l.current.onBlur({target:{value:U(r._formValues,n),name:n},type:uh.BLUR}),[n,r]),ref:u=>{const c=U(r._fields,n);c&&u&&(c._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:h=>u.setCustomValidity(h),reportValidity:()=>u.reportValidity()})}},formState:a,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!U(a.errors,n)},isDirty:{enumerable:!0,get:()=>!!U(a.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!U(a.touchedFields,n)},error:{enumerable:!0,get:()=>U(a.errors,n)}})}}const sB=t=>t.render(iB(t));var oB=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{};const Ym=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=U(t,r);if(i){const{_f:s,...o}=i;if(s&&e(s.name)){if(s.ref.focus){s.ref.focus();break}else if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else dt(o)&&Ym(o,e)}}};var cE=t=>({isOnSubmit:!t||t===Mn.onSubmit,isOnBlur:t===Mn.onBlur,isOnChange:t===Mn.onChange,isOnAll:t===Mn.all,isOnTouch:t===Mn.onTouched}),hE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),aB=(t,e,n)=>{const r=ru(U(t,n));return Re(r,"root",e[n]),Re(t,n,r),t},co=t=>typeof t=="boolean",bv=t=>t.type==="file",Zr=t=>typeof t=="function",ch=t=>{if(!Av)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ac=t=>Qn(t),Nv=t=>t.type==="radio",hh=t=>t instanceof RegExp;const fE={value:!1,isValid:!1},dE={value:!0,isValid:!0};var Yx=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Xe(t[0].attributes.value)?Xe(t[0].value)||t[0].value===""?dE:{value:t[0].value,isValid:!0}:dE:fE}return fE};const pE={isValid:!1,value:null};var Xx=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,pE):pE;function mE(t,e,n="validate"){if(ac(t)||Array.isArray(t)&&t.every(ac)||co(t)&&!t)return{type:n,message:ac(t)?t:"",ref:e}}var Ps=t=>dt(t)&&!hh(t)?t:{value:t,message:""},gE=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:h,pattern:f,validate:d,name:m,valueAsNumber:w,mount:v,disabled:y}=t._f,p=U(e,m);if(!v||y)return{};const g=o?o[0]:s,E=ne=>{r&&g.reportValidity&&(g.setCustomValidity(co(ne)?"":ne||""),g.reportValidity())},T={},P=Nv(s),A=nu(s),C=P||A,V=(w||bv(s))&&Xe(s.value)&&Xe(p)||ch(s)&&s.value===""||p===""||Array.isArray(p)&&!p.length,$=oB.bind(null,m,n,T),he=(ne,X,te,le=lr.maxLength,Ce=lr.minLength)=>{const Be=ne?X:te;T[m]={type:ne?le:Ce,message:Be,ref:s,...$(ne?le:Ce,Be)}};if(i?!Array.isArray(p)||!p.length:a&&(!C&&(V||Kt(p))||co(p)&&!p||A&&!Yx(o).isValid||P&&!Xx(o).isValid)){const{value:ne,message:X}=ac(a)?{value:!!a,message:a}:Ps(a);if(ne&&(T[m]={type:lr.required,message:X,ref:g,...$(lr.required,X)},!n))return E(X),T}if(!V&&(!Kt(c)||!Kt(h))){let ne,X;const te=Ps(h),le=Ps(c);if(!Kt(p)&&!isNaN(p)){const Ce=s.valueAsNumber||p&&+p;Kt(te.value)||(ne=Ce>te.value),Kt(le.value)||(X=Ce<le.value)}else{const Ce=s.valueAsDate||new Date(p),Be=z=>new Date(new Date().toDateString()+" "+z),M=s.type=="time",ee=s.type=="week";Qn(te.value)&&p&&(ne=M?Be(p)>Be(te.value):ee?p>te.value:Ce>new Date(te.value)),Qn(le.value)&&p&&(X=M?Be(p)<Be(le.value):ee?p<le.value:Ce<new Date(le.value))}if((ne||X)&&(he(!!ne,te.message,le.message,lr.max,lr.min),!n))return E(T[m].message),T}if((l||u)&&!V&&(Qn(p)||i&&Array.isArray(p))){const ne=Ps(l),X=Ps(u),te=!Kt(ne.value)&&p.length>+ne.value,le=!Kt(X.value)&&p.length<+X.value;if((te||le)&&(he(te,ne.message,X.message),!n))return E(T[m].message),T}if(f&&!V&&Qn(p)){const{value:ne,message:X}=Ps(f);if(hh(ne)&&!p.match(ne)&&(T[m]={type:lr.pattern,message:X,ref:s,...$(lr.pattern,X)},!n))return E(X),T}if(d){if(Zr(d)){const ne=await d(p,e),X=mE(ne,g);if(X&&(T[m]={...X,...$(lr.validate,X.message)},!n))return E(X.message),T}else if(dt(d)){let ne={};for(const X in d){if(!yn(ne)&&!n)break;const te=mE(await d[X](p,e),g,X);te&&(ne={...te,...$(X,te.message)},E(te.message),n&&(T[m]=ne))}if(!yn(ne)&&(T[m]={ref:g,...ne},!n))return T}}return E(!0),T};function lB(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Xe(t)?r++:t[e[r++]];return t}function uB(t){for(const e in t)if(!Xe(t[e]))return!1;return!0}function Tt(t,e){const n=Array.isArray(e)?e:Dv(e)?[e]:Qx(e),r=n.length===1?t:lB(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(dt(r)&&yn(r)||Array.isArray(r)&&uB(r))&&Tt(t,n.slice(0,-1)),t}function ep(){let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}}var fh=t=>Kt(t)||!Bx(t);function Qi(t,e){if(fh(t)||fh(e))return t===e;if(qs(t)&&qs(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(qs(s)&&qs(o)||dt(s)&&dt(o)||Array.isArray(s)&&Array.isArray(o)?!Qi(s,o):s!==o)return!1}}return!0}var Jx=t=>t.type==="select-multiple",cB=t=>Nv(t)||nu(t),tp=t=>ch(t)&&t.isConnected,Zx=t=>{for(const e in t)if(Zr(t[e]))return!0;return!1};function dh(t,e={}){const n=Array.isArray(t);if(dt(t)||n)for(const r in t)Array.isArray(t[r])||dt(t[r])&&!Zx(t[r])?(e[r]=Array.isArray(t[r])?[]:{},dh(t[r],e[r])):Kt(t[r])||(e[r]=!0);return e}function eA(t,e,n){const r=Array.isArray(t);if(dt(t)||r)for(const i in t)Array.isArray(t[i])||dt(t[i])&&!Zx(t[i])?Xe(e)||fh(n[i])?n[i]=Array.isArray(t[i])?dh(t[i],[]):{...dh(t[i])}:eA(t[i],Kt(e)?{}:e[i],n[i]):n[i]=!Qi(t[i],e[i]);return n}var np=(t,e)=>eA(t,e,dh(e)),tA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Xe(t)?t:e?t===""?NaN:t&&+t:n&&Qn(t)?new Date(t):r?r(t):t;function rp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return bv(e)?e.files:Nv(e)?Xx(t.refs).value:Jx(e)?[...e.selectedOptions].map(({value:n})=>n):nu(e)?Yx(t.refs).value:tA(Xe(e.value)?t.ref.value:e.value,t)}var hB=(t,e,n,r)=>{const i={};for(const s of t){const o=U(e,s);o&&Re(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},oa=t=>Xe(t)?t:hh(t)?t.source:dt(t)?hh(t.value)?t.value.source:t.value:t,fB=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function yE(t,e,n){const r=U(t,n);if(r||Dv(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=U(e,s),a=U(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var dB=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,pB=(t,e)=>!ru(U(t,e)).length&&Tt(t,e);const mB={mode:Mn.onSubmit,reValidateMode:Mn.onChange,shouldFocusError:!0};function gB(t={},e){let n={...mB,...t},r={submitCount:0,isDirty:!1,isLoading:Zr(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},i={},s=dt(n.defaultValues)||dt(n.values)?fr(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:fr(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:ep(),array:ep(),state:ep()},d=t.resetOptions&&t.resetOptions.keepDirtyValues,m=cE(n.mode),w=cE(n.reValidateMode),v=n.criteriaMode===Mn.all,y=S=>I=>{clearTimeout(c),c=setTimeout(S,I)},p=async S=>{if(h.isValid||S){const I=n.resolver?yn((await V()).errors):await he(i,!0);I!==r.isValid&&f.state.next({isValid:I})}},g=S=>h.isValidating&&f.state.next({isValidating:S}),E=(S,I=[],R,H,F=!0,L=!0)=>{if(H&&R){if(a.action=!0,L&&Array.isArray(U(i,S))){const Q=R(U(i,S),H.argA,H.argB);F&&Re(i,S,Q)}if(L&&Array.isArray(U(r.errors,S))){const Q=R(U(r.errors,S),H.argA,H.argB);F&&Re(r.errors,S,Q),pB(r.errors,S)}if(h.touchedFields&&L&&Array.isArray(U(r.touchedFields,S))){const Q=R(U(r.touchedFields,S),H.argA,H.argB);F&&Re(r.touchedFields,S,Q)}h.dirtyFields&&(r.dirtyFields=np(s,o)),f.state.next({name:S,isDirty:X(S,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Re(o,S,I)},T=(S,I)=>{Re(r.errors,S,I),f.state.next({errors:r.errors})},P=(S,I,R,H)=>{const F=U(i,S);if(F){const L=U(o,S,Xe(R)?U(s,S):R);Xe(L)||H&&H.defaultChecked||I?Re(o,S,I?L:rp(F._f)):Ce(S,L),a.mount&&p()}},A=(S,I,R,H,F)=>{let L=!1,Q=!1;const be={name:S};if(!R||H){h.isDirty&&(Q=r.isDirty,r.isDirty=be.isDirty=X(),L=Q!==be.isDirty);const Ne=Qi(U(s,S),I);Q=U(r.dirtyFields,S),Ne?Tt(r.dirtyFields,S):Re(r.dirtyFields,S,!0),be.dirtyFields=r.dirtyFields,L=L||h.dirtyFields&&Q!==!Ne}if(R){const Ne=U(r.touchedFields,S);Ne||(Re(r.touchedFields,S,R),be.touchedFields=r.touchedFields,L=L||h.touchedFields&&Ne!==R)}return L&&F&&f.state.next(be),L?be:{}},C=(S,I,R,H)=>{const F=U(r.errors,S),L=h.isValid&&co(I)&&r.isValid!==I;if(t.delayError&&R?(u=y(()=>T(S,R)),u(t.delayError)):(clearTimeout(c),u=null,R?Re(r.errors,S,R):Tt(r.errors,S)),(R?!Qi(F,R):F)||!yn(H)||L){const Q={...H,...L&&co(I)?{isValid:I}:{},errors:r.errors,name:S};r={...r,...Q},f.state.next(Q)}g(!1)},V=async S=>n.resolver(o,n.context,hB(S||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),$=async S=>{const{errors:I}=await V();if(S)for(const R of S){const H=U(I,R);H?Re(r.errors,R,H):Tt(r.errors,R)}else r.errors=I;return I},he=async(S,I,R={valid:!0})=>{for(const H in S){const F=S[H];if(F){const{_f:L,...Q}=F;if(L){const be=l.array.has(L.name),Ne=await gE(F,o,v,n.shouldUseNativeValidation&&!I,be);if(Ne[L.name]&&(R.valid=!1,I))break;!I&&(U(Ne,L.name)?be?aB(r.errors,Ne,L.name):Re(r.errors,L.name,Ne[L.name]):Tt(r.errors,L.name))}Q&&await he(Q,I,R)}}return R.valid},ne=()=>{for(const S of l.unMount){const I=U(i,S);I&&(I._f.refs?I._f.refs.every(R=>!tp(R)):!tp(I._f.ref))&&st(S)}l.unMount=new Set},X=(S,I)=>(S&&I&&Re(o,S,I),!Qi(Z(),s)),te=(S,I,R)=>Gx(S,l,{...a.mount?o:Xe(I)?s:Qn(S)?{[S]:I}:I},R,I),le=S=>ru(U(a.mount?o:s,S,t.shouldUnregister?U(s,S,[]):[])),Ce=(S,I,R={})=>{const H=U(i,S);let F=I;if(H){const L=H._f;L&&(!L.disabled&&Re(o,S,tA(I,L)),F=ch(L.ref)&&Kt(I)?"":I,Jx(L.ref)?[...L.ref.options].forEach(Q=>Q.selected=F.includes(Q.value)):L.refs?nu(L.ref)?L.refs.length>1?L.refs.forEach(Q=>(!Q.defaultChecked||!Q.disabled)&&(Q.checked=Array.isArray(F)?!!F.find(be=>be===Q.value):F===Q.value)):L.refs[0]&&(L.refs[0].checked=!!F):L.refs.forEach(Q=>Q.checked=Q.value===F):bv(L.ref)?L.ref.value="":(L.ref.value=F,L.ref.type||f.values.next({name:S,values:{...o}})))}(R.shouldDirty||R.shouldTouch)&&A(S,F,R.shouldTouch,R.shouldDirty,!0),R.shouldValidate&&z(S)},Be=(S,I,R)=>{for(const H in I){const F=I[H],L=`${S}.${H}`,Q=U(i,L);(l.array.has(S)||!fh(F)||Q&&!Q._f)&&!qs(F)?Be(L,F,R):Ce(L,F,R)}},M=(S,I,R={})=>{const H=U(i,S),F=l.array.has(S),L=fr(I);Re(o,S,L),F?(f.array.next({name:S,values:{...o}}),(h.isDirty||h.dirtyFields)&&R.shouldDirty&&f.state.next({name:S,dirtyFields:np(s,o),isDirty:X(S,L)})):H&&!H._f&&!Kt(L)?Be(S,L,R):Ce(S,L,R),hE(S,l)&&f.state.next({...r}),f.values.next({name:S,values:{...o}}),!a.mount&&e()},ee=async S=>{const I=S.target;let R=I.name,H=!0;const F=U(i,R),L=()=>I.type?rp(F._f):zx(S);if(F){let Q,be;const Ne=L(),Vr=S.type===uh.BLUR||S.type===uh.FOCUS_OUT,qf=!fB(F._f)&&!n.resolver&&!U(r.errors,R)&&!F._f.deps||dB(Vr,U(r.touchedFields,R),r.isSubmitted,w,m),ks=hE(R,l,Vr);Re(o,R,Ne),Vr?(F._f.onBlur&&F._f.onBlur(S),u&&u(0)):F._f.onChange&&F._f.onChange(S);const Wo=A(R,Ne,Vr,!1),_=!yn(Wo)||ks;if(!Vr&&f.values.next({name:R,type:S.type,values:{...o}}),qf)return h.isValid&&p(),_&&f.state.next({name:R,...ks?{}:Wo});if(!Vr&&ks&&f.state.next({...r}),g(!0),n.resolver){const{errors:k}=await V([R]),b=yE(r.errors,i,R),W=yE(k,i,b.name||R);Q=W.error,R=W.name,be=yn(k)}else Q=(await gE(F,o,v,n.shouldUseNativeValidation))[R],H=isNaN(Ne)||Ne===U(o,R,Ne),H&&(Q?be=!1:h.isValid&&(be=await he(i,!0)));H&&(F._f.deps&&z(F._f.deps),C(R,be,Q,Wo))}},z=async(S,I={})=>{let R,H;const F=oc(S);if(g(!0),n.resolver){const L=await $(Xe(S)?S:F);R=yn(L),H=S?!F.some(Q=>U(L,Q)):R}else S?(H=(await Promise.all(F.map(async L=>{const Q=U(i,L);return await he(Q&&Q._f?{[L]:Q}:Q)}))).every(Boolean),!(!H&&!r.isValid)&&p()):H=R=await he(i);return f.state.next({...!Qn(S)||h.isValid&&R!==r.isValid?{}:{name:S},...n.resolver||!S?{isValid:R}:{},errors:r.errors,isValidating:!1}),I.shouldFocus&&!H&&Ym(i,L=>L&&U(r.errors,L),S?F:l.mount),H},Z=S=>{const I={...s,...a.mount?o:{}};return Xe(S)?I:Qn(S)?U(I,S):S.map(R=>U(I,R))},Ie=(S,I)=>({invalid:!!U((I||r).errors,S),isDirty:!!U((I||r).dirtyFields,S),isTouched:!!U((I||r).touchedFields,S),error:U((I||r).errors,S)}),xn=S=>{S&&oc(S).forEach(I=>Tt(r.errors,I)),f.state.next({errors:S?r.errors:{}})},Ye=(S,I,R)=>{const H=(U(i,S,{_f:{}})._f||{}).ref;Re(r.errors,S,{...I,ref:H}),f.state.next({name:S,errors:r.errors,isValid:!1}),R&&R.shouldFocus&&H&&H.focus&&H.focus()},Bn=(S,I)=>Zr(S)?f.values.subscribe({next:R=>S(te(void 0,I),R)}):te(S,I,!0),st=(S,I={})=>{for(const R of S?oc(S):l.mount)l.mount.delete(R),l.array.delete(R),I.keepValue||(Tt(i,R),Tt(o,R)),!I.keepError&&Tt(r.errors,R),!I.keepDirty&&Tt(r.dirtyFields,R),!I.keepTouched&&Tt(r.touchedFields,R),!n.shouldUnregister&&!I.keepDefaultValue&&Tt(s,R);f.values.next({values:{...o}}),f.state.next({...r,...I.keepDirty?{isDirty:X()}:{}}),!I.keepIsValid&&p()},Xt=(S,I={})=>{let R=U(i,S);const H=co(I.disabled);return Re(i,S,{...R||{},_f:{...R&&R._f?R._f:{ref:{name:S}},name:S,mount:!0,...I}}),l.mount.add(S),R?H&&Re(o,S,I.disabled?void 0:U(o,S,rp(R._f))):P(S,!0,I.value),{...H?{disabled:I.disabled}:{},...n.shouldUseNativeValidation?{required:!!I.required,min:oa(I.min),max:oa(I.max),minLength:oa(I.minLength),maxLength:oa(I.maxLength),pattern:oa(I.pattern)}:{},name:S,onChange:ee,onBlur:ee,ref:F=>{if(F){Xt(S,I),R=U(i,S);const L=Xe(F.value)&&F.querySelectorAll&&F.querySelectorAll("input,select,textarea")[0]||F,Q=cB(L),be=R._f.refs||[];if(Q?be.find(Ne=>Ne===L):L===R._f.ref)return;Re(i,S,{_f:{...R._f,...Q?{refs:[...be.filter(tp),L,...Array.isArray(U(s,S))?[{}]:[]],ref:{type:L.type,name:S}}:{ref:L}}}),P(S,!1,void 0,L)}else R=U(i,S,{}),R._f&&(R._f.mount=!1),(n.shouldUnregister||I.shouldUnregister)&&!(Hx(l.array,S)&&a.action)&&l.unMount.add(S)}}},Is=()=>n.shouldFocusError&&Ym(i,S=>S&&U(r.errors,S),l.mount),Di=(S,I)=>async R=>{R&&(R.preventDefault&&R.preventDefault(),R.persist&&R.persist());let H=fr(o);if(f.state.next({isSubmitting:!0}),n.resolver){const{errors:F,values:L}=await V();r.errors=F,H=L}else await he(i);Tt(r.errors,"root"),yn(r.errors)?(f.state.next({errors:{}}),await S(H,R)):(I&&await I({...r.errors},R),Is(),setTimeout(Is)),f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yn(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Mr=(S,I={})=>{U(i,S)&&(Xe(I.defaultValue)?M(S,U(s,S)):(M(S,I.defaultValue),Re(s,S,I.defaultValue)),I.keepTouched||Tt(r.touchedFields,S),I.keepDirty||(Tt(r.dirtyFields,S),r.isDirty=I.defaultValue?X(S,U(s,S)):X()),I.keepError||(Tt(r.errors,S),h.isValid&&p()),f.state.next({...r}))},Pt=(S,I={})=>{const R=S||s,H=fr(R),F=S&&!yn(S)?H:s;if(I.keepDefaultValues||(s=R),!I.keepValues){if(I.keepDirtyValues||d)for(const L of l.mount)U(r.dirtyFields,L)?Re(F,L,U(o,L)):M(L,U(F,L));else{if(Av&&Xe(S))for(const L of l.mount){const Q=U(i,L);if(Q&&Q._f){const be=Array.isArray(Q._f.refs)?Q._f.refs[0]:Q._f.ref;if(ch(be)){const Ne=be.closest("form");if(Ne){Ne.reset();break}}}}i={}}o=t.shouldUnregister?I.keepDefaultValues?fr(s):{}:H,f.array.next({values:{...F}}),f.values.next({values:{...F}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!h.isValid||!!I.keepIsValid,a.watch=!!t.shouldUnregister,f.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!Qi(S,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I.keepDirtyValues?r.dirtyFields:I.keepDefaultValues&&S?np(s,S):{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},$r=(S,I)=>Pt(Zr(S)?S(o):S,I);return{control:{register:Xt,unregister:st,getFieldState:Ie,_executeSchema:V,_getWatch:te,_getDirty:X,_updateValid:p,_removeUnmounted:ne,_updateFieldArray:E,_getFieldArray:le,_reset:Pt,_resetDefaultValues:()=>Zr(n.defaultValues)&&n.defaultValues().then(S=>{$r(S,n.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:S=>{r={...r,...S}},_subjects:f,_proxyFormState:h,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(S){a=S},get _defaultValues(){return s},get _names(){return l},set _names(S){l=S},get _formState(){return r},set _formState(S){r=S},get _options(){return n},set _options(S){n={...n,...S}}},trigger:z,register:Xt,handleSubmit:Di,watch:Bn,setValue:M,getValues:Z,reset:$r,resetField:Mr,clearErrors:xn,unregister:st,setError:Ye,setFocus:(S,I={})=>{const R=U(i,S),H=R&&R._f;if(H){const F=H.refs?H.refs[0]:H.ref;F.focus&&(F.focus(),I.shouldSelect&&F.select())}},getFieldState:Ie}}function yB(t={}){const e=je.useRef(),[n,r]=je.useState({isDirty:!1,isValidating:!1,isLoading:Zr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Zr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...gB(t,()=>r(s=>({...s}))),formState:n});const i=e.current.control;return i._options=t,Rv({subject:i._subjects.state,next:s=>{Kx(s,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),je.useEffect(()=>{t.values&&!Qi(t.values,i._defaultValues)?i._reset(t.values,i._options.resetOptions):i._resetDefaultValues()},[t.values,i]),je.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=Wx(n,i),e.current}const vB="_textfield_l6sf9_1",wB={textfield:vB},nA=x.forwardRef((t,e)=>j.jsx("input",{className:wB.textfield,...t}));const EB=t=>{const e=tu(),{id:n}=gs(l=>l.auth),{posts:r}=gs(l=>l.posts),{register:i,control:s,handleSubmit:o}=yB({defaultValues:{title:"",description:""}}),a=l=>{r.length>=5||(t.onClose(),e(Bj({...l,userId:n,date:new Date().getTime()})),jx(e,n))};return j.jsxs("div",{className:"postform__wrapper",children:[j.jsxs("div",{className:"fields__wrapper",children:[j.jsx(sB,{name:"title",control:s,render:({field:l})=>j.jsx(nA,{...l,type:"text",placeholder:"Заголовок"})}),j.jsx("textarea",{...i("description"),className:"description",placeholder:"Описание"})]}),j.jsx("button",{className:"btn",onClick:o(a),children:"Создать пост"})]})},rA=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ff=x.createContext({}),Ov=x.createContext(null),Uf=typeof document<"u",vE=Uf?x.useLayoutEffect:x.useEffect,iA=x.createContext({strict:!1});function SB(t,e,n,r){const{visualElement:i}=x.useContext(Ff),s=x.useContext(iA),o=x.useContext(Ov),a=x.useContext(rA).reducedMotion,l=x.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return x.useInsertionEffect(()=>{u&&u.update(n,o)}),vE(()=>{u&&u.render()}),x.useEffect(()=>{u&&u.updateFeatures()}),(window.HandoffAppearAnimations?vE:x.useEffect)(()=>{u&&u.animationState&&u.animationState.animateChanges()}),u}function Gs(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function TB(t,e,n){return x.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Gs(n)&&(n.current=r))},[e])}function Tl(t){return typeof t=="string"||Array.isArray(t)}function jf(t){return typeof t=="object"&&typeof t.start=="function"}const Lv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mv=["initial",...Lv];function Bf(t){return jf(t.animate)||Mv.some(e=>Tl(t[e]))}function sA(t){return!!(Bf(t)||t.variants)}function _B(t,e){if(Bf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Tl(n)?n:void 0,animate:Tl(r)?r:void 0}}return t.inherit!==!1?e:{}}function CB(t){const{initial:e,animate:n}=_B(t,x.useContext(Ff));return x.useMemo(()=>({initial:e,animate:n}),[wE(e),wE(n)])}function wE(t){return Array.isArray(t)?t.join(" "):t}const EE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_l={};for(const t in EE)_l[t]={isEnabled:e=>EE[t].some(n=>!!e[n])};function IB(t){for(const e in t)_l[e]={..._l[e],...t[e]}}function oA(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const Oa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let kB=1;function xB(){return oA(()=>{if(Oa.hasEverUpdated)return kB++})}const aA=x.createContext({}),lA=x.createContext({}),AB=Symbol.for("motionComponentSymbol");function PB({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&IB(t);function s(a,l){let u;const c={...x.useContext(rA),...a,layoutId:RB(a)},{isStatic:h}=c,f=CB(a),d=h?void 0:xB(),m=r(a,h);if(!h&&Uf){f.visualElement=SB(i,m,c,e);const w=x.useContext(lA),v=x.useContext(iA).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,v,t,d,w))}return x.createElement(Ff.Provider,{value:f},u&&f.visualElement?x.createElement(u,{visualElement:f.visualElement,...c}):null,n(i,a,d,TB(m,f.visualElement,l),m,h,f.visualElement))}const o=x.forwardRef(s);return o[AB]=i,o}function RB({layoutId:t}){const e=x.useContext(aA).id;return e&&t!==void 0?e+"-"+t:t}function DB(t){function e(r,i={}){return PB(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const bB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $v(t){return typeof t!="string"||t.includes("-")?!1:!!(bB.indexOf(t)>-1||/[A-Z]/.test(t))}const ph={};function NB(t){Object.assign(ph,t)}const iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_s=new Set(iu);function uA(t,{layout:e,layoutId:n}){return _s.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ph[t]||t==="opacity")}const rn=t=>!!(t&&t.getVelocity),OB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LB=iu.length;function MB(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<LB;o++){const a=iu[o];if(t[a]!==void 0){const l=OB[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const cA=t=>e=>typeof e=="string"&&e.startsWith(t),hA=cA("--"),Xm=cA("var(--"),$B=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,VB=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ys=(t,e,n)=>Math.min(Math.max(n,t),e),Cs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},La={...Cs,transform:t=>ys(0,1,t)},$u={...Cs,default:1},Ma=t=>Math.round(t*1e5)/1e5,zf=/(-)?([\d]*\.?[\d])+/g,fA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,FB=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function su(t){return typeof t=="string"}const ou=t=>({test:e=>su(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),jr=ou("deg"),rr=ou("%"),ie=ou("px"),UB=ou("vh"),jB=ou("vw"),SE={...rr,parse:t=>rr.parse(t)/100,transform:t=>rr.transform(t*100)},TE={...Cs,transform:Math.round},dA={borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,size:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:$u,scaleX:$u,scaleY:$u,scaleZ:$u,skew:jr,skewX:jr,skewY:jr,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:La,originX:SE,originY:SE,originZ:ie,zIndex:TE,fillOpacity:La,strokeOpacity:La,numOctaves:TE};function Vv(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const f=e[h];if(hA(h)){s[h]=f;continue}const d=dA[h],m=VB(f,d);if(_s.has(h)){if(l=!0,o[h]=m,!c)continue;f!==(d.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=m):i[h]=m}if(e.transform||(l||r?i.transform=MB(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:d=0}=a;i.transformOrigin=`${h} ${f} ${d}`}}const Fv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pA(t,e,n){for(const r in e)!rn(e[r])&&!uA(r,n)&&(t[r]=e[r])}function BB({transformTemplate:t},e,n){return x.useMemo(()=>{const r=Fv();return Vv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function zB(t,e,n){const r=t.style||{},i={};return pA(i,r,t),Object.assign(i,BB(t,e,n)),t.transformValues?t.transformValues(i):i}function HB(t,e,n){const r={},i=zB(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const WB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function mh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||WB.has(t)}let mA=t=>!mh(t);function KB(t){t&&(mA=e=>e.startsWith("on")?!mh(e):t(e))}try{KB(require("@emotion/is-prop-valid").default)}catch{}function qB(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(mA(i)||n===!0&&mh(i)||!e&&!mh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function _E(t,e,n){return typeof t=="string"?t:ie.transform(e+n*t)}function GB(t,e,n){const r=_E(e,t.x,t.width),i=_E(n,t.y,t.height);return`${r} ${i}`}const QB={offset:"stroke-dashoffset",array:"stroke-dasharray"},YB={offset:"strokeDashoffset",array:"strokeDasharray"};function XB(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?QB:YB;t[s.offset]=ie.transform(-r);const o=ie.transform(e),a=ie.transform(n);t[s.array]=`${o} ${a}`}function Uv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,f){if(Vv(t,u,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m,dimensions:w}=t;d.transform&&(w&&(m.transform=d.transform),delete d.transform),w&&(i!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=GB(w,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&XB(d,o,a,l,!1)}const gA=()=>({...Fv(),attrs:{}}),jv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function JB(t,e,n,r){const i=x.useMemo(()=>{const s=gA();return Uv(s,e,{enableHardwareAcceleration:!1},jv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};pA(s,t.style,t),i.style={...s,...i.style}}return i}function ZB(t=!1){return(n,r,i,s,{latestValues:o},a)=>{const u=($v(n)?JB:HB)(r,o,a,n),h={...qB(r,typeof n=="string",t),...u,ref:s},{children:f}=r,d=x.useMemo(()=>rn(f)?f.get():f,[f]);return i&&(h["data-projection-id"]=i),x.createElement(n,{...h,children:d})}}const Bv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function yA(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const vA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wA(t,e,n,r){yA(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(vA.has(i)?i:Bv(i),e.attrs[i])}function zv(t,e){const{style:n}=t,r={};for(const i in n)(rn(n[i])||e.style&&rn(e.style[i])||uA(i,t))&&(r[i]=n[i]);return r}function EA(t,e){const n=zv(t,e);for(const r in t)if(rn(t[r])||rn(e[r])){const i=iu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Hv(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const gh=t=>Array.isArray(t),e3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),t3=t=>gh(t)?t[t.length-1]||0:t;function lc(t){const e=rn(t)?t.get():t;return e3(e)?e.toValue():e}function n3({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:r3(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const SA=t=>(e,n)=>{const r=x.useContext(Ff),i=x.useContext(Ov),s=()=>n3(t,e,r,i);return n?s():oA(s)};function r3(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=lc(s[f]);let{initial:o,animate:a}=t;const l=Bf(t),u=sA(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!jf(h)&&(Array.isArray(h)?h:[h]).forEach(d=>{const m=Hv(t,d);if(!m)return;const{transitionEnd:w,transition:v,...y}=m;for(const p in y){let g=y[p];if(Array.isArray(g)){const E=c?g.length-1:0;g=g[E]}g!==null&&(i[p]=g)}for(const p in w)i[p]=w[p]}),i}const i3={useVisualState:SA({scrapeMotionValuesFromProps:EA,createRenderState:gA,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}Uv(n,r,{enableHardwareAcceleration:!1},jv(e.tagName),t.transformTemplate),wA(e,n)}})},s3={useVisualState:SA({scrapeMotionValuesFromProps:zv,createRenderState:Fv})};function o3(t,{forwardMotionProps:e=!1},n,r){return{...$v(t)?i3:s3,preloadedFeatures:n,useRender:ZB(e),createVisualElement:r,Component:t}}function wr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const TA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Hf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const a3=t=>e=>TA(e)&&t(e,Hf(e));function Sr(t,e,n,r){return wr(t,e,a3(n),r)}const l3=(t,e)=>n=>e(t(n)),mi=(...t)=>t.reduce(l3);function _A(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const CE=_A("dragHorizontal"),IE=_A("dragVertical");function CA(t){let e=!1;if(t==="y")e=IE();else if(t==="x")e=CE();else{const n=CE(),r=IE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function IA(){const t=CA(!0);return t?(t(),!1):!0}class Ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}function u3(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,f=h?e:n;return u&&o.add(l),f.indexOf(l)===-1&&(f.push(l),h&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const yt={delta:0,timestamp:0,isProcessing:!1},c3=40;let Jm=!0,Cl=!1;const Wf=["read","update","preRender","render","postRender"],ho=Wf.reduce((t,e)=>(t[e]=u3(()=>Cl=!0),t),{}),h3=t=>ho[t].process(yt),kA=t=>{Cl=!1,yt.delta=Jm?1e3/60:Math.max(Math.min(t-yt.timestamp,c3),1),yt.timestamp=t,yt.isProcessing=!0,Wf.forEach(h3),yt.isProcessing=!1,Cl&&(Jm=!1,requestAnimationFrame(kA))},f3=()=>{Cl=!0,Jm=!0,yt.isProcessing||requestAnimationFrame(kA)},We=Wf.reduce((t,e)=>{const n=ho[e];return t[e]=(r,i=!1,s=!1)=>(Cl||f3(),n.schedule(r,i,s)),t},{});function Nr(t){Wf.forEach(e=>ho[e].cancel(t))}function kE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||IA())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&We.update(()=>a[r](s,o))};return Sr(t.current,n,i,{passive:!t.getProps()[r]})}class d3 extends Ri{mount(){this.unmount=mi(kE(this.node,!0),kE(this.node,!1))}unmount(){}}class p3 extends Ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(wr(this.node.current,"focus",()=>this.onFocus()),wr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const xA=(t,e)=>e?t===e?!0:xA(t,e.parentElement):!1,lt=t=>t;function ip(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Hf(n))}class m3 extends Ri{constructor(){super(...arguments),this.removeStartListeners=lt,this.removeEndListeners=lt,this.removeAccessibleListeners=lt,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Sr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();We.update(()=>{xA(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Sr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||ip("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&We.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=wr(this.node.current,"keyup",o),ip("down",(a,l)=>{this.startPress(a,l)})},n=wr(this.node.current,"keydown",e),r=()=>{this.isPressing&&ip("cancel",(s,o)=>this.cancelPress(s,o))},i=wr(this.node.current,"blur",r);this.removeAccessibleListeners=mi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&We.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!IA()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&We.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Sr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=wr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Zm=new WeakMap,sp=new WeakMap,g3=t=>{const e=Zm.get(t.target);e&&e(t)},y3=t=>{t.forEach(g3)};function v3({root:t,...e}){const n=t||document;sp.has(n)||sp.set(n,{});const r=sp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(y3,{root:t,...e})),r[i]}function w3(t,e,n){const r=v3(e);return Zm.set(t,n),r.observe(t),()=>{Zm.delete(t),r.unobserve(t)}}const E3={some:0,all:1};class S3 extends Ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:E3[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return w3(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(T3(e,n))&&this.startObserver()}unmount(){}}function T3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _3={inView:{Feature:S3},tap:{Feature:m3},focus:{Feature:p3},hover:{Feature:d3}};function AA(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function C3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function I3(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Kf(t,e,n){const r=t.getProps();return Hv(r,e,n!==void 0?n:r.custom,C3(t),I3(t))}const k3="framerAppearId",x3="data-"+Bv(k3);let A3=lt,Wv=lt;const gi=t=>t*1e3,Tr=t=>t/1e3,P3={current:!1},PA=t=>Array.isArray(t)&&typeof t[0]=="number";function RA(t){return!!(!t||typeof t=="string"&&DA[t]||PA(t)||Array.isArray(t)&&t.every(RA))}const ya=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,DA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ya([0,.65,.55,1]),circOut:ya([.55,0,1,.45]),backIn:ya([.31,.01,.66,-.59]),backOut:ya([.33,1.53,.69,.99])};function bA(t){if(t)return PA(t)?ya(t):Array.isArray(t)?t.map(bA):DA[t]}function R3(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=bA(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const xE={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},op={},NA={};for(const t in xE)NA[t]=()=>(op[t]===void 0&&(op[t]=xE[t]()),op[t]);function D3(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const OA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,b3=1e-7,N3=12;function O3(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=OA(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>b3&&++a<N3);return o}function au(t,e,n,r){if(t===e&&n===r)return lt;const i=s=>O3(s,0,1,t,n);return s=>s===0||s===1?s:OA(i(s),e,r)}const L3=au(.42,0,1,1),M3=au(0,0,.58,1),LA=au(.42,0,.58,1),$3=t=>Array.isArray(t)&&typeof t[0]!="number",MA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$A=t=>e=>1-t(1-e),VA=t=>1-Math.sin(Math.acos(t)),Kv=$A(VA),V3=MA(Kv),FA=au(.33,1.53,.69,.99),qv=$A(FA),F3=MA(qv),U3=t=>(t*=2)<1?.5*qv(t):.5*(2-Math.pow(2,-10*(t-1))),j3={linear:lt,easeIn:L3,easeInOut:LA,easeOut:M3,circIn:VA,circInOut:V3,circOut:Kv,backIn:qv,backInOut:F3,backOut:FA,anticipate:U3},AE=t=>{if(Array.isArray(t)){Wv(t.length===4);const[e,n,r,i]=t;return au(e,n,r,i)}else if(typeof t=="string")return j3[t];return t},Gv=(t,e)=>n=>!!(su(n)&&FB.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),UA=(t,e,n)=>r=>{if(!su(r))return r;const[i,s,o,a]=r.match(zf);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},B3=t=>ys(0,255,t),ap={...Cs,transform:t=>Math.round(B3(t))},Yi={test:Gv("rgb","red"),parse:UA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ap.transform(t)+", "+ap.transform(e)+", "+ap.transform(n)+", "+Ma(La.transform(r))+")"};function z3(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const eg={test:Gv("#"),parse:z3,transform:Yi.transform},Qs={test:Gv("hsl","hue"),parse:UA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+rr.transform(Ma(e))+", "+rr.transform(Ma(n))+", "+Ma(La.transform(r))+")"},Ht={test:t=>Yi.test(t)||eg.test(t)||Qs.test(t),parse:t=>Yi.test(t)?Yi.parse(t):Qs.test(t)?Qs.parse(t):eg.parse(t),transform:t=>su(t)?t:t.hasOwnProperty("red")?Yi.transform(t):Qs.transform(t)},He=(t,e,n)=>-n*t+n*e+t;function lp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function H3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=lp(l,a,t+1/3),s=lp(l,a,t),o=lp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const up=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},W3=[eg,Yi,Qs],K3=t=>W3.find(e=>e.test(t));function PE(t){const e=K3(t);let n=e.parse(t);return e===Qs&&(n=H3(n)),n}const jA=(t,e)=>{const n=PE(t),r=PE(e),i={...n};return s=>(i.red=up(n.red,r.red,s),i.green=up(n.green,r.green,s),i.blue=up(n.blue,r.blue,s),i.alpha=He(n.alpha,r.alpha,s),Yi.transform(i))};function q3(t){var e,n;return isNaN(t)&&su(t)&&(((e=t.match(zf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(fA))===null||n===void 0?void 0:n.length)||0)>0}const BA={regex:$B,countKey:"Vars",token:"${v}",parse:lt},zA={regex:fA,countKey:"Colors",token:"${c}",parse:Ht.parse},HA={regex:zf,countKey:"Numbers",token:"${n}",parse:Cs.parse};function cp(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function yh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&cp(n,BA),cp(n,zA),cp(n,HA),n}function WA(t){return yh(t).values}function KA(t){const{values:e,numColors:n,numVars:r,tokenised:i}=yh(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(BA.token,o[l]):l<r+n?a=a.replace(zA.token,Ht.transform(o[l])):a=a.replace(HA.token,Ma(o[l]));return a}}const G3=t=>typeof t=="number"?0:t;function Q3(t){const e=WA(t);return KA(t)(e.map(G3))}const Ci={test:q3,parse:WA,createTransformer:KA,getAnimatableNone:Q3},qA=(t,e)=>n=>`${n>0?e:t}`;function GA(t,e){return typeof t=="number"?n=>He(t,e,n):Ht.test(t)?jA(t,e):t.startsWith("var(")?qA(t,e):YA(t,e)}const QA=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>GA(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},Y3=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=GA(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},YA=(t,e)=>{const n=Ci.createTransformer(e),r=yh(t),i=yh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?mi(QA(r.values,i.values),n):qA(t,e)},Il=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},RE=(t,e)=>n=>He(t,e,n);function X3(t){return typeof t=="number"?RE:typeof t=="string"?Ht.test(t)?jA:YA:Array.isArray(t)?QA:typeof t=="object"?Y3:RE}function J3(t,e,n){const r=[],i=n||X3(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||lt:e;a=mi(l,a)}r.push(a)}return r}function XA(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Wv(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=J3(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Il(t[c],t[c+1],u);return o[c](h)};return n?u=>l(ys(t[0],t[s-1],u)):l}function Z3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Il(0,e,r);t.push(He(n,1,i))}}function e4(t){const e=[0];return Z3(e,t.length-1),e}function t4(t,e){return t.map(n=>n*e)}function n4(t,e){return t.map(()=>e||LA).splice(0,t.length-1)}function vh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=$3(r)?r.map(AE):AE(r),s={done:!1,value:e[0]},o=t4(n&&n.length===e.length?n:e4(e),t),a=XA(o,e,{ease:Array.isArray(i)?i:n4(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function JA(t,e){return e?t*(1e3/e):0}const r4=5;function ZA(t,e,n){const r=Math.max(e-r4,0);return JA(n-t(r),e-r)}const hp=.001,i4=.01,DE=10,s4=.05,o4=1;function a4({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;A3(t<=gi(DE));let o=1-e;o=ys(s4,o4,o),t=ys(i4,DE,Tr(t)),o<1?(i=u=>{const c=u*o,h=c*t,f=c-n,d=tg(u,o),m=Math.exp(-h);return hp-f/d*m},s=u=>{const h=u*o*t,f=h*n+n,d=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-h),w=tg(Math.pow(u,2),o);return(-i(u)+hp>0?-1:1)*((f-d)*m)/w}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-hp+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=u4(i,s,a);if(t=gi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const l4=12;function u4(t,e,n){let r=n;for(let i=1;i<l4;i++)r=r-t(r)/e(r);return r}function tg(t,e){return t*Math.sqrt(1-e*e)}const c4=["duration","bounce"],h4=["stiffness","damping","mass"];function bE(t,e){return e.some(n=>t[n]!==void 0)}function f4(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!bE(t,h4)&&bE(t,c4)){const n=a4(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function eP({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:f}=f4(r),d=c?-Tr(c):0,m=l/(2*Math.sqrt(a*u)),w=s-i,v=Tr(Math.sqrt(a/u)),y=Math.abs(w)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let p;if(m<1){const g=tg(v,m);p=E=>{const T=Math.exp(-m*v*E);return s-T*((d+m*v*w)/g*Math.sin(g*E)+w*Math.cos(g*E))}}else if(m===1)p=g=>s-Math.exp(-v*g)*(w+(d+v*w)*g);else{const g=v*Math.sqrt(m*m-1);p=E=>{const T=Math.exp(-m*v*E),P=Math.min(g*E,300);return s-T*((d+m*v*w)*Math.sinh(P)+g*w*Math.cosh(P))/g}}return{calculatedDuration:f&&h||null,next:g=>{const E=p(g);if(f)o.done=g>=h;else{let T=d;g!==0&&(m<1?T=ZA(p,g,E):T=0);const P=Math.abs(T)<=n,A=Math.abs(s-E)<=e;o.done=P&&A}return o.value=o.done?s:E,o}}}function NE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},d=C=>a!==void 0&&C<a||l!==void 0&&C>l,m=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let w=n*e;const v=h+w,y=o===void 0?v:o(v);y!==v&&(w=y-h);const p=C=>-w*Math.exp(-C/r),g=C=>y+p(C),E=C=>{const V=p(C),$=g(C);f.done=Math.abs(V)<=u,f.value=f.done?y:$};let T,P;const A=C=>{d(f.value)&&(T=C,P=eP({keyframes:[f.value,m(f.value)],velocity:ZA(g,C,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return A(0),{calculatedDuration:null,next:C=>{let V=!1;return!P&&T===void 0&&(V=!0,E(C),A(C)),T!==void 0&&C>T?P.next(C-T):(!V&&E(C),f)}}}const d4=t=>{const e=({timestamp:n})=>t(n);return{start:()=>We.update(e,!0),stop:()=>Nr(e),now:()=>yt.isProcessing?yt.timestamp:performance.now()}},OE=2e4;function LE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<OE;)e+=n,r=t.next(e);return e>=OE?1/0:e}const p4={decay:NE,inertia:NE,tween:vh,keyframes:vh,spring:eP};function wh({autoplay:t=!0,delay:e=0,driver:n=d4,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...f}){let d=1,m=!1,w,v;const y=()=>{w&&w(),v=new Promise(Z=>{w=Z})};y();let p;const g=p4[i]||vh;let E;g!==vh&&typeof r[0]!="number"&&(E=XA([0,100],r,{clamp:!1}),r=[0,100]);const T=g({...f,keyframes:r});let P;a==="mirror"&&(P=g({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let A="idle",C=null,V=null,$=null;T.calculatedDuration===null&&s&&(T.calculatedDuration=LE(T));const{calculatedDuration:he}=T;let ne=1/0,X=1/0;he!==null&&(ne=he+o,X=ne*(s+1)-o);let te=0;const le=Z=>{if(V===null)return;d>0&&(V=Math.min(V,Z)),C!==null?te=C:te=(Z-V)*d;const Ie=te-e,xn=Ie<0;te=Math.max(Ie,0),A==="finished"&&C===null&&(te=X);let Ye=te,Bn=T;if(s){const Di=te/ne;let Mr=Math.floor(Di),Pt=Di%1;!Pt&&Di>=1&&(Pt=1),Pt===1&&Mr--,Mr=Math.min(Mr,s+1);const $r=!!(Mr%2);$r&&(a==="reverse"?(Pt=1-Pt,o&&(Pt-=o/ne)):a==="mirror"&&(Bn=P));let bi=ys(0,1,Pt);te>X&&(bi=a==="reverse"&&$r?1:0),Ye=bi*ne}const st=xn?{done:!1,value:r[0]}:Bn.next(Ye);E&&(st.value=E(st.value));let{done:Xt}=st;!xn&&he!==null&&(Xt=te>=X);const Is=C===null&&(A==="finished"||A==="running"&&Xt||d<0&&te<=0);return h&&h(st.value),Is&&M(),st},Ce=()=>{p&&p.stop(),p=void 0},Be=()=>{A="idle",Ce(),y(),V=$=null},M=()=>{A="finished",c&&c(),Ce(),y()},ee=()=>{if(m)return;p||(p=n(le));const Z=p.now();l&&l(),C!==null?V=Z-C:(!V||A==="finished")&&(V=Z),$=V,C=null,A="running",p.start()};t&&ee();const z={then(Z,Ie){return v.then(Z,Ie)},get time(){return Tr(te)},set time(Z){Z=gi(Z),te=Z,C!==null||!p||d===0?C=Z:V=p.now()-Z/d},get duration(){const Z=T.calculatedDuration===null?LE(T):T.calculatedDuration;return Tr(Z)},get speed(){return d},set speed(Z){Z===d||!p||(d=Z,z.time=Tr(te))},get state(){return A},play:ee,pause:()=>{A="paused",C=te},stop:()=>{m=!0,A!=="idle"&&(A="idle",u&&u(),Be())},cancel:()=>{$!==null&&le($),Be()},complete:()=>{A="finished"},sample:Z=>(V=0,le(Z))};return z}const m4=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Vu=10,g4=2e4,y4=(t,e)=>e.type==="spring"||t==="backgroundColor"||!RA(e.ease);function v4(t,e,{onUpdate:n,onComplete:r,...i}){if(!(NA.waapi()&&m4.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(y=>{a=y})};u();let{keyframes:c,duration:h=300,ease:f,times:d}=i;if(y4(e,i)){const y=wh({...i,repeat:0,delay:0});let p={done:!1,value:c[0]};const g=[];let E=0;for(;!p.done&&E<g4;)p=y.sample(E),g.push(p.value),E+=Vu;d=void 0,c=g,h=E-Vu,f="linear"}const m=R3(t.owner.current,e,c,{...i,duration:h,ease:f,times:d}),w=()=>m.cancel(),v=()=>{We.update(w),a(),u()};return m.onfinish=()=>{t.set(D3(c,i)),r&&r(),v()},{then(y,p){return l.then(y,p)},get time(){return Tr(m.currentTime||0)},set time(y){m.currentTime=gi(y)},get speed(){return m.playbackRate},set speed(y){m.playbackRate=y},get duration(){return Tr(h)},play:()=>{o||(m.play(),Nr(w))},pause:()=>m.pause(),stop:()=>{if(o=!0,m.playState==="idle")return;const{currentTime:y}=m;if(y){const p=wh({...i,autoplay:!1});t.setWithVelocity(p.sample(y-Vu).value,p.sample(y).value,Vu)}v()},complete:()=>m.finish(),cancel:v}}function w4({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:lt,pause:lt,stop:lt,then:s=>(s(),Promise.resolve()),cancel:lt,complete:lt});return e?wh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const E4={type:"spring",stiffness:500,damping:25,restSpeed:10},S4=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),T4={type:"keyframes",duration:.8},_4={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},C4=(t,{keyframes:e})=>e.length>2?T4:_s.has(t)?t.startsWith("scale")?S4(e[1]):E4:_4,ng=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Ci.test(e)&&!e.startsWith("url(")),I4=new Set(["brightness","contrast","saturate","opacity"]);function k4(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(zf)||[];if(!r)return t;const i=n.replace(r,"");let s=I4.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const x4=/([a-z-]*)\(.*?\)/g,rg={...Ci,getAnimatableNone:t=>{const e=t.match(x4);return e?e.map(k4).join(" "):t}},A4={...dA,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:rg,WebkitFilter:rg},Qv=t=>A4[t];function Yv(t,e){let n=Qv(t);return n!==rg&&(n=Ci),n.getAnimatableNone?n.getAnimatableNone(e):void 0}function P4({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function ME(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function $E(t){return typeof t=="number"?0:Yv("",t)}function tP(t,e){return t[e]||t.default||t}function R4(t,[...e]){for(let n=0;n<e.length;n++)e[n]===null&&(e[n]=n===0?t:e[n-1]);return e}function D4(t,e,n,r){const i=ng(e,n);let s=r.from!==void 0?r.from:t.get();return s==="none"&&i&&typeof n=="string"?s=Yv(e,n):ME(s)&&typeof n=="string"?s=$E(n):!Array.isArray(n)&&ME(n)&&typeof s=="string"&&(n=$E(s)),Array.isArray(n)?R4(s,n):[s,n]}const Xv=(t,e,n,r={})=>i=>{const s=tP(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-gi(o);const l=D4(e,t,n,s),u=l[0],c=l[l.length-1],h=ng(t,u),f=ng(t,c);let d={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:m=>{e.set(m),s.onUpdate&&s.onUpdate(m)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(P4(s)||(d={...d,...C4(t,d)}),d.duration&&(d.duration=gi(d.duration)),d.repeatDelay&&(d.repeatDelay=gi(d.repeatDelay)),!h||!f||P3.current||s.type===!1)return w4(d);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=v4(e,t,d);if(m)return m}return wh(d)};function Eh(t){return!!(rn(t)&&t.add)}const b4=t=>/^\-?\d*\.?\d+$/.test(t),N4=t=>/^0[^.\s]+$/.test(t);function Jv(t,e){t.indexOf(e)===-1&&t.push(e)}function Zv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class e0{constructor(){this.subscriptions=[]}add(e){return Jv(this.subscriptions,e),()=>Zv(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const O4=t=>!isNaN(parseFloat(t));class L4{constructor(e,n={}){this.version="10.12.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=yt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,We.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>We.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=O4(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new e0);const r=this.events[e].add(n);return e==="change"?()=>{r(),We.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?JA(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bo(t,e){return new L4(t,e)}const nP=t=>e=>e.test(t),M4={test:t=>t==="auto",parse:t=>t},rP=[Cs,ie,rr,jr,jB,UB,M4],aa=t=>rP.find(nP(t)),$4=[...rP,Ht,Ci],V4=t=>$4.find(nP(t));function F4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bo(n))}function U4(t,e){const n=Kf(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=t3(s[o]);F4(t,o,a)}}function j4(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(b4(c)||N4(c))?c=parseFloat(c):!V4(c)&&Ci.test(u)&&(c=Yv(l,u)),t.addValue(l,bo(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function B4(t,e){return e?(e[t]||e.default||e).from:void 0}function z4(t,e,n){const r={};for(const i in t){const s=B4(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function H4({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function iP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),d=a[h];if(!f||d===void 0||c&&H4(c,h))continue;const m={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!f.hasAnimated){const v=t.getProps()[x3];v&&(m.elapsed=window.HandoffAppearAnimations(v,h,f,We))}f.start(Xv(h,f,d,t.shouldReduceMotion&&_s.has(h)?{type:!1}:m));const w=f.animation;Eh(l)&&(l.add(h),w.then(()=>l.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&U4(t,o)}),u}function ig(t,e,n={}){const r=Kf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(iP(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return W4(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function W4(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(K4).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(ig(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function K4(t,e){return t.sortNodePosition(e)}function q4(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ig(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ig(t,e,n);else{const i=typeof e=="function"?Kf(t,e,n.custom):e;r=Promise.all(iP(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const G4=[...Lv].reverse(),Q4=Lv.length;function Y4(t){return e=>Promise.all(e.map(({animation:n,options:r})=>q4(t,n,r)))}function X4(t){let e=Y4(t);const n=Z4();let r=!0;const i=(l,u)=>{const c=Kf(t,u);if(c){const{transition:h,transitionEnd:f,...d}=c;l={...l,...d,...f}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},f=[],d=new Set;let m={},w=1/0;for(let y=0;y<Q4;y++){const p=G4[y],g=n[p],E=c[p]!==void 0?c[p]:h[p],T=Tl(E),P=p===u?g.isActive:null;P===!1&&(w=y);let A=E===h[p]&&E!==c[p]&&T;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),g.protectedKeys={...m},!g.isActive&&P===null||!E&&!g.prevProp||jf(E)||typeof E=="boolean")continue;const C=J4(g.prevProp,E);let V=C||p===u&&g.isActive&&!A&&T||y>w&&T;const $=Array.isArray(E)?E:[E];let he=$.reduce(i,{});P===!1&&(he={});const{prevResolvedValues:ne={}}=g,X={...ne,...he},te=le=>{V=!0,d.delete(le),g.needsAnimating[le]=!0};for(const le in X){const Ce=he[le],Be=ne[le];m.hasOwnProperty(le)||(Ce!==Be?gh(Ce)&&gh(Be)?!AA(Ce,Be)||C?te(le):g.protectedKeys[le]=!0:Ce!==void 0?te(le):d.add(le):Ce!==void 0&&d.has(le)?te(le):g.protectedKeys[le]=!0)}g.prevProp=E,g.prevResolvedValues=he,g.isActive&&(m={...m,...he}),r&&t.blockInitialAnimation&&(V=!1),V&&!A&&f.push(...$.map(le=>({animation:le,options:{type:p,...l}})))}if(d.size){const y={};d.forEach(p=>{const g=t.getBaseTarget(p);g!==void 0&&(y[p]=g)}),f.push({animation:y})}let v=!!f.length;return r&&c.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(d=>{var m;return(m=d.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const d in n)n[d].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function J4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!AA(e,t):!1}function Oi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z4(){return{animate:Oi(!0),whileInView:Oi(),whileHover:Oi(),whileTap:Oi(),whileDrag:Oi(),whileFocus:Oi(),exit:Oi()}}class ez extends Ri{constructor(e){super(e),e.animationState||(e.animationState=X4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),jf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let tz=0;class nz extends Ri{constructor(){super(...arguments),this.id=tz++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rz={animation:{Feature:ez},exit:{Feature:nz}},VE=(t,e)=>Math.abs(t-e);function iz(t,e){const n=VE(t.x,e.x),r=VE(t.y,e.y);return Math.sqrt(n**2+r**2)}class sP{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=dp(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,h=iz(u.offset,{x:0,y:0})>=3;if(!c&&!h)return;const{point:f}=u,{timestamp:d}=yt;this.history.push({...f,timestamp:d});const{onStart:m,onMove:w}=this.handlers;c||(m&&m(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=fp(c,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:h,onSessionEnd:f}=this.handlers,d=dp(u.type==="pointercancel"?this.lastMoveEventInfo:fp(c,this.transformPagePoint),this.history);this.startEvent&&h&&h(u,d),f&&f(u,d)},!TA(e))return;this.handlers=n,this.transformPagePoint=r;const i=Hf(e),s=fp(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=yt;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,dp(s,this.history)),this.removeListeners=mi(Sr(window,"pointermove",this.handlePointerMove),Sr(window,"pointerup",this.handlePointerUp),Sr(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nr(this.updatePoint)}}function fp(t,e){return e?{point:e(t.point)}:t}function FE(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dp({point:t},e){return{point:t,delta:FE(t,oP(e)),offset:FE(t,sz(e)),velocity:oz(e,.1)}}function sz(t){return t[0]}function oP(t){return t[t.length-1]}function oz(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=oP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const s=Tr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function fn(t){return t.max-t.min}function sg(t,e=0,n=.01){return Math.abs(t-e)<=n}function UE(t,e,n,r=.5){t.origin=r,t.originPoint=He(e.min,e.max,t.origin),t.scale=fn(n)/fn(e),(sg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=He(n.min,n.max,t.origin)-t.originPoint,(sg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function $a(t,e,n,r){UE(t.x,e.x,n.x,r?r.originX:void 0),UE(t.y,e.y,n.y,r?r.originY:void 0)}function jE(t,e,n){t.min=n.min+e.min,t.max=t.min+fn(e)}function az(t,e,n){jE(t.x,e.x,n.x),jE(t.y,e.y,n.y)}function BE(t,e,n){t.min=e.min-n.min,t.max=t.min+fn(e)}function Va(t,e,n){BE(t.x,e.x,n.x),BE(t.y,e.y,n.y)}function lz(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?He(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?He(n,t,r.max):Math.min(t,n)),t}function zE(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uz(t,{top:e,left:n,bottom:r,right:i}){return{x:zE(t.x,n,i),y:zE(t.y,e,r)}}function HE(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cz(t,e){return{x:HE(t.x,e.x),y:HE(t.y,e.y)}}function hz(t,e){let n=.5;const r=fn(t),i=fn(e);return i>r?n=Il(e.min,e.max-r,t.min):r>i&&(n=Il(t.min,t.max-i,e.min)),ys(0,1,n)}function fz(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const og=.35;function dz(t=og){return t===!1?t=0:t===!0&&(t=og),{x:WE(t,"left","right"),y:WE(t,"top","bottom")}}function WE(t,e,n){return{min:KE(t,e),max:KE(t,n)}}function KE(t,e){return typeof t=="number"?t:t[e]||0}const qE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Fa=()=>({x:qE(),y:qE()}),GE=()=>({min:0,max:0}),et=()=>({x:GE(),y:GE()});function Kn(t){return[t("x"),t("y")]}function aP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pz({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mz(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function pp(t){return t===void 0||t===1}function ag({scale:t,scaleX:e,scaleY:n}){return!pp(t)||!pp(e)||!pp(n)}function Fi(t){return ag(t)||lP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function lP(t){return QE(t.x)||QE(t.y)}function QE(t){return t&&t!=="0%"}function Sh(t,e,n){const r=t-n,i=e*r;return n+i}function YE(t,e,n,r,i){return i!==void 0&&(t=Sh(t,i,r)),Sh(t,n,r)+e}function lg(t,e=0,n=1,r,i){t.min=YE(t.min,e,n,r,i),t.max=YE(t.max,e,n,r,i)}function uP(t,{x:e,y:n}){lg(t.x,e.translate,e.scale,e.originPoint),lg(t.y,n.translate,n.scale,n.originPoint)}function gz(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ys(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,uP(t,o)),r&&Fi(s.latestValues)&&Ys(t,s.latestValues))}e.x=XE(e.x),e.y=XE(e.y)}function XE(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Hr(t,e){t.min=t.min+e,t.max=t.max+e}function JE(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=He(t.min,t.max,s);lg(t,e[n],e[r],o,e.scale)}const yz=["x","scaleX","originX"],vz=["y","scaleY","originY"];function Ys(t,e){JE(t.x,e,yz),JE(t.y,e,vz)}function cP(t,e){return aP(mz(t.getBoundingClientRect(),e))}function wz(t,e,n){const r=cP(t,n),{scroll:i}=e;return i&&(Hr(r.x,i.offset.x),Hr(r.y,i.offset.y)),r}const Ez=new WeakMap;class Sz{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Hf(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:f}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=CA(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(m=>{let w=this.getAxisMotionValue(m).get()||0;if(rr.test(w)){const{projection:v}=this.visualElement;if(v&&v.layout){const y=v.layout.layoutBox[m];y&&(w=fn(y)*(parseFloat(w)/100))}}this.originPoint[m]=w}),f&&We.update(()=>f(l,u),!1,!0);const{animationState:d}=this.visualElement;d&&d.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:f,onDrag:d}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:m}=u;if(h&&this.currentDirection===null){this.currentDirection=Tz(m),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",u.point,m),this.updateAxis("y",u.point,m),this.visualElement.render(),d&&d(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new sP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&We.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Fu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=lz(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Gs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=uz(r.layoutBox,e):this.constraints=!1,this.elastic=dz(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Kn(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=fz(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Gs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=wz(r,i.root,this.visualElement.getTransformPagePoint());let o=cz(i.layout.layoutBox,s);if(n){const a=n(pz(o));this.hasMutatedConstraints=!!a,a&&(o=aP(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Kn(c=>{if(!Fu(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=i?200:1e6,d=i?40:1e7,m={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Xv(e,r,0,n))}stopAnimation(){Kn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Kn(n=>{const{drag:r}=this.getProps();if(!Fu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-He(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Kn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=hz({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Kn(o=>{if(!Fu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(He(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Ez.set(this.visualElement,this);const e=this.visualElement.current,n=Sr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Gs(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=wr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Kn(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=og,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Fu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Tz(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _z extends Ri{constructor(e){super(e),this.removeGroupControls=lt,this.removeListeners=lt,this.controls=new Sz(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZE=t=>(e,n)=>{t&&We.update(()=>t(e,n))};class Cz extends Ri{constructor(){super(...arguments),this.removePointerDownListener=lt}onPointerDown(e){this.session=new sP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:ZE(e),onStart:ZE(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&We.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Sr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Iz(){const t=x.useContext(Ov);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=x.useId();return x.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function eS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const la={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ie.test(t))t=parseFloat(t);else return t;const n=eS(t,e.target.x),r=eS(t,e.target.y);return`${n}% ${r}%`}},kz={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ci.parse(t);if(i.length>5)return r;const s=Ci.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=He(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class xz extends je.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;NB(Az),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Oa.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||We.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hP(t){const[e,n]=Iz(),r=x.useContext(aA);return je.createElement(xz,{...t,layoutGroup:r,switchLayoutGroup:x.useContext(lA),isPresent:e,safeToRemove:n})}const Az={borderRadius:{...la,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:la,borderTopRightRadius:la,borderBottomLeftRadius:la,borderBottomRightRadius:la,boxShadow:kz},fP=["TopLeft","TopRight","BottomLeft","BottomRight"],Pz=fP.length,tS=t=>typeof t=="string"?parseFloat(t):t,nS=t=>typeof t=="number"||ie.test(t);function Rz(t,e,n,r,i,s){i?(t.opacity=He(0,n.opacity!==void 0?n.opacity:1,Dz(r)),t.opacityExit=He(e.opacity!==void 0?e.opacity:1,0,bz(r))):s&&(t.opacity=He(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Pz;o++){const a=`border${fP[o]}Radius`;let l=rS(e,a),u=rS(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||nS(l)===nS(u)?(t[a]=Math.max(He(tS(l),tS(u),r),0),(rr.test(u)||rr.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=He(e.rotate||0,n.rotate||0,r))}function rS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Dz=dP(0,.5,Kv),bz=dP(.5,.95,lt);function dP(t,e,n){return r=>r<t?0:r>e?1:n(Il(t,e,r))}function iS(t,e){t.min=e.min,t.max=e.max}function gn(t,e){iS(t.x,e.x),iS(t.y,e.y)}function sS(t,e,n,r,i){return t-=e,t=Sh(t,1/n,r),i!==void 0&&(t=Sh(t,1/i,r)),t}function Nz(t,e=0,n=1,r=.5,i,s=t,o=t){if(rr.test(e)&&(e=parseFloat(e),e=He(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=He(s.min,s.max,r);t===s&&(a-=e),t.min=sS(t.min,e,n,a,i),t.max=sS(t.max,e,n,a,i)}function oS(t,e,[n,r,i],s,o){Nz(t,e[n],e[r],e[i],e.scale,s,o)}const Oz=["x","scaleX","originX"],Lz=["y","scaleY","originY"];function aS(t,e,n,r){oS(t.x,e,Oz,n?n.x:void 0,r?r.x:void 0),oS(t.y,e,Lz,n?n.y:void 0,r?r.y:void 0)}function lS(t){return t.translate===0&&t.scale===1}function pP(t){return lS(t.x)&&lS(t.y)}function ug(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function uS(t){return fn(t.x)/fn(t.y)}class Mz{constructor(){this.members=[]}add(e){Jv(this.members,e),e.scheduleRender()}remove(e){if(Zv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cS(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const $z=(t,e)=>t.depth-e.depth;class Vz{constructor(){this.children=[],this.isDirty=!1}add(e){Jv(this.children,e),this.isDirty=!0}remove(e){Zv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($z),this.isDirty=!1,this.children.forEach(e)}}function Fz(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Nr(r),t(s-e))};return We.read(r,!0),()=>Nr(r)}function Uz(t){window.MotionDebug&&window.MotionDebug.record(t)}function jz(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Bz(t,e,n){const r=rn(t)?t:bo(t);return r.start(Xv("",r,e,n)),r.animation}const hS=["","X","Y","Z"],fS=1e3;let zz=0;const Ui={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function mP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o,a={},l=e==null?void 0:e()){this.id=zz++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Ui.totalNodes=Ui.resolvedTargetDeltas=Ui.recalculatedProjection=0,this.nodes.forEach(Kz),this.nodes.forEach(Yz),this.nodes.forEach(Xz),this.nodes.forEach(qz),Uz(Ui)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=o,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,o&&this.root.registerPotentialNode(o,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Vz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new e0),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}registerPotentialNode(o,a){this.potentialNodes.set(o,a)}mount(o,a=!1){if(this.instance)return;this.isSVG=jz(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Fz(f,250),Oa.hasAnimatedSinceResize&&(Oa.hasAnimatedSinceResize=!1,this.nodes.forEach(pS))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||n5,{onLayoutAnimationStart:v,onLayoutAnimationComplete:y}=c.getProps(),p=!this.targetLayout||!ug(this.targetLayout,m)||d,g=!f&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const E={...tP(w,"layout"),onPlay:v,onComplete:y};(c.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E)}else!f&&this.animationProgress===0&&pS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dS);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(r5),this.potentialNodes.clear()),this.nodes.forEach(Qz),this.nodes.forEach(Hz),this.nodes.forEach(Wz),this.clearAllSnapshots(),ho.update.process(yt),ho.preRender.process(yt),ho.render.process(yt))}clearAllSnapshots(){this.nodes.forEach(Gz),this.sharedNodes.forEach(Zz)}scheduleUpdateProjection(){We.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!pP(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Fi(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),i5(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return et();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Hr(a.x,l.offset.x),Hr(a.y,l.offset.y)),a}removeElementScroll(o){const a=et();gn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){gn(a,o);const{scroll:f}=this.root;f&&(Hr(a.x,-f.offset.x),Hr(a.y,-f.offset.y))}Hr(a.x,c.offset.x),Hr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=et();gn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ys(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Fi(c.latestValues)&&Ys(l,c.latestValues)}return Fi(this.latestValues)&&Ys(l,this.latestValues),l}removeTransform(o){const a=et();gn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Fi(u.latestValues))continue;ag(u.latestValues)&&u.updateSnapshot();const c=et(),h=u.measurePageBox();gn(c,h),aS(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Fi(this.latestValues)&&aS(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Va(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),az(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gn(this.target,this.layout.layoutBox),uP(this.target,this.targetDelta)):gn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Va(this.relativeTargetOrigin,this.target,d.target),gn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ui.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ag(this.parent.latestValues)||lP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;gn(this.layoutCorrected,this.layout.layoutBox),gz(this.layoutCorrected,this.treeScale,this.path,l);const{target:f}=a;if(!f)return;this.projectionDelta||(this.projectionDelta=Fa(),this.projectionDeltaWithTransform=Fa());const d=this.treeScale.x,m=this.treeScale.y,w=this.projectionTransform;$a(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=cS(this.projectionDelta,this.treeScale),(this.projectionTransform!==w||this.treeScale.x!==d||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f)),Ui.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=Fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=et(),d=l?l.source:void 0,m=this.layout?this.layout.source:void 0,w=d!==m,v=this.getStack(),y=!v||v.members.length<=1,p=!!(w&&!y&&this.options.crossfade===!0&&!this.path.some(t5));this.animationProgress=0;let g;this.mixTargetDelta=E=>{const T=E/1e3;mS(h.x,o.x,T),mS(h.y,o.y,T),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Va(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),e5(this.relativeTarget,this.relativeTargetOrigin,f,T),g&&ug(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=et()),gn(g,this.relativeTarget)),w&&(this.animationValues=c,Rz(c,u,this.latestValues,T,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{Oa.hasAnimatedSinceResize=!0,this.currentAnimation=Bz(0,fS,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&gP(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||et();const h=fn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=fn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}gn(a,l),Ys(a,c),$a(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mz),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<hS.length;c++){const h="rotate"+hS[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=lc(o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=lc(o.pointerEvents)||""),this.hasProjected&&!Fi(this.latestValues)&&(w.transform=c?c({},""):"none",this.hasProjected=!1),w}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=cS(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:d,y:m}=this.projectionDelta;u.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in ph){if(f[w]===void 0)continue;const{correct:v,applyTo:y}=ph[w],p=u.transform==="none"?f[w]:v(f[w],h);if(y){const g=y.length;for(let E=0;E<g;E++)u[y[E]]=p}else u[w]=p}return this.options.layoutId&&(u.pointerEvents=h===this?lc(o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(dS),this.root.sharedNodes.clear()}}}function Hz(t){t.updateLayout()}function Wz(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Kn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],d=fn(f);f.min=r[h].min,f.max=f.min+d}):gP(s,n.layoutBox,r)&&Kn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],d=fn(r[h]);f.max=f.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+d)});const a=Fa();$a(a,r,n.layoutBox);const l=Fa();o?$a(l,t.applyTransform(i,!0),n.measuredBox):$a(l,r,n.layoutBox);const u=!pP(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:d}=h;if(f&&d){const m=et();Va(m,n.layoutBox,f.layoutBox);const w=et();Va(w,r,d.layoutBox),ug(m,w)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=m,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Kz(t){Ui.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Gz(t){t.clearSnapshot()}function dS(t){t.clearMeasurements()}function Qz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Yz(t){t.resolveTargetDelta()}function Xz(t){t.calcProjection()}function Jz(t){t.resetRotation()}function Zz(t){t.removeLeadSnapshot()}function mS(t,e,n){t.translate=He(e.translate,0,n),t.scale=He(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gS(t,e,n,r){t.min=He(e.min,n.min,r),t.max=He(e.max,n.max,r)}function e5(t,e,n,r){gS(t.x,e.x,n.x,r),gS(t.y,e.y,n.y,r)}function t5(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const n5={duration:.45,ease:[.4,0,.1,1]};function r5(t,e){let n=t.root;for(let s=t.path.length-1;s>=0;s--)if(t.path[s].instance){n=t.path[s];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function yS(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function i5(t){yS(t.x),yS(t.y)}function gP(t,e,n){return t==="position"||t==="preserve-aspect"&&!sg(uS(e),uS(n),.2)}const s5=mP({attachResizeListener:(t,e)=>wr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mp={current:void 0},yP=mP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mp.current){const t=new s5(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),mp.current=t}return mp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),o5={pan:{Feature:Cz},drag:{Feature:_z,ProjectionNode:yP,MeasureLayout:hP}},a5=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function l5(t){const e=a5.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function cg(t,e,n=1){const[r,i]=l5(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);return s?s.trim():Xm(i)?cg(i,e,n+1):i}function u5(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Xm(s))return;const o=cg(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Xm(s))continue;const o=cg(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const c5=new Set(["width","height","top","left","right","bottom","x","y"]),vP=t=>c5.has(t),h5=t=>Object.keys(t).some(vP),vS=t=>t===Cs||t===ie,wS=(t,e)=>parseFloat(t.split(", ")[e]),ES=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return wS(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?wS(s[1],t):0}},f5=new Set(["x","y","z"]),d5=iu.filter(t=>!f5.has(t));function p5(t){const e=[];return d5.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const SS={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ES(4,13),y:ES(5,14)},m5=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=SS[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=SS[u](l,s)}),t},g5=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(vP);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=aa(c);const f=e[l];let d;if(gh(f)){const m=f.length,w=f[0]===null?1:0;c=f[w],h=aa(c);for(let v=w;v<m&&f[v]!==null;v++)d?Wv(aa(f[v])===d):d=aa(f[v])}else d=aa(f);if(h!==d)if(vS(h)&&vS(d)){const m=u.get();typeof m=="string"&&u.set(parseFloat(m)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&d===ie&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(d!=null&&d.transform)&&(c===0||f===0)?c===0?u.set(d.transform(c)):e[l]=h.transform(f):(o||(s=p5(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=m5(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),Uf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function y5(t,e,n,r){return h5(e)?g5(t,e,n,r):{target:e,transitionEnd:r}}const v5=(t,e,n,r)=>{const i=u5(t,e,r);return e=i.target,r=i.transitionEnd,y5(t,e,n,r)},hg={current:null},wP={current:!1};function w5(){if(wP.current=!0,!!Uf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hg.current=t.matches;t.addListener(e),e()}else hg.current=!1}function E5(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(rn(s))t.addValue(i,s),Eh(r)&&r.add(i);else if(rn(o))t.addValue(i,bo(s,{owner:t})),Eh(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,bo(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const TS=new WeakMap,EP=Object.keys(_l),S5=EP.length,_S=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],T5=Mv.length;class _5{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>We.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Bf(n),this.isVariantNode=sA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const f=c[h];a[h]!==void 0&&rn(f)&&(f.set(a[h],!1),Eh(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,TS.set(e,this),this.projection&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),wP.current||w5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){TS.delete(this.current),this.projection&&this.projection.unmount(),Nr(this.notifyUpdate),Nr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=_s.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&We.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s,o){let a,l;for(let u=0;u<S5;u++){const c=EP[u],{isEnabled:h,Feature:f,ProjectionNode:d,MeasureLayout:m}=_l[c];d&&(a=d),h(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),m&&(l=m))}if(!this.projection&&a){this.projection=new a(s,this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:h,dragConstraints:f,layoutScroll:d,layoutRoot:m}=n;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!h||f&&Gs(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:o,layoutScroll:d,layoutRoot:m})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update(this.props,this.prevProps):(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<_S.length;r++){const i=_S[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=E5(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<T5;r++){const i=Mv[r],s=this.props[i];(Tl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Hv(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new e0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class SP extends _5{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=z4(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){j4(this,r,o);const a=v5(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function C5(t){return window.getComputedStyle(t)}class I5 extends SP{readValueFromInstance(e,n){if(_s.has(n)){const r=Qv(n);return r&&r.default||0}else{const r=C5(e),i=(hA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cP(e,n)}build(e,n,r,i){Vv(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return zv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){yA(e,n,r,i)}}class k5 extends SP{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(_s.has(n)){const r=Qv(n);return r&&r.default||0}return n=vA.has(n)?n:Bv(n),e.getAttribute(n)}measureInstanceViewportBox(){return et()}scrapeMotionValuesFromProps(e,n){return EA(e,n)}build(e,n,r,i){Uv(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){wA(e,n,r,i)}mount(e){this.isSVGTag=jv(e.tagName),super.mount(e)}}const x5=(t,e)=>$v(t)?new k5(e,{enableHardwareAcceleration:!1}):new I5(e,{enableHardwareAcceleration:!0}),A5={layout:{ProjectionNode:yP,MeasureLayout:hP}},P5={...rz,..._3,...o5,...A5},R5=DB((t,e)=>o3(t,e,P5,x5));const D5=t=>j.jsxs("svg",{onClick:t.onClick,width:"32",height:"32",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"pointer"},children:[j.jsx("path",{d:"M7 6.5C7 6.22386 6.77614 6 6.5 6C6.22386 6 6 6.22386 6 6.5V10.5C6 10.7761 6.22386 11 6.5 11C6.77614 11 7 10.7761 7 10.5V6.5Z",fill:"#1B2A32"}),j.jsx("path",{d:"M10 6.5C10 6.22386 9.77614 6 9.5 6C9.22386 6 9 6.22386 9 6.5V10.5C9 10.7761 9.22386 11 9.5 11C9.77614 11 10 10.7761 10 10.5V6.5Z",fill:"#1B2A32"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.5 0C5.94772 0 5.5 0.447715 5.5 1V2H1.5C1.22386 2 1 2.22386 1 2.5C1 2.77614 1.22386 3 1.5 3H2V8C2 9.57317 2.37841 11.6866 2.66798 13.0797C2.90508 14.2202 3.91734 15 5.06155 15H10.9384C12.0827 15 13.0949 14.2202 13.332 13.0797C13.6216 11.6866 14 9.57317 14 8V3H14.5C14.7761 3 15 2.77614 15 2.5C15 2.22386 14.7761 2 14.5 2H10.5V1C10.5 0.447715 10.0523 0 9.5 0H6.5ZM9.5 2H6.5V1H9.5V2ZM3 3H13V8C13 9.45997 12.6424 11.4836 12.3529 12.8761C12.2165 13.5326 11.6297 14 10.9384 14H5.06155C4.3703 14 3.78352 13.5326 3.64705 12.8761C3.35759 11.4836 3 9.45997 3 8V3Z",fill:"#1B2A32"})]}),b5=t=>{const e=tu();return j.jsxs(R5.div,{whileHover:{scale:1.1},className:"post__wrapper",children:[j.jsxs("div",{className:"post__content",children:[j.jsxs("div",{style:{display:"flex",alignItems:"center",columnGap:"15px"},children:[j.jsx("span",{className:"post__date",children:new Date(t.date).toLocaleDateString()}),j.jsx("span",{className:"post__title",children:t.title})]}),j.jsx("p",{className:"post__description",children:t.description})]}),j.jsx("div",{children:j.jsx(D5,{onClick:()=>e(Hj(t.id))})})]})},N5=t=>j.jsx("div",{className:"posts",children:t.posts.map(e=>j.jsx(b5,{...e},e.id))}),O5="_select__wrapper_91c2i_1",L5="_select__content_91c2i_17",CS={select__wrapper:O5,select__content:L5},M5="_select__option_5cxc6_1",$5={select__option:M5},V5=t=>j.jsx("div",{className:$5.select__option,onClick:t.onClose,children:t.text}),F5=()=>j.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[j.jsxs("g",{clipPath:"url(#clip0_161_80)",children:[j.jsx("path",{d:"M11.1464 14.8536C11.3417 15.0488 11.6583 15.0488 11.8536 14.8536L15.8536 10.8536C16.0488 10.6583 16.0488 10.3417 15.8536 10.1464C15.6583 9.95118 15.3417 9.95118 15.1464 10.1464L12 13.2929V3.5C12 3.22386 11.7761 3 11.5 3C11.2239 3 11 3.22386 11 3.5L11 13.2929L7.85355 10.1464C7.65829 9.95118 7.34171 9.95118 7.14645 10.1464C6.95119 10.3417 6.95119 10.6583 7.14645 10.8536L11.1464 14.8536Z",fill:"#0E1011"}),j.jsx("path",{d:"M4.14645 1.14645C4.34171 0.951184 4.65829 0.951184 4.85355 1.14645L8.85355 5.14645C9.04882 5.34171 9.04882 5.65829 8.85355 5.85355C8.65829 6.04882 8.34171 6.04882 8.14645 5.85355L5 2.70711L5 12.5C5 12.7761 4.77614 13 4.5 13C4.22386 13 4 12.7761 4 12.5L4 2.70711L0.853554 5.85355C0.658292 6.04882 0.34171 6.04882 0.146447 5.85355C-0.0488157 5.65829 -0.0488157 5.34171 0.146447 5.14645L4.14645 1.14645Z",fill:"#0E1011"})]}),j.jsx("defs",{children:j.jsx("clipPath",{id:"clip0_161_80",children:j.jsx("rect",{width:"16",height:"16",fill:"white"})})})]}),U5=t=>{const[e,n]=x.useState(!1),[r,i]=x.useState(t.defaultValue),s=x.useRef(null),o=l=>{t.onChange(l)},a=()=>{n(!1)};return x.useEffect(()=>{const l=u=>{(!s.current||!s.current.contains(u.target))&&a()};return document.addEventListener("mousedown",l),()=>{document.addEventListener("mousedown",l)}}),j.jsxs("div",{ref:s,className:CS.select__wrapper,onClick:l=>{n(!0)},children:[j.jsxs("div",{style:{display:"flex",columnGap:"15px",alignItems:"center"},children:[j.jsx(F5,{}),r]}),e&&j.jsx("div",{className:CS.select__content,children:t.options.map((l,u)=>j.jsx(V5,{...l,onClose:c=>{c.stopPropagation(),a(),o(l.value),i(l.text)}},u))})]})};const j5=()=>{const{id:t}=gs(f=>f.auth),{posts:e}=gs(f=>f.posts),[n,r]=x.useState(!1),[i,s]=x.useState("default"),[o,a]=x.useState(""),l=tu(),u=f=>{s(f)};x.useEffect(()=>{jx(l,t)},[]);const c=x.useMemo(()=>i==="by_date"?[...e].sort((f,d)=>f.date-d.date):i==="alphabet"?[...e].sort((f,d)=>f.title.localeCompare(d.title)):e,[i,e]),h=x.useMemo(()=>c.filter(f=>f.title.includes(o)),[o,c]);return j.jsxs("div",{className:"posts__wrapper",children:[j.jsxs("div",{className:"posts__controlls",children:[j.jsx("button",{className:"btn",onClick:()=>r(!0),children:"Создать пост"}),j.jsx(nA,{type:"text",placeholder:"Поиск",onChange:f=>a(f.target.value)}),j.jsx(U5,{onChange:u,defaultValue:"По умолчанию",options:[{value:"by_date",text:"По дате добавления"},{value:"alphabet",text:"По алфавиту A-я"}]})]}),j.jsx(N5,{posts:h}),j.jsx(Jj,{open:n,onClose:()=>r(!1),children:j.jsx(EB,{onClose:()=>r(!1)})}),!e.length&&j.jsx("h1",{children:"Заметок нет"})]})},B5=t=>[{path:"/",element:j.jsx(Yj,{}),children:[{index:!0,element:t?j.jsx(j5,{}):j.jsx(Xj,{})}]}],z5=()=>{const{accessToken:t}=gs(n=>n.auth),e=mN(B5(t));return j.jsx(uN,{router:e})};const H5=()=>j.jsx("div",{className:"fullscreen__wrapper",children:"Loading ..."});function W5(){const t=tu(),{accessToken:e,id:n,isLoading:r}=gs(i=>i.auth);return console.log(n),x.useLayoutEffect(()=>{t(sI(void 0)),Qm.onAuthStateChanged(i=>{t(i?rI({email:i.email,accessToken:i.accessToken,id:i.uid}):iI())})},[]),r?j.jsx(H5,{}):j.jsx(x.Suspense,{fallback:j.jsx(j.Fragment,{}),children:j.jsx(z5,{})})}yp.createRoot(document.getElementById("root")).render(j.jsx(CV,{store:Gj,children:j.jsx(W5,{})}));
